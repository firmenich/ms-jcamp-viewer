/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.0.79, Date: 2018-03-08T12:54Z */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=144)}([function(t,e,i){var r=i(2),n=i(22),s=i(13),o=i(14),a=i(19),u="prototype",h=function(t,e,i){var l,c,f,p,d=t&h.F,g=t&h.G,y=t&h.S,v=t&h.P,m=t&h.B,x=g?r:y?r[e]||(r[e]={}):(r[e]||{})[u],b=g?n:n[e]||(n[e]={}),k=b[u]||(b[u]={});for(l in g&&(i=e),i)f=((c=!d&&x&&void 0!==x[l])?x:i)[l],p=m&&c?a(f,r):v&&"function"==typeof f?a(Function.call,f):f,x&&o(x,l,f,t&h.U),b[l]!=f&&s(b,l,p),v&&k[l]!=f&&(k[l]=f)};r.core=n,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},function(t,e,i){var r=i(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r,n,s;n=[e],void 0===(s="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributeTo=function(t,e,i){var r;if(i)for(r in e)t.setAttributeNS(i,r,e[r]);else for(r in e)t.setAttribute(r,e[r])},t.mapEventEmission=function(t,e){e||(e=this);var i;for(var r in t)0==r.indexOf("on")&&"function"==typeof t[r]&&(i=(i=r.substring(2)).substring(0,1).toLowerCase()+i.substring(1),e.on&&function(r){e.on(i,function(){t[r].apply(e,arguments)})}(r))},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},t.throwError=function(t){console.error(t)},t.warn=function(t){console.warn(t)},t.isNumeric=function(t){return!Array.isArray(t)&&t-parseFloat(t)+1>=0},t.hue2rgb=i,t.hslToRgb=function(t,e,r){var n,s,o;if(0==e)n=s=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;n=i(u,a,t+1/3),s=i(u,a,t),o=i(u,a,t-1/3)}return[Math.round(255*n),Math.round(255*s),Math.round(255*o)]},t.saveDomAttributes=function(t,e,i){if(!t)return;t._savedAttributesIds=t._savedAttributesIds||[],t._savedAttributesIds.indexOf(i)>-1&&n(t,i);for(var r in t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i),e)t._savedAttributes[r]||(t._savedAttributes[r]=t.getAttribute(r)),t.setAttribute(r,e[r])},t.hasSavedAttribute=r,t.overwriteDomAttribute=function(t,e,i){r(t,e)&&(t._savedAttributes[e]=i)},t.restoreDomAttributes=n,t.debounce=function(t,e,i){var r;return function(){var n=this,s=arguments,o=i&&!r;clearTimeout(r),r=setTimeout(function(){r=null,i||t.apply(n,s)},e),o&&t.apply(n,s)}},t.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},t.reverseArray=function(t){var e=null,i=null,r=t.length;for(e=0,i=r-1;e<i;e+=1,i-=1){var n=t[e];t[e]=t[i],t[i]=n}return t},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},t.setCSS=function(t,e){var i=t.style;for(var r in e)i[r]=e[r]},t.ajaxGet=function(t){return new Promise(function(e,i){var r=new XMLHttpRequest;r.open(t.type||"GET",t.url,!0),t.json&&r.setRequestHeader("Accept","application/json"),r.onload=function(){if(200===r.status){var n=r.responseText;t.json&&(n=JSON.parse(n)),e(n)}else i(new Error("Request error: "+r.status))},r.onerror=function(){i(new Error("Network error: "+r.status))},r.send()})},t.extend=function t(){var i,r,n,s,o,h;var l=arguments[0];var c=1;var f=arguments.length;var p=!1;"boolean"==typeof l?(p=l,l=arguments[1]||{},c=2):("object"!==(void 0===l?"undefined":e(l))&&"function"!=typeof l||null==l)&&(l={});for(;c<f;++c)if(null!=(i=arguments[c]))for(r in i)n=l[r],s=i[r],l!==s&&(p&&s&&(u(s)||(o=a(s)))?(o?(o=!1,h=n&&a(n)?n:[]):h=n&&u(n)?n:{},l[r]=t(p,h,s)):void 0!==s&&(l[r]=s));return l},t.mix=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},t.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function r(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function n(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var r in t._savedAttributes)i[r]=t._savedAttributes[r];r=0;for(var n=t._savedAttributesIds.length;r<n;r++)for(var s in t._attributes[t._savedAttributesIds[r]])i[s]=t._attributes[t._savedAttributesIds[r]][s];for(var s in i)t.setAttribute(s,i[s])}}var s=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},u=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,i=s.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&s.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!r)return!1;for(e in t);return void 0===e||s.call(t,e)};t.default={},t.isArray=a,t.isPlainObject=u})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(58)("wks"),n=i(35),s=i(2).Symbol,o="function"==typeof s;(t.exports=function(t){return r[t]||(r[t]=o&&s[t]||(o?s:n)("Symbol."+t))}).store=r},function(t,e,i){t.exports=!i(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var r=i(1),n=i(104),s=i(23),o=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var r=i(25),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e,i){var r=i(24);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(8),n=i(34);t.exports=i(7)?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var r=i(2),n=i(13),s=i(12),o=i(35)("src"),a="toString",u=Function[a],h=(""+u).split(a);i(22).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,i,a){var u="function"==typeof i;u&&(s(i,"name")||n(i,"name",e)),t[e]!==i&&(u&&(s(i,o)||n(i,o,t[e]?""+t[e]:h.join(String(e)))),t===r?t[e]=i:a?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||u.call(this)})},function(t,e,i){var r=i(0),n=i(3),s=i(24),o=/"/g,a=function(t,e,i,r){var n=String(s(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(r).replace(o,"&quot;")+'"'),a+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(a),r(r.P+r.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){var r=i(52),n=i(24);t.exports=function(t){return r(n(t))}},function(t,e,i){var r=i(53),n=i(34),s=i(16),o=i(23),a=i(12),u=i(104),h=Object.getOwnPropertyDescriptor;e.f=i(7)?h:function(t,e){if(t=s(t),e=o(e,!0),u)try{return h(t,e)}catch(t){}if(a(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e,i){var r=i(12),n=i(10),s=i(76)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){var r=i(11);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var r=i(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var i=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,i){var r=i(0),n=i(22),s=i(3);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),r(r.S+r.F*s(function(){i(1)}),"Object",o)}},function(t,e,i){var r=i(19),n=i(52),s=i(10),o=i(9),a=i(93);t.exports=function(t,e){var i=1==t,u=2==t,h=3==t,l=4==t,c=6==t,f=5==t||c,p=e||a;return function(e,a,d){for(var g,y,v=s(e),m=n(v),x=r(a,d,3),b=o(m.length),k=0,M=i?p(e,b):u?p(e,0):void 0;b>k;k++)if((f||k in m)&&(y=x(g=m[k],k,v),t))if(i)M[k]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:M.push(g)}else if(l)return!1;return c?-1:h||l?l:M}}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),h(e,[{key:"init",value:function(t,e){var i=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),this.group.jsGraphIsShape=this,this.classes=[],this.transforms=[],this._data.masker){var r=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),r.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),r.appendChild(this.maskDomWrapper);var n=this._dom.cloneNode();r.appendChild(n),this.maskDom=n,this.graph.defs.appendChild(r)}return this.group&&(this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),this.group.addEventListener("mouseover",function(t){i.handleMouseOver(t)}),this.group.addEventListener("mouseout",function(t){i.handleMouseOut(t)}),this.group.addEventListener("mousedown",function(t){i.graph.focus(),i.handleMouseDown(t)}),this.group.addEventListener("click",this.handleClick.bind(this)),this.group.addEventListener("dblclick",function(t){i.handleDblClick(t)})),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(t){this._inDom&&!t&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden?this:(this.hidden=!0,this.isHTML()?this._dom.style.display="none":this.group.style.display="none",this)}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden?(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw(),this):this}},{key:"addClass",value:function(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}},{key:"removeClass",value:function(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}},{key:"setEventReceptacle",value:function(){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}},{key:"setSerie",value:function(t){if(t){if(this.serie=t,!t.getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){this.yAxis=t}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(t){return this.setProp("layer",t),this}},{key:"getLayer",value:function(){var t=this.getProp("layer");return void 0!==t?t:1}},{key:"draw",value:function(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms(),this):(this.updateLabels(),this))}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,r=this.properties.position.length;i<r;i++){var n=s.default.check(this.properties.position[i],function(t){return e.getRelativePosition(t)});this.properties.position[i]=n}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}},{key:"getProperties",value:function(t){return this.properties}},{key:"setProp",value:function(t,e,i){return this.properties=this.properties||{},this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e,this.emit("propertyChanged",t),this}},{key:"getProp",value:function(t,e){return(this.properties[t]||[])[e||0]}},{key:"getProps",value:function(t,e){return this.properties[t]||[]}},{key:"addProp",value:function(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}},{key:"resetProp",value:function(t){this.properties[t]=[]}},{key:"setDom",value:function(t,e,i){this._dom&&(i&&o.hasSavedAttribute(this._dom,t)||this._dom.setAttribute(t,e))}},{key:"setDomGroup",value:function(t,e){this.group&&this.group.setAttribute(t,e)}},{key:"setStrokeColor",value:function(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(t){return this.setProp("attributes",t),this}},{key:"overwriteSavedProp",value:function(t,e){o.overwriteDomAttribute(this._dom,t,e)}},{key:"addAttribute",value:function(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}},{key:"addTransform",value:function(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelText",t,e),this}},{key:"setLabelData",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setProp("labelData",e,i),this}},{key:"getLabelText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getProp("labelText",e)}},{key:"displayLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!0,t),this}},{key:"hideLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!1,t),this}},{key:"setLabelColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelColor",t,e),this}},{key:"setLabelFontSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelFontSize",t,e),this}},{key:"getLabelPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getProp("labelPosition",t)}},{key:"setLabelPosition",value:function(t,e){var i=s.default.check(t,function(t){return(void 0).getRelativePosition(t)});return this.setProp("labelPosition",i,e||0),this}},{key:"setLabelAngle",value:function(t,e){return this.setProp("labelAngle",t,e||0),this}},{key:"setLabelBaseline",value:function(t,e){return this.setProp("labelBaseline",t,e||0),this}},{key:"setLabelAnchor",value:function(t,e){return this.setProp("labelAnchor",t,e||0),this}},{key:"setLabelSize",value:function(t,e){return this.setProp("labelSize",t,e||0),this}},{key:"setLabelStrokeColor",value:function(t,e){return this.setProp("labelStrokeColor",t,e||0),this}},{key:"setLabelStrokeWidth",value:function(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}},{key:"setLabelBackgroundColor",value:function(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}},{key:"setLabelBackgroundOpacity",value:function(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var r in t[e])this.setDom(r,"function"==typeof t[e][r]?t[e][r].call(this,r):t[e][r],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(t){var e;if(e=t instanceof s.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(t){var e=this.getProp("position",t||0);return this.setProp("position",e=s.default.check(e),t),e}},{key:"setPosition",value:function(t,e){var i=this,r=s.default.check(t,function(t){return i.getRelativePosition(t)});return this.setProp("position",r,e||0)}},{key:"sortPositions",value:function(t){return this.getProps("position").sort(t),this}},{key:"_applyTransforms",value:function(){var t=this.getProp("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){switch(e+=t[i].type+"(",t[i].type){case"translate":var r=t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());e+=r.x,e+=", ",e+=r.y;break;case"rotate":if(e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length){var n=this.computePosition(0);e+=n.x+", "+n.y}else e+=s.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=s.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px","")}e+=") "}return this.setDomGroup("transform",e),this}}},{key:"makeLabels",value:function(){var t=this;this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(e){t.group.removeChild(e)}),this._labelsBackground.map(function(e){t.group.removeChild(e)}),this._labels=[],this._labelsBackground[e]=[];for(var e=0;void 0!==this.getProp("labelText",e);)this._labels[e]||(this._labels[e]=document.createElementNS(this.graph.ns,"text"),this._labels[e].setAttribute("data-label-i",e),this._labels[e].jsGraphIsShape=this,this._labelsBackground[e]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[e].setAttribute("data-label-i",e),this._labelsBackground[e].jsGraphIsShape=this,this.group.appendChild(this._labelsBackground[e]),this.group.appendChild(this._labels[e]),this._labels[e].addEventListener("dblclick",function(e){e.stopPropagation(),t.labelDblClickListener(e)}),this._labelsBackground[e].addEventListener("dblclick",function(e){e.stopPropagation(),t.labelDblClickListener(e)})),e++;return this.updateLabels(),this}},{key:"isLabelEditable",value:function(t){return this.getProp("labelEditable",t||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}},{key:"_applyLabelData",value:function(t){if(t=t||0,!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(s.default.check(this.getProp("labelPosition",t)));if(!isNaN(e.x)&&!isNaN(e.y)&&!1!==e.y&&!1!==e.x){"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var r=this._labels[t].getAttribute("x"),n=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform","rotate("+i+" "+r+" "+n+")")}var o=this.getProp("labelHTMLData",t)||{};for(var a in o)this._labels[t].setAttribute(a,o[a]),this._labelsBackground[t].setAttribute(a,o[a]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this._labels[t].setAttribute("font-size",this.getProp("labelSize",t)+"px"||"12px"),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"0px"),this._labels[t].setAttribute("stroke-location","outside");var u=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",u.x),this._labelsBackground[t].setAttribute("y",u.y),this._labelsBackground[t].setAttribute("width",u.width),this._labelsBackground[t].setAttribute("height",u.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}},{key:"_getLabelAnchor",value:function(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";case"left":default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}},{key:"addHandles",value:function(){if(!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];o.saveDomAttributes(this._dom,e,"select")}}},{key:"_unselect",value:function(t){this._selectStatus=!1,o.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(t){return this.selectStyle=t,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(t){this.setProp("staticHandles",t)}},{key:"hasStaticHandles",value:function(t){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(t,e,i,r){var n=this;if(!(this.handles&&this.handles.length>0)){for(var s=1,o=t;s<=o;s++)(function(t){var s=n,o=document.createElementNS(s.graph.ns,e);if(o.jsGraphIsShape=!0,i)for(var a in i)o.setAttribute(a,i[a]);o.addEventListener("mousedown",function(e){s.isResizable()&&(e.preventDefault(),e.stopPropagation(),s.graph.emit("beforeShapeResize",s),n.emit("beforeShapeResize"),s.graph.prevent(!1)||(s.resizing=!0,s.handleSelected=t,s.handleMouseDown(e)))}),r&&r(s.handles[t]),s.handles[t]=o}).call(this,s);return this.handles}}},{key:"createHandles",value:function(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0,this.moved=!1))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}},{key:"handleClick",value:function(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}},{key:"handleMouseMove",value:function(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;this.moved=!0;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),r=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);return 0==i&&0===r||(this.preventUnselect=!0),this._mouseCoords=e,this.handleMouseMoveImpl(t,i,r,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}},{key:"handleMouseUp",value:function(t){return this.moving&&this.moved&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}},{key:"handleDblClick",value:function(t){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(t){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),o.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}},{key:"unHighlight",value:function(t){return t||(t="highlight"),o.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(t){return this._highlightAttributes=t,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(t){var e=t.getMaskingID();e?this._dom.setAttribute("mask","url(#"+e+")"):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){}},{key:"labelDblClickListener",value:function(t){var e=parseInt(t.target.getAttribute("data-label-i")),i=this;if(!isNaN(e)&&this.isLabelEditable(e)){t.preventDefault(),t.stopPropagation();var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("value",i.getProp("labelText",e)),i.graph.wrapper.prepend(r),r.select(),o.setCSS(r,{position:"absolute",marginTop:parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});var n=i.getLabelText(e),s=function t(){i.setLabelText(r.value,e),i._labels[e].textContent=r.value;var s=r.value;r.remove(),r.removeEventListener("blur",t),r=!1,i.changed("shapeLabelChanged",{previousValue:n,nextValue:s})};r.addEventListener("blur",s),r.addEventListener("keyup",function(t){13===t.keyCode&&s()}),r.addEventListener("keypress",function(t){t.stopPropagation()}),r.addEventListener("keydown",function(t){t.stopPropagation()}),r.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(t){return this._forcedParentDom=t,this}},{key:"isHTML",value:function(){return!1}}]),e}();l.prototype.computePosition=l.prototype.calculatePosition,l.prototype.showLabel=l.prototype.displayLabel,l.prototype.remove=l.prototype.kill,e.default=l,t.exports=e.default},n=[t,e,i(55),i(5),i(56)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.options=Object.assign({},e.default(),i.constructor.default(),t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,null,[{key:"default",value:function(){return{}}}]),s(e,[{key:"init",value:function(t){this.graph=t}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(56)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){"use strict";if(i(7)){var r=i(36),n=i(2),s=i(3),o=i(0),a=i(68),u=i(99),h=i(19),l=i(42),c=i(34),f=i(13),p=i(44),d=i(25),g=i(9),y=i(130),v=i(38),m=i(23),x=i(12),b=i(54),k=i(4),M=i(10),S=i(90),A=i(39),_=i(18),w=i(40).f,P=i(92),C=i(35),L=i(6),O=i(27),E=i(59),T=i(66),X=i(95),D=i(49),j=i(63),I=i(41),N=i(94),Y=i(120),F=i(8),B=i(17),R=F.f,H=B.f,W=n.RangeError,z=n.TypeError,V=n.Uint8Array,G="ArrayBuffer",U="Shared"+G,Z="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=u.ArrayBuffer,Q=u.DataView,$=O(0),tt=O(2),et=O(3),it=O(4),rt=O(5),nt=O(6),st=E(!0),ot=E(!1),at=X.values,ut=X.keys,ht=X.entries,lt=K.lastIndexOf,ct=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,gt=K.slice,yt=K.toString,vt=K.toLocaleString,mt=L("iterator"),xt=L("toStringTag"),bt=C("typed_constructor"),kt=C("def_constructor"),Mt=a.CONSTR,St=a.TYPED,At=a.VIEW,_t="Wrong length!",wt=O(1,function(t,e){return Et(T(t,t[kt]),e)}),Pt=s(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ct=!!V&&!!V[q].set&&s(function(){new V(1).set({})}),Lt=function(t,e){var i=d(t);if(i<0||i%e)throw W("Wrong offset!");return i},Ot=function(t){if(k(t)&&St in t)return t;throw z(t+" is not a typed array!")},Et=function(t,e){if(!(k(t)&&bt in t))throw z("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Xt(T(t,t[kt]),e)},Xt=function(t,e){for(var i=0,r=e.length,n=Et(t,r);r>i;)n[i]=e[i++];return n},Dt=function(t,e,i){R(t,e,{get:function(){return this._d[i]}})},jt=function(t){var e,i,r,n,s,o,a=M(t),u=arguments.length,l=u>1?arguments[1]:void 0,c=void 0!==l,f=P(a);if(null!=f&&!S(f)){for(o=f.call(a),r=[],e=0;!(s=o.next()).done;e++)r.push(s.value);a=r}for(c&&u>2&&(l=h(l,arguments[2],2)),e=0,i=g(a.length),n=Et(this,i);i>e;e++)n[e]=c?l(a[e],e):a[e];return n},It=function(){for(var t=0,e=arguments.length,i=Et(this,e);e>t;)i[t]=arguments[t++];return i},Nt=!!V&&s(function(){vt.call(new V(1))}),Yt=function(){return vt.apply(Nt?gt.call(Ot(this)):Ot(this),arguments)},Ft={copyWithin:function(t,e){return Y.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Ot(this),arguments)},filter:function(t){return Tt(this,tt(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return st(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Ot(this),arguments)},lastIndexOf:function(t){return lt.apply(Ot(this),arguments)},map:function(t){return wt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Ot(this),arguments)},reduceRight:function(t){return ft.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,i=Ot(e).length,r=Math.floor(i/2),n=0;n<r;)t=e[n],e[n++]=e[--i],e[i]=t;return e},some:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ot(this),t)},subarray:function(t,e){var i=Ot(this),r=i.length,n=v(t,r);return new(T(i,i[kt]))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,g((void 0===e?r:v(e,r))-n))}},Bt=function(t,e){return Tt(this,gt.call(Ot(this),t,e))},Rt=function(t){Ot(this);var e=Lt(arguments[1],1),i=this.length,r=M(t),n=g(r.length),s=0;if(n+e>i)throw W(_t);for(;s<n;)this[e+s]=r[s++]},Ht={entries:function(){return ht.call(Ot(this))},keys:function(){return ut.call(Ot(this))},values:function(){return at.call(Ot(this))}},Wt=function(t,e){return k(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return Wt(t,e=m(e,!0))?c(2,t[e]):H(t,e)},Vt=function(t,e,i){return!(Wt(t,e=m(e,!0))&&k(i)&&x(i,"value"))||x(i,"get")||x(i,"set")||i.configurable||x(i,"writable")&&!i.writable||x(i,"enumerable")&&!i.enumerable?R(t,e,i):(t[e]=i.value,t)};Mt||(B.f=zt,F.f=Vt),o(o.S+o.F*!Mt,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Vt}),s(function(){yt.call({})})&&(yt=vt=function(){return pt.call(this)});var Gt=p({},Ft);p(Gt,Ht),f(Gt,mt,Ht.values),p(Gt,{slice:Bt,set:Rt,constructor:function(){},toString:yt,toLocaleString:Yt}),Dt(Gt,"buffer","b"),Dt(Gt,"byteOffset","o"),Dt(Gt,"byteLength","l"),Dt(Gt,"length","e"),R(Gt,xt,{get:function(){return this[St]}}),t.exports=function(t,e,i,u){var h=t+((u=!!u)?"Clamped":"")+"Array",c="get"+t,p="set"+t,d=n[h],v=d||{},m=d&&_(d),x=!d||!a.ABV,M={},S=d&&d[q],P=function(t,i){R(t,i,{get:function(){return t=i,(r=this._d).v[c](t*e+r.o,Pt);var t,r},set:function(t){return r=i,n=t,s=this._d,u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),void s.v[p](r*e+s.o,n,Pt);var r,n,s},enumerable:!0})};x?(d=i(function(t,i,r,n){l(t,d,h,"_d");var s,o,a,u,c=0,p=0;if(k(i)){if(!(i instanceof J||(u=b(i))==G||u==U))return St in i?Xt(d,i):jt.call(d,i);s=i,p=Lt(r,e);var v=i.byteLength;if(void 0===n){if(v%e)throw W(_t);if((o=v-p)<0)throw W(_t)}else if((o=g(n)*e)+p>v)throw W(_t);a=o/e}else a=y(i),s=new J(o=a*e);for(f(t,"_d",{b:s,o:p,l:o,e:a,v:new Q(s)});c<a;)P(t,c++)}),S=d[q]=A(Gt),f(S,"constructor",d)):s(function(){d(1)})&&s(function(){new d(-1)})&&j(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=i(function(t,i,r,n){var s;return l(t,d,h),k(i)?i instanceof J||(s=b(i))==G||s==U?void 0!==n?new v(i,Lt(r,e),n):void 0!==r?new v(i,Lt(r,e)):new v(i):St in i?Xt(d,i):jt.call(d,i):new v(y(i))}),$(m!==Function.prototype?w(v).concat(w(m)):w(v),function(t){t in d||f(d,t,v[t])}),d[q]=S,r||(S.constructor=d));var C=S[mt],L=!!C&&("values"==C.name||null==C.name),O=Ht.values;f(d,bt,!0),f(S,St,h),f(S,At,!0),f(S,kt,d),(u?new d(1)[xt]==h:xt in S)||R(S,xt,{get:function(){return h}}),M[h]=d,o(o.G+o.W+o.F*(d!=v),M),o(o.S,h,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*s(function(){v.of.call(d,1)}),h,{from:jt,of:It}),Z in S||f(S,Z,e),o(o.P,h,Ft),I(h),o(o.P+o.F*Ct,h,{set:Rt}),o(o.P+o.F*!L,h,Ht),r||S.toString==yt||(S.toString=yt),o(o.P+o.F*s(function(){new d(1).slice()}),h,{slice:Bt}),o(o.P+o.F*(s(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!s(function(){S.toLocaleString.call([1,2])})),h,{toLocaleString:Yt}),D[h]=L?C:O,r||L||f(S,mt,O)}}else t.exports=function(){}},function(t,e,i){var r=i(125),n=i(0),s=i(58)("metadata"),o=s.store||(s.store=new(i(128))),a=function(t,e,i){var n=o.get(t);if(!n){if(!i)return;o.set(t,n=new r)}var s=n.get(e);if(!s){if(!i)return;n.set(e,s=new r)}return s};t.exports={store:o,map:a,has:function(t,e,i){var r=a(e,i,!1);return void 0!==r&&r.has(t)},get:function(t,e,i){var r=a(e,i,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,i,r){a(i,r,!0).set(t,e)},keys:function(t,e){var i=a(t,e,!1),r=[];return i&&i.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){n(n.S,"Reflect",t)}}},function(t,e,i){var r=i(35)("meta"),n=i(4),s=i(12),o=i(8).f,a=0,u=Object.isExtensible||function(){return!0},h=!i(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!s(t,r)&&l(t),t}}},function(t,e,i){var r=i(6)("unscopables"),n=Array.prototype;null==n[r]&&i(13)(n,r,{}),t.exports=function(t){n[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var r=i(106),n=i(77);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e,i){var r=i(25),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):s(t,e)}},function(t,e,i){var r=i(1),n=i(107),s=i(77),o=i(76)("IE_PROTO"),a=function(){},u="prototype",h=function(){var t,e=i(74)("iframe"),r=s.length;for(e.style.display="none",i(78).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;r--;)delete h[u][s[r]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(a[u]=r(t),i=new a,a[u]=null,i[o]=t):i=h(),void 0===e?i:n(i,e)}},function(t,e,i){var r=i(106),n=i(77).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e,i){"use strict";var r=i(2),n=i(8),s=i(7),o=i(6)("species");t.exports=function(t){var e=r[t];s&&e&&!e[o]&&n.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var r=i(19),n=i(118),s=i(90),o=i(1),a=i(9),u=i(92),h={},l={};(e=t.exports=function(t,e,i,c,f){var p,d,g,y,v=f?function(){return t}:u(t),m=r(i,c,e?2:1),x=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(s(v)){for(p=a(t.length);p>x;x++)if((y=e?m(o(d=t[x])[0],d[1]):m(t[x]))===h||y===l)return y}else for(g=v.call(t);!(d=g.next()).done;)if((y=n(g,m,d.value,e))===h||y===l)return y}).BREAK=h,e.RETURN=l},function(t,e,i){var r=i(14);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(i),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),u=l(n),h=l(s);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){n=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var p=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var d={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},g={shape:"circle",r:4},y=new Map,v=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));for(var s in n._creation=a.guid(),n._drawn=!1,t!==Object(t)||t instanceof HTMLElement?"string"==typeof t?t=document.getElementById(t):"number"==typeof t.length&&(t=t[0]):(r=i,i=t,t=null),n.options=a.extend({},d,i),function(){this.dom=document.createElementNS(v.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttributeTo(this.dom,{xmlns:v.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{a.setAttributeTo(this.dom,{"data-jsgraph-version":"v2.0.79"})}catch(t){}this.defs=document.createElementNS(v.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(v.ns,"g"),this.rectEvent=document.createElementNS(v.ns,"rect"),a.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(v.ns,"text"),this.setTitle(this.options.title),a.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(v.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(v.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(v.ns,"g"),this.groupPrimaryGrids=document.createElementNS(v.ns,"g"),this.groupSecondaryGrids=document.createElementNS(v.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(v.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(v.ns,"clipPath"),this.clip.setAttribute("id","_clipplot"+this._creation),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(v.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow"+this._creation),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var t,e=document.createElementNS(v.ns,"path");e.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(e),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(v.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_"+this.getId()),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8"),(t=document.createElementNS(v.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","8"),t.setAttribute("x2","6"),t.setAttribute("y2","0"),t.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(t),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(v.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_"+this.getId()),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6"),(t=document.createElementNS(v.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","0"),t.setAttribute("x2","8"),t.setAttribute("y2","6"),t.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(t),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(v.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline"+this._creation),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var i=document.createElementNS(v.ns,"path");i.setAttribute("d","M 0 -10 L 0 10"),i.setAttribute("stroke","black"),this.vertLineArrow.appendChild(i),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}.bind(n)(),t&&n.setWrapper(t),n.prevented=!1,n.axis={left:[],top:[],bottom:[],right:[]},n.shapes=[],n.shapesLocked=!1,n.plugins={},n.options.pluginAction)n.options.pluginAction.plugin=s,n.options.mouseActions.push(n.options.pluginAction);if(n.selectedShapes=[],n.series=[],n._axesHaveChanged=!0,n.options.hasOwnProperty("padding")&&a.isNumeric(n.options.padding)&&(n.options.paddingTop=n.options.paddingBottom=n.options.paddingLeft=n.options.paddingRight=n.options.padding),n.currentAction=!1,n.ns=e.ns,n.nsxlink=e.nsxlink,r)for(var s in r)for(var o=0,u=r[s].length;o<u;o++)switch(s){case"top":n.getTopAxis(o,r[s][o]);break;case"left":n.getLeftAxis(o,r[s][o]);break;case"right":n.getRightAxis(o,r[s][o]);break;case"bottom":n.getBottomAxis(o,r[s][o])}return n._pluginsInit(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),p(e,[{key:"setWrapper",value:function(t){if(!t)throw new Error("The wrapper DOM element was not found.");if(!t.appendChild)throw new Error("The wrapper appears to be an invalid HTMLElement");if(t.style["-webkit-user-select"]="none",t.style["-moz-user-select"]="none",t.style["-o-user-select"]="none",t.style["-ms-user-select"]="none",t.style["user-select"]="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width,10),r=parseInt(e.height,10);this.setSize(i,r),this._resize()}t.appendChild(this.dom),function(t){if(!t.wrapper)throw"No wrapper exists. Cannot register the events.";t.dom.setAttribute("tabindex",0),t.dom.addEventListener("keydown",function(e){x(t,e,"keydown")}),t.dom.addEventListener("keypress",function(e){x(t,e,"keypress")}),t.dom.addEventListener("keyup",function(e){x(t,e,"keyup")}),t.dom.addEventListener("mousemove",function(e){var i=t._getXY(e);!function(t,e,i,r){if(t.bypassHandleMouse)return void t.bypassHandleMouse.handleMouseMove(r);if(t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseMove",[t,e,i,r]))return;var n;if(t._applyToAxes("handleMouseMove",[e-t.options.paddingLeft,r],!0,!1),t._applyToAxes("handleMouseMove",[i-t.options.paddingTop,r],!1,!0),!t.activePlugin&&t.options.trackingLine&&t.options.trackingLine.enable&&t.options.trackingLine.snapToSerie&&"common"==t.options.trackingLine.mode){var s=t.options.trackingLine.snapToSerie;if(n=s.handleMouseMove(!1,!0),this.trackingObject)if(n){t.trackingObject.show(),t.trackingObject.getPosition(0).x=n.xClosest,t.trackingObject.getPosition(1).x=n.xClosest,t.trackingObject.redraw();var e=s.getXAxis().getPx(n.xClosest)+t.options.paddingLeft}else t.trackingObject.hide();var o=t.options.trackingLine.series;o||(o=t.getSeries().map(function(t){return{serie:t,withinPx:20,withinVal:-1}})),t._trackingLegend=k(t,o,e,i,t._trackingLegend,t.options.trackingLine.textMethod,n.xClosest)}if(t.options.onMouseMoveData){for(var a={},u=0;u<t.series.length;u++)a[t.series[u].getName()]=t.series[u].handleMouseMove(!1,!0);t.options.onMouseMoveData.call(t,r,a)}b(t,r,[t,e,i,r],"onMouseMove")}(t,i.x,i.y,e)}),t.dom.addEventListener("mouseleave",function(e){var i;(i=t).options.handleMouseLeave&&i.options.handleMouseLeave.call(i)}),t.groupEvent.addEventListener("mousedown",function(e){if(t.focus(),3!=e.which&&!e.ctrlKey){var i=t._getXY(e);!function(t,e,i,r){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,"onMouseDown",[t,e,i,r]);t.activePlugin&&(t.activePlugin=!1);b(t,r,[t,e,i,r],"onMouseDown")}(t,i.x,i.y,e)}}),t.dom.addEventListener("mouseup",function(e){t.emit("mouseUp",e);var i=t._getXY(e);!function(t,e,i,r){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(r),void(t.activePlugin=!1);t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,r]),t.activePlugin=!1}(t,i.x,i.y,e)}),t.wrapper.addEventListener("mouseup",function(t){t.stopPropagation()}),t.dom.addEventListener("dblclick",function(e){t.emit("dblClick",e);var i=t._getXY(e);!function(t,e,i,r){t.options.dblclick;b(t,r,[e,i,r],"onDblClick")}(t,i.x,i.y,e)}),t.groupEvent.addEventListener("click",function(e){if(3!=e.which&&!e.ctrlKey){var i,r,n,s,o=t._getXY(e);t.prevent(!1)||(i=t,r=o.x,n=o.y,s=e,i.emit("click",[i,r,n,s]),b(i,s,[r,n,s],"onClick"),s.target.jsGraphIsShape||i.prevent(!1)||!i.options.shapesUnselectOnClick||i.unselectShapes())}}),t.groupEvent.addEventListener("mousewheel",function(e){var i=e.wheelDeltaY||e.wheelDelta||-e.deltaY,r=t._getXY(e);return w(t,i,r.x,r.y,e),!1}),t.groupEvent.addEventListener("wheel",function(e){var i=t._getXY(e),r=e.wheelDeltaY||e.wheelDelta||-e.deltaY;return w(t,r,i.x,i.y,e),!1})}(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(t,e){return this.options[t]=e,this}},{key:"setTitle",value:function(t){this.options.title=t,this.domTitle.textContent=t}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(t,e){var i,r,n,s;if(this.width&&this.height)return this.sizeSet?!t||e||(s=(n=this)._axesHaveChanged,n._axesHaveChanged=!1,s)||(r=(i=this)._sizeChanged,i._sizeChanged=!1,r)?(this.executeRedrawSlaves(),function(t){var e={top:[],bottom:[],left:[],right:[]},i={top:[],bottom:[],left:[],right:[]};t._painted=!0,t._applyToAxes(function(t,r){if(t.isShown()){if(t.showGroup(),!t.floating){var n=m(t.getSpan(),i[r]);t.setLevel(n),e[r][n]=Math.max(t.getAxisPosition(),e[r][n]||0)}}else t.hideGroup()},!1,!0,!1);var r=e.top.reduce(function(t,e){return t+e},0),n=e.bottom.reduce(function(t,e){return t+e},0);t.drawingSpaceHeight=t.getDrawingHeight()-r-n,[e.top,e.bottom].map(function(t){t.reduce(function(e,i,r){return t[r]=e+i,e+i},0)}),t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&t.setShift(e[i][t.getLevel()])},!1,!0,!1),t._applyToAxes(function(s,o){if(s.isShown()?s.showGroup():s.hideGroup(),s.setMinPx(r),s.setMaxPx(t.getDrawingHeight(!0)-n),!s.floating){var a=s.linkedToAxis?0:s.draw();if(s.isShown()){var u=m(s.getSpan(),i[o]);s.setLevel(u),e[o][u]=Math.max(a,e[o][u]||0)}}},!1,!1,!0);var s=a.extend(!0,{},e);t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&(s[i][t.getLevel()]=Math.max(e[i][t.getLevel()],t.equalizePosition(e[i][t.getLevel()])))},!1,!1,!0);var o=(e=s).left.reduce(function(t,e){return t+e},0),u=e.right.reduce(function(t,e){return t+e},0);t.drawingSpaceWidth=t.getDrawingWidth()-o-u,[e.left,e.right].map(function(t){t.reduce(function(e,i,r){return t[r]=e+i,e+i},0)}),t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&t.setShift(e[i][t.getLevel()])},!1,!1,!0),t._applyToAxes(function(e,i){e.isShown(),e.setMinPx(o),e.setMaxPx(t.getDrawingWidth(!0)-u),e.floating||e.linkedToAxis||e.draw()},!1,!0,!1),t._applyToAxes(function(t){if(t.floating){var e=t.getFloatingAxis(),i=t.getFloatingValue(),r=e.getPx(i);t.setShift(r),t.linkedToAxis||t.draw()}},!1,!0,!0),_(t,"right",t.getDrawingWidth(!0),t.getDrawingWidth(!0),r,t.getDrawingHeight(!0)-n),_(t,"left",0,0,r,t.getDrawingHeight(!0)-n),_(t,"top",o,t.getDrawingWidth(!0)-u,0,0),_(t,"bottom",o,t.getDrawingWidth(!0)-u,t.getDrawingHeight(!0)-n,t.getDrawingHeight(!0)-n),t.clipRect.setAttribute("y",r),t.clipRect.setAttribute("x",o),t.clipRect.setAttribute("width",t.getDrawingWidth()-o-u),t.clipRect.setAttribute("height",t.getDrawingHeight()-r-n),t.rectEvent.setAttribute("y",r+t.getPaddingTop()),t.rectEvent.setAttribute("x",o+t.getPaddingLeft()),t.rectEvent.setAttribute("width",t.drawingSpaceWidth),t.rectEvent.setAttribute("height",t.drawingSpaceHeight),t.drawingSpaceMinX=o+t.getPaddingLeft(),t.drawingSpaceMinY=r+t.getPaddingTop(),t.drawingSpaceMaxX=t.getDrawingWidth()-u+t.getPaddingLeft(),t.drawingSpaceMaxY=t.getDrawingHeight()-n+t.getPaddingTop(),t._applyToAxes(function(t,e){t.isShown()&&t.drawLines()},!1,!0,!0),t.shift=e,t.redrawShapes()}(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(){this._pluginsExecute("preDraw")}},{key:"draw",value:function(t){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(t,e){this.width=t,e||this._resize()}},{key:"setHeight",value:function(t,e){this.height=t,e||this._resize()}},{key:"resize",value:function(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}},{key:"setSize",value:function(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(t){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(t){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=a.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getXAxis",value:function(t,e){return this.axis.top.length>0&&0==this.axis.bottom.length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}},{key:"getYAxis",value:function(t,e){return this.axis.right.length>0&&0==this.axis.left.length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}},{key:"getTopAxis",value:function(t,e){return A(this,t,e,"top")}},{key:"getBottomAxis",value:function(t,e){return A(this,t,e,"bottom")}},{key:"getLeftAxis",value:function(t,e){return A(this,t,e,"left")}},{key:"getRightAxis",value:function(t,e){return A(this,t,e,"right")}},{key:"setXAxis",value:function(t,e){this.setBottomAxis(t,e)}},{key:"setYAxis",value:function(t,e){this.setLeftAxis(t,e)}},{key:"setLeftAxis",value:function(t,e){e=e||0,this.axis.left[e]&&this.axis.left[e].kill(),this.axis.left[e]=t}},{key:"setRightAxis",value:function(t,e){e=e||0,this.axis.right[e]&&this.axis.right[e].kill(),this.axis.right[e]=t}},{key:"setTopAxis",value:function(t,e){e=e||0,this.axis.top[e]&&this.axis.top[e].kill(),this.axis.top[e]=t}},{key:"setBottomAxis",value:function(t,e){e=e||0,this.axis.bottom[e]&&this.axis.bottom[e].kill(),this.axis.bottom[e]=t}},{key:"killAxis",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.isX()&&((e=this.axis.bottom.indexOf(t))>-1&&this.axis.bottom.splice(e,1),(e=this.axis.top.indexOf(t))>-1&&this.axis.top.splice(e,1),r||this.series.forEach(function(e){e.getXAxis()==t&&e.kill()})),t.isY()&&((e=this.axis.left.indexOf(t))>-1&&this.axis.left.splice(e,1),(e=this.axis.right.indexOf(t))>-1&&this.axis.right.splice(e,1),r||this.series.forEach(function(e){e.getYAxis()==t&&e.kill()})),this.axisGroup.removeChild(t.group),this.groupPrimaryGrids.removeChild(t.gridPrimary),this.groupSecondaryGrids.removeChild(t.gridSecondary),i||this.draw(!0)}},{key:"hasXAxis",value:function(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}},{key:"hasYAxis",value:function(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}},{key:"hasTopAxis",value:function(t){return this.hasAxis(t,this.axis.top)}},{key:"hasBottomAxis",value:function(t){return this.hasAxis(t,this.axis.bottom)}},{key:"hasLeftAxis",value:function(t){return this.hasAxis(t,this.axis.left)}},{key:"hasRightAxis",value:function(t){return this.hasAxis(t,this.axis.right)}},{key:"hasAxis",value:function(t,e){for(var i=0,r=e.length;i<r;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(t){return t?(t.setMinMaxToFitSeries(),this):this}},{key:"setBackgroundColor",value:function(t){return this.rectEvent.setAttribute("fill",t),this}},{key:"getAxisState",value:function(){var t={};for(var e in this.axis)t[e]=this.axis[e].map(function(t){return[t.getCurrentMin(),t.getCurrentMax()]});return t}},{key:"setAxisState",value:function(t){var e,i;for(var r in t)if(this.axis[r])for(e=0,i=t[r].length;e<i;e++)this.axis[r][e]&&(this.axis[r][e].setCurrentMin(t[r][e][0]),this.axis[r][e].setCurrentMax(t[r][e][1]));this.draw()}},{key:"saveAxisState",value:function(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}},{key:"recallAxisState",value:function(t){return this.savedAxisState[t]&&this.recallAxisState(this.savedAxisState[t]),this}},{key:"_applyToAxis",value:function(t){switch(t){case"string":return function(t,e,i){for(var r=0;r<this.axis[t].length;r++)this.axis[t][r][e].apply(this.axis[t][r],i)};case"function":return function(t,e,i){for(var r=0;r<this.axis[t].length;r++)e.call(this,this.axis[t][r],t,i)};default:throw new Error("You must either execute a function or provide a string that registers a function")}}},{key:"getBoundaryAxis",value:function(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}},{key:"getBoundaryAxisFromSeries",value:function(t,e,i){var r,n,s,o,a,u,h="min"==e,l=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[h?0:1],c=h?1/0:-1/0;for(r=c,a=0,u=(s=this.getSeriesFromAxis(t)).length;a<u;a++)(n=s[a]).isShown()&&(o=n[l](i),r=Math[e](isNaN(r)?c:r,isNaN(o)?c:o));return r}},{key:"getSeriesFromAxis",value:function(t){for(var e=[],i=this.series.length-1;i>=0;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}},{key:"updateDataMinMaxAxes",value:function(t){var e,i,r,n,s=["bottom","top","left","right"];for(i=0,r=s.length;i<r;i++)for(n=this.axis[s[i]].length-1;n>=0;n--){(e=this.axis[s[i]][n]).isShown();var o=this.getBoundaryAxis(this.axis[s[i]][n],"min",t),a=this.getBoundaryAxis(this.axis[s[i]][n],"max",t);isFinite(a)&&e.setMaxValueData(a),isFinite(o)&&e.setMinValueData(o)}}},{key:"_applyToAxes",value:function(t,e,i,r){var n,s=[],o=0;for((i||null==i)&&(s.push("top"),s.push("bottom")),(r||null==r)&&(s.push("left"),s.push("right")),n=s.length;o<n;o++)this._applyToAxis(void 0===t?"undefined":f(t)).call(this,s[o],t,e)}},{key:"findAxesLinkedTo",value:function(t){var e=[];return this._applyToAxes(function(i){i.linkedToAxis&&i.linkedToAxis.axis==t&&e.push(i)},{},t instanceof this.getConstructor("graph.axis.x"),t instanceof this.getConstructor("graph.axis.y")),e}},{key:"_axisHasChanged",value:function(){this._axesHaveChanged=!0}},{key:"newSerie",value:function(t,i,r){var n=void 0;return"object"===(void 0===i?"undefined":f(i))||r||(r=i,i={}),r||(r=e.SERIE_LINE),(n=this.getSerie(t))?n:(n=function(t,e,i,r){var n=t.getConstructor(r,!0);n||"string"!=typeof r||(n=t.getConstructor("graph.serie."+r,!0));{if(!n)return a.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var s=new n(t,e,i);t.appendSerieToDom(s)}return s}(this,t,i,r))?(this.series.push(n),this.emit("newSerie",n),n):void 0}},{key:"getSerie",value:function(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.series.filter(function(t){return e.include(t.getType())})}},{key:"drawSerie",value:function(t,e){if(!t.draw)throw new Error("Serie has no method draw");t.draw(e)}},{key:"drawSeries",value:function(t){if(this.width&&this.height)for(var e=this.series.length-1;e>=0;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(t,e){"object"!=(void 0===t?"undefined":f(t))&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(t){t.unselect&&(t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t))}},{key:"getShapesOfSerie",value:function(t){for(var e=[],i=this.shapes.length-1;i>=0;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}},{key:"makeToolbar",value:function(t){var e=this.getConstructor("graph.toolbar");return e?this.toolbar=new e(this,t):a.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(t,e){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments[3];if(this.prevent(!1),!r&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;if("object"==(void 0===t?"undefined":f(t))&&(r=e,t=(e=t).type),(e=e||{})._id=a.guid(),!(i="function"==typeof t?t:this.getConstructor("graph.shape."+t)))return a.throwError("No constructor for this shape");var s=new i(this,e);if(!s)return a.throwError("Failed to construct shape.");if(s.type=t,s.graph=this,s._data=e,void 0!==e.properties&&s.setProperties(e.properties),s.init(this,n),void 0!==e.props)for(var u in e.props)s.setProp(u,e.props[u]);if(e.position){u=0;for(var h=e.position.length;u<h;u++)s.setPosition(new o.default(e.position[u]),u)}if(void 0!==e.fillColor&&s.setFillColor(e.fillColor),void 0!==e.fillOpacity&&s.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&s.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&s.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&s.setLayer(e.layer),1==e.locked&&s.lock(),1==e.movable&&s.movable(),1==e.selectable&&s.selectable(),1==e.resizable&&s.resizable(),void 0!==e.attributes&&s.setProp("attributes",e.attributes),void 0!==e.handles&&s.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&s.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&s.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach(function(t){var e=t.type,i=t.value;s.addTransform(e,i)}),void 0!==e.highlightOnMouseOver&&s.setProp("highlightOnMouseOver",!0),e.labelEditable&&s.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label){Array.isArray(e.label)||(e.label=[e.label]);for(u=0,h=e.label.length;u<h;u++)s.showLabel(u),s.setLabelText(e.label[u].text,u),s.setLabelPosition(e.label[u].position,u),s.setLabelColor(e.label[u].color||"black",u),s.setLabelSize(e.label[u].size,u),s.setLabelAngle(e.label[u].angle||0,u),s.setLabelBaseline(e.label[u].baseline||"no-change",u),s.setLabelAnchor(e.label[u].anchor||"start",u),s.setLabelBackgroundColor(e.label[u].backgroundColor||"transparent",u),s.setLabelBackgroundOpacity(e.label[u].backgroundOpacity||1,u)}return e.serie&&s.setSerie(this.getSerie(e.serie)),s.createHandles(),s.applyStyle(),this.shapes.push(s),r||this.emit("newShape",s,e),s}},{key:"newPosition",value:function(t){return new(Function.prototype.bind.apply(o.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"redrawShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}},{key:"removeShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(t,e){if(t){if(this.selectedShapes.indexOf(t)>-1)return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(this.selectedShapes.length>0&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}},{key:"unselectShapes",value:function(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}},{key:"_removeShape",value:function(t){this.shapes.splice(this.shapes.indexOf(t),1)}},{key:"appendShapeToDom",value:function(t){t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.group)}},{key:"removeShapeFromDom",value:function(t){t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group)}},{key:"appendSerieToDom",value:function(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}},{key:"removeSerieFromDom",value:function(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}},{key:"getLayer",value:function(t,i){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(e.ns,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(e.ns,"g"),this.layers[t][2]=document.createElementNS(e.ns,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var r,n=1;!(r=this.layers[t-n])&&t-n>=0;)n++;r?r.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],r.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==i?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(t){this.bypassHandleMouse=t}},{key:"stopElementMoving",value:function(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var t=["top","bottom","left","right"],i=0;i<4;i++){var r=document.createElementNS(e.ns,"line");r.setAttribute("stroke",this.options.closeColor),r.setAttribute("shape-rendering","crispEdges"),r.setAttribute("stroke-linecap","square"),r.setAttribute("display","none"),this.closingLines[t[i]]=r,this.graphingZone.appendChild(r)}}},{key:"isActionAllowed",value:function(t,e){if((e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):e.enabled))){if(e.key&&e.key!==t.keyCode){if({backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39}[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}},{key:"forcePlugin",value:function(t){this.forcedPlugin=t}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n in this.plugins)this.plugins[n]&&this.plugins[n][t]&&this.plugins[n][t].apply(this.plugins[n],i)}},{key:"_pluginExecute",value:function(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(t,e,i){"object"!==(void 0===t?"undefined":f(t))&&(t=this.getSerie(t)),"function"==typeof t[e]&&t.apply(t,i)}},{key:"_pluginsInit",value:function(){var t,e,i;for(var r in this.options.plugins)e=r,i=this.options.plugins[r],(t=this.getConstructor("graph.plugin."+e))?(this.plugins[e]=new t(i),a.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):a.throwError('Plugin "'+e+'" has not been registered')}},{key:"getPlugin",value:function(t){var e=this.plugins[t];return e||a.throwError('Plugin "'+t+'" has not been loaded or properly registered')}},{key:"triggerEvent",value:function(){var t=arguments[0];if("function"==typeof this.options[t])return this.options[t].apply(this,arguments)}},{key:"makeLegend",value:function(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):a.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(t),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(){this.options.zAxis=a.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var t=this;this.zAxis||(this.zAxis={g:document.createElementNS(e.ns,"g"),l:document.createElementNS(e.ns,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var i=this.options.zAxis.xAxis,r=this.options.zAxis.yAxis,n=i.getMinPx(),s=r.getMinPx(),o=i.getZProj(this.options.zAxis.maxZ),a=r.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",n),this.zAxis.l.setAttribute("x2",n+o),this.zAxis.l.setAttribute("y1",s),this.zAxis.l.setAttribute("y2",s+a),this.updateDataMinMaxAxes(!0);var u=this.series.map(function(t){return[t.getZPos(),t]});u.sort(function(t,e){return e[0]-t[0]});var h=0;u.forEach(function(e){e[1].setLayer(h),t.appendSerieToDom(e[1]),h++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}},{key:"contextListen",value:function(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(t){var e=this.prevented;return-1!=t&&(this.prevented=null==t||t),e}},{key:"_getXY",value:function(t){var e=t.clientX,i=t.clientY,r=this.offsetCached||a.getOffset(this.wrapper);return{x:e-=r.left,y:i-=r.top}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){a.setAttributeTo(this.graphingZone,{transform:"translate("+this.options.paddingLeft+", "+this.options.paddingTop+")"}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var t=this;return function(){return t.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var t=this;return function(){return t.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var t=this;return function(){return t.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var t=this;return function(){return t.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var t=this;return function(){return t.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var t=this;return function(){return t.drawingSpaceMaxY}}},{key:"trackingLine",value:function(t){var e=this,i=this;if("boolean"!=typeof t){if(t&&(this.options.trackingLine=t),t.series=t.series||[],t.enable=void 0===t.enable||!!t.enable,"individual"==t.mode?t.series&&(Array.isArray(t.series)||("all"==t.series?t.series=this.series.map(function(t){return{serie:t}}):t.series=[t.series]),t.series.forEach(function(t){if("object"!==f(t.serie)){if("object"!==(void 0===t?"undefined":f(t)))throw new Error("Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }");t.serie=e.getSerie(t.serie)}t.serie&&i.addSerieToTrackingLine(t.serie,t)})):t.series.forEach(function(t){t.serie.disableTracking()}),!t.noLine)return this.trackingObject||(this.trackingObject=this.newShape("line",a.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},t.trackingLineShapeOptions))),this.trackingObject.draw(),this.trackingObject}else this.options.trackingLine&&(this.options.trackingLine.enable=t)}},{key:"addSerieToTrackingLine",value:function(t,e){var i=this;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.forEach(function(e,r){e.serie==t&&i.options.trackingLine.series.splice(r,1)}),this.options.trackingLine.series.push(Object.assign({serie:t},e)),t.enableTracking(function(t,r,n,s){i.options.trackingLine.enable&&r&&(i.trackingObject&&(i.trackingObject.show(),i.trackingObject.getPosition(0).x=r.trueX,i.trackingObject.getPosition(1).x=r.trueX,i.trackingObject.redraw()),t._trackingLegend=k(i,{serie:t},n,s,t._trackingLegend,e.textMethod?e.textMethod:function(t){for(var e in t)return t[e].serie.serie.getName()+": "+t[e].serie.serie.getYAxis().valueToHtml(t[e].yValue)},r.trueX),t._trackingLegend&&(t._trackingLegend.style.display="block"))},function(t){i.trackingObject&&i.trackingObject.hide(),t.trackingShape&&t.trackingShape.hide(),t._trackingLegend&&(t._trackingLegend.style.display="none"),t._trackingLegend=k(i,{serie:t},!1,!1,t._trackingLegend,!1,!1)})}},{key:"setKatexRenderer",value:function(t){this._katexRenderer=t}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(t,i){if(this._katexRenderer){i?i.removeChild(i.firstChild):i=document.createElementNS(e.ns,"foreignObject");var r=document.createElement("div");return i.appendChild(r),this._katexRenderer(t,r),i}return!1}},{key:"exportToSchema",value:function(){var t=this,i={};i.title=this.options.title,i.width=this.getWidth(),i.height=this.getHeight();var r=[],n={x:[],y:[]};["top","bottom","left","right"].map(function(e){t.axis[e]&&(r=r.concat(t.axis[e].map(function(t){return{type:e,label:t.options.label,unit:t.options.unit,min:t.options.forcedMin,max:t.options.forcedMax,flip:t.options.flipped}})),"top"==e||"bottom"==e?n.x=n.x.concat(t.axis[e]):n.y=n.y.concat(t.axis[e]))}),i.axis=r;var s=function(t,i){var r=[];switch(t.getType()){case e.SERIE_LINE:for(var n=0;n<t.data.length;n++)for(var s=0;s<t.data[n].length-1;s+=2)r.push(t.data[n][s+(i&&t.isFlipped()||!i&&!t.isFlipped()?1:0)]);break;case e.SERIE_SCATTER:for(s=0;s<t.data.length-1;s+=2)r.push(t.data[n+(i&&t.isFlipped()||!i&&!t.isFlipped()?1:0)])}return r};return i.data=[].concat(this.series.map(function(t){var i=[],r=[];if(t.getType()==e.SERIE_LINE)for(var o in t.styles){r.push({styleName:o,color:t.styles[o].lineColor,lineWidth:t.styles[o].lineWidth,lineStyle:t.styles[o].lineStyle});var a={styleName:o,styles:[]};i.push(a),a.styles=a.styles.concat((t.styles[o].markers||[]).map(function(t){return{shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}}))}return{label:t.getLabel(),id:t.getName(),type:function(t){switch(t){case e.SERIE_LINE:return"line";case e.SERIE_BAR:return"bar";case e.SERIE_LINE_COLORED:return"color";case e.SERIE_SCATTER:return"scatter"}}(t.getType()),x:s(t,!0),y:s(t,!1),xAxis:n.x.indexOf(t.getXAxis()),yAxis:n.y.indexOf(t.getYAxis()),style:i,lineStyle:r}})),i}}],[{key:"fromJSON",value:function(t,i){var r=void 0,n={},s={left:[],top:[],right:[],bottom:[]},o=void 0;return t.title&&(n.title=t.title),t.axis&&t.axis.forEach(function(t){t.type||a.throwError("Axis type is required (top, bottom, left or right)");var e={};t.label&&(e.labelValue=t.label),void 0!==t.unit&&(e.unit=t.unit),void 0!==t.unitWrapperAfter&&(e.unitWrapperAfter=t.unitWrapperAfter),void 0!==t.unitWrapperBefore&&(e.unitWrapperBefore=t.unitWrapperBefore),void 0!==t.min&&(e.forcedMin=t.min),void 0!==t.max&&(e.forcedMax=t.max),void 0!==t.flip&&(e.flipped=t.flip),s[t.type].push(e),t._jsGraphIndex=s[t.type].length-1}),r=new e(i,n,s),t.width&&r.setWidth(t.width),t.height&&r.setHeight(t.width),r._resize(),t.data&&t.data.forEach(function(i){var n,s,u=i.type,h={},l=void 0;switch(i.type){case"bar":a.throwError("Bar charts not supported"),u=!1;break;case"color":u=e.SERIE_LINE_COLORED;break;case"scatter":u=e.SERIE_SCATTER;break;case"box":u=e.SERIE_BOX,"x"!=i.orientation&&"y"!=i.orientation||(h.orientation=i.orientation);break;default:u=e.SERIE_LINE}if(u!==e.SERIE_BOX&&(l=e.newWaveform()),u){if(n=r.newSerie(i.id||i.label||a.guid(),h,u),i.lineStyle){var f=void 0;Array.isArray(f)&&(f={unselected:f}),Object.entries(f).forEach(function(t){var i=c(t,2),r=i[0],s=i[1],o={};switch(u){case e.SERIE_LINE:void 0!==s.lineWidth&&(o.lineWidth=s.lineWidth),void 0!==s.color&&(o.lineColor=s.color),s.lineStyle&&(o.lineStyle=s.lineStyle),n.setStyle(o,r)}})}var p={},d={};if(i.defaultStyle&&(p=i.defaultStyle),i.defaultStyles&&(d=i.defaultStyles),i.styles){var y=void 0;y=Array.isArray(i.styles)?{unselected:i.styles}:i.styles,new Set(Object.keys(d).concat(Object.keys(y))).forEach(function(t){var i=[],r=void 0;switch(y&&y[t]&&(i=y[t],Array.isArray(i)||(i=[i]),r=i.map(function(t){switch(u){case e.SERIE_LINE:return{type:t.shape,zoom:t.zoom,strokeWidth:t.lineWidth,strokeColor:t.lineColor,fillColor:t.color,points:t.points};case e.SERIE_BOX:case e.SERIE_SCATTER:return t}})),u){case e.SERIE_LINE:n.setMarkers(r,t);break;case e.SERIE_SCATTER:n.setStyle(Object.assign({},g,p,d[t]||{}),r,t);break;case e.SERIE_BOX:n.setStyle(r[0],t||"unselected")}})}if(i.color&&u==e.SERIE_LINE_COLORED&&n.setColors(i.color),u!==e.SERIE_BOX&&l.setData(i.y,i.x),n){var v=[],m=[],x=[],b=[],k=[],M=[],S=[],A=[];if(void 0!==l){if(i.errorX)for(var _=0,w=i.errorX.length;_<w;_++)Array.isArray(i.errorX[_])?(v.push(i.errorX[_][0]),m.push(i.errorX[_][1])):(v.push(i.errorX[_]),m.push(i.errorX[_]));else if(i.errorBarX||i.errorBoxX){if(i.errorBarX)for(_=0,w=i.errorBarX.length;_<w;_++)Array.isArray(i.errorBarX[_])?(v.push(i.errorBarX[_][0]),m.push(i.errorBarX[_][1])):(v.push(i.errorBarX[_]),m.push(i.errorBarX[_]));if(i.errorBoxX)for(_=0,w=i.errorBoxX.length;_<w;_++)Array.isArray(i.errorBoxX[_])?(k.push(i.errorBoxX[_][0]),M.push(i.errorBoxX[_][1])):(k.push(i.errorBoxX[_]),M.push(i.errorBoxX[_]))}if(i.errorY)for(_=0,w=i.errorY.length;_<w;_++)Array.isArray(i.errorY[_])?(x.push(i.errorY[_][0]),b.push(i.errorY[_][1])):(x.push(i.errorY[_]),b.push(i.errorY[_]));else if(i.errorBarY||i.errorBoxY){if(i.errorBarY)for(_=0,w=i.errorBarY.length;_<w;_++)Array.isArray(i.errorBarY[_])?(x.push(i.errorBarY[_][0]),b.push(i.errorBarY[_][1])):(x.push(i.errorBarY[_]),b.push(i.errorBarY[_]));if(i.errorBoxY)for(_=0,w=i.errorBoxY.length;_<w;_++)Array.isArray(i.errorBoxY[_])?(S.push(i.errorBoxY[_][0]),A.push(i.errorBoxY[_][1])):(S.push(i.errorBoxY[_]),A.push(i.errorBoxY[_]))}o={},v.length>0&&(l.setErrorBarXAbove(e.newWaveform(v)),o.right={}),m.length>0&&(l.setErrorBarXAbove(e.newWaveform(v)),o.left={}),x.length>0&&(l.setErrorBarXAbove(e.newWaveform(x)),o.top={}),b.length>0&&(l.setErrorBarXAbove(e.newWaveform(x)),o.bottom={}),n.setErrorBarStyle(o),o={},k.length>0&&(l.setErrorBoxXAbove(e.newWaveform(k)),o.right={}),M.length>0&&(l.setErrorBoxXBelow(e.newWaveform(M)),o.left={}),S.length>0&&(l.setErrorBoxAbove(e.newWaveform(S)),o.top={}),A.length>0&&(l.setErrorBoxBelow(e.newWaveform(A)),o.bottom={}),n.setErrorBoxStyle(o)}switch(t.axis?(!(s=t.axis[i.xAxis])||"top"!==s.type&&"bottom"!==s.type?(a.warn("No x axis found. Setting automatically"),n.setXAxis(r.getXAxis(0))):"top"==s.type?n.setXAxis(r.getTopAxis(s._jsGraphIndex)):"bottom"==s.type&&n.setXAxis(r.getBottomAxis(s._jsGraphIndex)),!(s=t.axis[i.yAxis])||"left"!==s.type&&"right"!==s.type?(a.warn("No y axis found. Setting automatically"),n.setYAxis(r.getYAxis(0))):"left"==s.type?n.setYAxis(r.getLeftAxis(s._jsGraphIndex)):"right"==s.type&&n.setYAxis(r.getRightAxis(s._jsGraphIndex))):(a.warn("No axes found. Setting automatically"),n.autoAxis()),u){case e.SERIE_BOX:n.setData(i.boxes);break;default:case e.SERIE_SCATTER:case e.SERIE_LINE_COLORED:case e.SERIE_LINE:n.setWaveform(l)}}}else a.throwError("No valid serie type was found")}),r.autoscaleAxes(),r.draw(),r}},{key:"registerConstructor",value:function(t,e){if(y.has(t))return a.throwError("Constructor "+e+" already exists.");y.set(t,e)}},{key:"getConstructor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return y.has(t)?y.get(t):!e&&a.throwError('Constructor "'+t+"\" doesn't exist")}},{key:"newWaveform",value:function(){return new(Function.prototype.bind.apply(h.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveform",value:function(){return new(Function.prototype.bind.apply(h.default,[null].concat(Array.prototype.slice.call(arguments))))}}]),e}();function m(t,e){for(var i=0,r=e.length;i<r;i++){for(var n=!0,s=0,o=e[i].length;s<o;s++)t[0]<e[i][s][0]&&t[1]<e[i][s][0]||t[0]>e[i][s][1]&&t[1]>e[i][s][1]||(n=!1);if(n)return e[i].push(t),i}return e.push([t]),e.length-1}function x(t,e,i){if(console.log(e,i),t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,i,[t,e]);!function(t,e,i,r){var n,s,o=t.options.keyActions;for(n=0,s=o.length;n<s;n++){if(o[n].plugin){if(t.forcedPlugin==o[n].plugin||t.isActionAllowed(e,o[n]))return o[n].options&&i.push(o[n].options),t.activePlugin=o[n].plugin,t._pluginExecute(o[n].plugin,r,i),e.preventDefault(),e.stopPropagation(),!0}else if(o[n].callback&&t.isActionAllowed(e,o[n]))return o[n].options&&i.push(o[n].options),e.preventDefault(),e.stopPropagation(),o[n].callback.apply(t,i),!0;o[n].removeSelectedShape&&t.isActionAllowed(e,o[n])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map(function(t){t.kill(o[n].keepInDom)}))}}(t,e,[t,e],i)}function b(t,e,i,r){var n,s,o=t.options.mouseActions,a=!1;for(n=0,s=o.length;n<s;n++)if(o[n].plugin){if(t.forcedPlugin==o[n].plugin||t.isActionAllowed(e,o[n])){o[n].options&&i.push(o[n].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=o[n].plugin),t._pluginExecute(o[n].plugin,r,i),a=!0;continue}}else{if(o[n].callback&&t.isActionAllowed(e,o[n])){o[n].options&&i.push(o[n].options),o[n].callback.apply(t,i),a=!0;continue}if(o[n].series){var u;"all"===o[n].series&&(u=t.series),Array.isArray(o[n].series)||(u=[u]),o[n].options&&i.push(o[n].options);for(;0<u.length;n++)t._serieExecute(u[n],r,i);a=!0;continue}}return a}v.prototype.getConstructor=v.getConstructor;var k=function(t,e,i,r,n,s,o){var a=!1;Array.isArray(e)||(e=[e]);var u,h,l=[];if(!n&&t.options.trackingLine.legend&&(a=!0,u=t,(h=document.createElement("div")).setAttribute("class","trackingLegend"),h.style.position="absolute",h.style.borderRadius="4px",h.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",h.style.border="2px solid #333333",h.style.backgroundColor="rgba(255, 255, 255, 0.5 )",h.style.pointerEvents="none",h.style.paddingTop="5px",h.style.paddingBottom="5px",h.style.paddingLeft="10px",h.style.paddingRight="10px",u.getWrapper().insertBefore(h,u.getDom()),n=h),e.map(function(e){var r=e.serie.handleMouseMove(o,!1);if(!r||!s)return e.serie.trackingShape&&e.serie.trackingShape.hide(),n;if(e.withinPx>0&&Math.abs(i-t.options.paddingLeft-e.serie.getXAxis().getPx(r.xClosest))-e.withinPx>1e-14||e.withinVal>0&&Math.abs(e.serie.getXAxis().getVal(i-t.options.paddingLeft)-r.xClosest)-e.withinVal>e.serie.getXAxis().getVal(i-t.options.paddingLeft)/1e5)e.serie.trackingShape&&e.serie.trackingShape.hide();else{l[e.serie.getName()]={yValue:r.xClosest,xValue:r.yClosest,serie:e,index:r};var a=void 0;if(a=t.options.trackingLine&&t.options.trackingLine.serieShape?t.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:[3*e.serie.getLineWidth()+"px"],ry:[3*e.serie.getLineWidth()+"px"]}},e.serie.trackingShape||(e.serie.trackingShape=t.newShape(a.shape,{fillColor:e.serie.getLineColor(),strokeColor:"White",strokeWidth:e.serie.getLineWidth()},!0,a.properties).setSerie(e.serie).forceParentDom(e.serie.groupMain).draw(),a.onCreated&&a.onCreated(e.serie.trackingShape),e.serie.trackingShape.on("changed",function(){a.onChanged&&a.onChanged(e.serie.trackingShape)})),e.serie.trackingShape.show(),e.serie.trackingShape.getPosition(0).x=r.xClosest,a.magnet){var u,h=a.magnet,c=h.within;h.withinPx&&(c=e.serie.getXAxis().getRelVal(h.withinPx)),(u=e.serie.findLocalMinMax(r.xClosest,c,h.mode))&&(e.serie.trackingShape.getPosition(0).x=u)}e.serie.trackingShape.redraw()}}),t.options.trackingLine.legend){if(0!=Object.keys(l).length&&s){"none"==n.style.display||a?M(t,n,i,r,!0):S(t,n,i,r),n.style.display="block";var c=s(l,o,i,r);n.innerHTML=c}else n.style.display="none";return n}},M=function(t,e,i,r,n){var s=Date.now(),o=e.offsetHeight,a=parseInt(e.style.marginLeft.replace("px","")||0),u=parseInt(e.style.marginTop.replace("px","")||0);if(i=i>t.getWidth()/2?i-i%10-20-e.offsetWidth:i-i%10+30,r=r-r%10+o/2,n)return e.style.marginLeft=i+"px",void(e.style.marginTop=r+"px");window.requestAnimationFrame(function t(){var n=(Date.now()-s)/200;n>1&&(n=1),e.style.marginLeft=(i-a)*n+a+"px",e.style.marginTop=(r-u)*n+u+"px",n<1&&window.requestAnimationFrame(t)})},S=a.debounce(M,50);function A(t,e,i,r){i=i||{};var n,s={def:{x:t.getConstructor("graph.axis.x"),y:t.getConstructor("graph.axis.y")},time:{x:t.getConstructor("graph.axis.x.time")},bar:{x:t.getConstructor("graph.axis.x.bar")}};switch(i.type){case"time":var o=s.time;break;case"bar":o=s.bar;break;case"broken":o=s.broken;break;default:o=s.def}switch(r){case"top":case"bottom":n=o.x;break;case"left":case"right":n=o.y}return"object"==(void 0===(e=e||0)?"undefined":f(e))&&(i=e,e=0),t.axis[r][e]||(t.axis[r][e]=new n(t,r,i),t.axis[r][e].init(t,i)),t.axis[r][e]}function _(t,e,i,r,n,s){if(!1!==t.options.close){var o=0;t.axis[e].map(function(t){t.isDisplayed()&&!t.floating&&o++}),!0!==t.options.close&&!t.options.close[e]||0!=o?t.closingLines[e].setAttribute("display","none"):(t.closingLines[e].setAttribute("display","block"),t.closingLines[e].setAttribute("x1",i),t.closingLines[e].setAttribute("x2",r),t.closingLines[e].setAttribute("y1",n),t.closingLines[e].setAttribute("y2",s))}}function w(t,e,i,r,n){b(t,n,[e,n,i,r],"onMouseWheel")&&(n.preventDefault(),n.stopPropagation())}v.SERIE_LINE=Symbol(),v.SERIE_SCATTER=Symbol(),v.SERIE_CONTOUR=Symbol(),v.SERIE_BAR=Symbol(),v.SERIE_BOX=Symbol(),v.SERIE_ZONE=Symbol(),v.SERIE_LINE_COLORED=Symbol(),v.SERIE_ZONE=Symbol(),v.SERIE_DENSITYMAP=Symbol(),v.SERIE_LINE_3D=Symbol(),v.SERIE_ZONE_3D=Symbol(),v.TICKS_OUTSIDE=Symbol(),v.TICKS_INSIDE=Symbol(),v.TICKS_CENTERED=Symbol(),v.ns="http://www.w3.org/2000/svg",v.nsxlink="http://www.w3.org/1999/xlink",e.default=v,t.exports=e.default},n=[t,e,i(55),i(5),i(56),i(46)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i),s=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xOffset=i,this.xScale=r,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.BELOW=t.BELOW,this.ABOVE=t.ABOVE,this.BOX=t.BOX,this.BAR=t.BAR,this.setData(e)}return a(t,[{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(t[0])){var i=[],r=[];t.forEach(function(t){i.push(t[0]),r.push(t[1])}),this.setXWaveform(i),t=r}var n=this._makeArray(t.length),s=!1,o=this.isNaNAllowed();return t.map(function(t,e){o||t[0]==t[0]&&t[1]==t[1]||(s=!0),n[e]=t}),s&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(n),e&&this.setXWaveform(e),this}},{key:"getY",value:function(t,e){return e&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this.data[t]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(e){if(!(e instanceof t)){if(!Array.isArray(e))throw"Cannot set X waveform. Data is not a valid array.";e=new t(e)}return this.xdata=e,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var e=new t,i=0;i<this.getLength();i+=1)e.append(this.getX(i));return e}},{key:"rescaleX",value:function(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn("NaN values are not allowed by the new constructor ("+t.name+") while it was allowed by the previous one ("+this._typedArrayClass.name+")"),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this.data&&this._setData(t.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}},{key:"isNaNAllowed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Array||t==Float32Array||t==Float64Array}},{key:"isUnsigned",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}},{key:"prepend",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.prepend(null,t):null!==t?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,t)):this.xOffset-=this.xScale,this.data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"append",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.append(null,t):null!==t&&(this.xdata=this.getXWaveform(),this.xdata.append(null,t)),this.monotoneous&&(e>this.data[this.data.y]&&!1===this.getMonotoneousAscending()?this.monotoneous=!1:e<this.data[this.data.y]&&!0===this.getMonotoneousAscending()&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,e==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this.data[0]),this.data.push(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"_makeArray",value:function(t){var e=this.getTypedArrayClass();return e?new e(t):new Array(t)}},{key:"_setData",value:function(t){var e=t.length,i=1,r=t[1]>t[0],n=t[0],s=t[0];for(this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&r!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(n=Math.min(t[i],n),s=Math.max(t[i],s));if(this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this.hasErrorBars()){for(i=0;i<e;i++)t[i]==t[i]&&(n=Math.min(n,t[i]-this.getMaxError(i,"below")),s=Math.max(s,t[i]+this.getMaxError(i,"above")));this.minY=n,this.maxY=s}else this.minY=n,this.maxY=s;this.data=t,this.computeXMinMax()}},{key:"computeXMinMax",value:function(){if(this.data)if(this.xdata)this.minX=this.xdata.getMin(),this.maxX=this.xdata.getMax();else{var t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,r=void 0;r=e&&this.dataInUse?this.dataInUse.y:this.data;var n;return n=this.getIndexFromData(t,r,this.data.getMonotoneousAscending(),i),e&&this.dataInUse&&"aggregateY"==this.dataInUseType?n-n%4:n}},{key:"getIndexFromX",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,r=void 0;e&&this.dataInUse?r=this.dataInUse.x:this.xdata&&(r=this.xdata.getData());var n=void 0;return n=this.hasXWaveform()?this.xdata.getIndexFromData(t,r,this.xdata.getMonotoneousAscending(),i):Math.max(0,Math.min(this.getLength()-1,i((t-this.xOffset)/this.xScale))),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?n-n%4:n}},{key:"getIndexFromXY",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.round,n=arguments[4],s=arguments[5],o=void 0,a=void 0;i&&this.dataInUse?(o=this.dataInUse.x,a=this.dataInUse.y):this.xdata&&(o=this.xdata.data,a=this.data);var u=void 0;if(this.isXMonotoneous())u=this.hasXWaveform()?this.xdata.getIndexFromData(t,o,this.xdata.getMonotoneousAscending(),r):Math.max(0,Math.min(this.getLength()-1,r((t-this.xOffset)/this.xScale)));else{if(isNaN(e))return;u=this.getIndexFromDataXY(t,o,e,a,n,s)}return i&&this.dataInUse&&"aggregateX"==this.dataInUseType?u-u%4:u}},{key:"getIndexFromDataXY",value:function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),function(t,e,i,r){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=Number.MAX_VALUE,a=void 0,u=-1,h=0,l=i.length;h<l;h++)(a=Math.pow((t-i[h])*n,2)+Math.pow((e-r[h])*s,2))<o&&(u=h,o=a);return u}(t,i/=this.getScale(),e,r,n,s)}},{key:"getIndexFromData",value:function(t,e,i,r){if(!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return t-=this.getShift(),d(t/=this.getScale(),e,!i)}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getXMax",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getMaxX",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(t){return t&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.shift=t,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.scale=t,this}},{key:"setXShift",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform?(this.getXWaveform().setShift(t),this):this}},{key:"getXShift",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform?(this.getXWaveform().setScale(t),this):this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data.length}},{key:"getDataToUseFlat",value:function(){var t=void 0,e=0,i=void 0;if(this.dataInUse){t=this.dataInUse.x.length,i=new Array(2*t).fill(0);for(var r=0;r<t;r+=1)i[e]=this.dataInUse.x[r],i[e+1]=this.dataInUse.y[r],e+=2}else{t=this.getLength(),i=new Array(2*t).fill(0);for(r=0;r<t;r+=1)i[e+1]=this.data[r],i[e]=this.getX(r),e+=2}return i}},{key:"fit",value:function(e){var i=this;return new Promise(function(r,o){var a=new n.default((0,s.default)({},{dataY:i,dataX:i.getXWaveform(),done:function(t){r(t)},waveform:new t},e));a.init(),a.fit()})}},{key:"getX",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}},{key:"getXRaw",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]:this.xdata?this.xdata.data[t]:t}},{key:"_integrateP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if((t=Math.round(t))>(e=Math.round(e))){var i=t;t=e,e=i}for(var r=e-t+1,n=0,s=0,o=void 0,a=this.getData();t<=e;t++)a.length-1>t&&(s+=o=this.getX(t+1)-this.getX(t),n+=a[t]*o);return[n,r,s]}},{key:"integrateP",value:function(t,e){return this._integrateP(t,e)[0]}},{key:"integrate",value:function(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}},{key:"average",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(t,e)}},{key:"mean",value:function(){return this.average()}},{key:"getAverageP",value:function(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}},{key:"getAverageX",value:function(t,e){var i=this._integrateX(t,e);return i[0]/i[2]}},{key:"checkMonotonicity",value:function(){for(var t=1,e=this.getData(),i=this.data.length,r=e[1]>e[0];t<i;t++)if(e[t]!==e[t-1]&&r!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(t){var e=dataY||this.data;return e.reverse(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),e}},{key:"resampleForDisplay",value:function(t){var e=0;this.requireXMonotonicity();var i=!1,r=this.getDataY(),n={x:[],y:[]},s=[],o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0,f=void 0,p=!1,d=0,g=void 0,y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){var v=t.minX;t.minX=t.maxX,t.maxX=v}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(i=!0,e=y);i?e>0:e<y;i?e--:e++)if(g=this.getX(e),t.minX>g)d=e;else if(f=t.xPosition(g),p)if(Math.abs(f-c)>t.resampleToPx||e==y||0==e||isNaN(r[e])){var m=(l+g)/2;if(n.x.push(m),n.y.push(o/h),s.push(m,a,u),void 0!==t.maxX&&g>t.maxX)break;p=!1}else o+=r[e],h++,a=Math.min(a,r[e]),u=Math.max(u,r[e]);else{for(d?(n.x.push(g),n.y.push(r[d])):d=e;isNaN(r[e]);)i?e--:e++;o=a=u=r[d],h=1,c=f,l=g,d=0,p=!0}return this.dataInUseType="resampled",this.dataInUse=n,s}},{key:"interpolate",value:function(t){var e=this.getDataY(),i=void 0;if(this.xdata){var r=this.xdata.getData();return r[i=d(t,r,!this.xdata.getMonotoneousAscending())]==t?e[i]:(t-r[i])/(r[i+1]-r[i])*(e[i+1]-e[i])+e[i]}i=(t-this.xOffset)/this.xScale;var n=Math.floor(i);return(i-n)*(e[n+1]-e[n])+e[n]}},{key:"interpolateIndex_X",value:function(t){this.getDataY();if(this.xdata){var e=this.xdata.getData(),i=Math.floor(t);return(t-i)*(e[i+1]-e[i])+e[i]}}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():this.xScale>0}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(t){return this._arithmetic(t,f)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(t){return this._arithmetic(t,h)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function(t){var e=Math.log(t);this.data.map(function(t){return Math.log(t)/e})}},{key:"add",value:function(t){return this._arithmetic(t,l)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(t){return this._arithmetic(t,c)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(t){for(var e=0;e<this.getLength();e++)this.data[e]=t(this.getY(e),this.getX(e));return this._setData(this.data),this}},{key:"_arithmetic",value:function(e,i){return e instanceof t?this._waveArithmetic(e,i):"number"==typeof e?this._numberArithmetic(e,i):void 0}},{key:"_numberArithmetic",value:function(t,e){var i=0,r=this.getLength();if(e==h){for(;i<r;i++)this.data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==f){for(;i<r;i++)this.data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==l){for(;i<r;i++)this.data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==c){for(;i<r;i++)this.data[i]-=t;this.minY-=t,this.maxY-=t}return this}},{key:"_waveArithmetic",value:function(t,e){var i=this.getDataY(),r=0,n=this.getLength();if(this.requireXMonotonicity(),t.requireXMonotonicity(),e==h)for(;r<n;r++)i[r]*=t.interpolate(this.getX(r));else if(e==f)for(;r<n;r++)i[r]/=t.interpolate(this.getX(r));else if(e==l)for(;r<n;r++)i[r]+=t.interpolate(this.getX(r));else if(e==c)for(;r<n;r++)i[r]-=t.interpolate(this.getX(r));return this._setData(i),this}},{key:"aggregate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=e.toUpperCase();var i=function(t){var e=1;for(;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=aggregator({minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:i,direction:e}).then(function(e){t._dataAggregated=e.aggregates,t._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(t){if(t<2)return!1;var e=function(t){t--;var e=2;for(;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType="aggregate"+this._dataAggregationDirection,void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(e){var i=new t;return i._setData(this.getDataY().slice()),i.rescaleX(this.xOffset,this.xShift),i.setShift(this.getShift()),i.setScale(this.getScale()),this.xdata?(e?i.setXWaveform(this.xdata.duplicate()):i.setXWaveform(this.xdata),i.setXShift(this.getXShift()),i.setXScale(this.getXScale())):(i.xOffset=this.xOffset,i.xScale=this.xScale),i}},{key:"subrangeX",value:function(e,i){if(this.xdata){for(var r=new t,n=0,s=this.data.length;n<s;n++)this.data[n]>=e&&this.data[n]<i&&r.append(this.dataX[n],this.data[n]);return r}var o=this.getIndexFromX(e),a=this.getIndexFromX(a);return(new t).setData(this.data.slice(o,a)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(t,e,i){this.getIndexFromX(t);var r=this.getIndexFromX(t+e),n=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(n,r,i)}},{key:"findLocalMinMaxIndex",value:function(t,e,i){var r=void 0;e<t&&(r=e,e=t,t=r);var n=void 0,s=void 0;if("max"==i){n=Number.NEGATIVE_INFINITY;for(var o=t;o<=e;o++)this.getY(o)>n&&(n=this.getY(o),s=o)}else{n=Number.POSITIVE_INFINITY;for(o=t;o<=e;o++)this.getY(o)<n&&(n=this.getY(o),s=o)}return s!=t&&s!=e&&this.getX(s)}},{key:"warn",value:function(t){console&&console.warn(t)}},{key:"setUnit",value:function(t){return this.unit=t,this}},{key:"setXUnit",value:function(t){return this.hasXWaveform()&&this.xdata.setUnit(t),this.xunit=t,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return this.getXUnit().length>0}},{key:"hasUnit",value:function(){return this.getUnit().length>0}},{key:"findLevels",value:function(t,e){for(var i,r=(e=(0,s.default)({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],n=[],o=0;i=this.findLevel(t,(0,s.default)(!0,{},e,{rangeP:[r,e.rangeP[1]]}));)if(n.push(i),r=Math.ceil(i),++o>1e3)return;return n}},{key:"findLevel",value:function(t,e){var i,r,n,o,a,u;(e=(0,s.default)({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var h=e.box;for(h%2==0&&h++,"descending"==e.direction?(n=e.rangeP[1],a=e.rangeP[0],u=-1):(n=e.rangeP[0],a=e.rangeP[1],u=1);;n+=u){if("descending"==e.direction){if(n<a)break}else if(n>a)break;if(!(n<e.rangeP[0]+(h-1)/2)){if(n>e.rangeP[1]-(h-1)/2)break;if(i=this.getAverageP(n-(h-1)/2,n+(h-1)/2),void 0!==r){if(i>=t&&r){if(r=!1,"ascending"==e.edge||"both"==e.edge)for(o=n+(h-1)/2;o>=n-(h-1)/2;o--)if(this.data[o]>=t&&this.data[o-1]<=t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return p(t,this.data[o],this.data[o-1],o,o-1)}}else if(i<=t&&!r&&(r=!0,"descending"==e.edge||"both"==e.edge))for(o=n+(h-1)/2;o>=n-(h-1)/2;o--)if(this.data[o]<=t&&this.data[o-1]>=t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return p(t,this.data[o],this.data[o-1],o,o-1)}}else r=i<t}}}},{key:"normalize",value:function(t){var e=void 0,i=void 0,r=void 0,n=void 0,s=void 0,o=void 0;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),n=this.data[0],o=1;o<this.getLength();o++)this.data[o]>n&&(n=this.data[o]);for(o=0;o<this.getLength();o++)this.data[o]/=n/e}else if("sum1"==t){for(i=0,o=0;o<this.getLength();o++)i+=this.data[o];for(o=0;o<this.getLength();o++)this.data[o]/=i}else if("max1min0"==t){for(n=this.data[0],r=this.data[0],o=1;o<this.getLength();o++)this.data[o]>n?n=this.data[o]:this.data[o]<r&&(r=this.data[o]);for(s=1/(n-r),o=0;o<this.getLength();o++)this.data[o]=(this.data[o]-r)*s}this.setData(this.data)}},{key:"setErrorBarX",value:function(e){return Array.isArray(e)&&(e=new t(e)),this.getXWaveform().setErrorBar(e),this}},{key:"setErrorBarXBelow",value:function(e){return Array.isArray(e)&&(e=new t(e)),this.getXWaveform().setErrorBarBelow(e),this}},{key:"setErrorBarXAbove",value:function(e){return Array.isArray(e)&&(e=new t(e)),this.getXWaveform().setErrorBarAbove(e),this}},{key:"setErrorBoxX",value:function(e){Array.isArray(e)&&(e=new t(e));var i=this.getXWaveform();return i.setErrorBoxAbove(e),i.setErrorBoxBelow(e),this}},{key:"setErrorBoxXBelow",value:function(e){return Array.isArray(e)&&(e=new t(e)),this.getXWaveform().setErrorBoxBelow(e),this}},{key:"setErrorBoxXAbove",value:function(e){return Array.isArray(e)&&(e=new t(e)),this.getXWaveform().setErrorBoxAbove(e),this}},{key:"setErrorBar",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.nb++,this.errors.bars.bottom=e,this.errors.bars.top=e,i&&this._setData()}},{key:"setErrorBarBelow",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.bars.below=e,i&&this._setData()}},{key:"setErrorBarAbove",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.bars.above=e,i&&this._setData()}},{key:"setErrorBox",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=e,this.errors.boxes.below=e,i&&this._setData()}},{key:"setErrorBoxBelow",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.boxes.below=e,i&&this._setData()}},{key:"setErrorBoxAbove",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.boxes.above=e,i&&this._setData()}},{key:"getMaxError",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE;return Math.max(this.getMaxErrorType(e,i,t.BOX),this.getMaxErrorType(e,i,t.BAR))}},{key:"getMaxErrorType",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BOX,n=void 0;if(r==t.BOX)n=this.errors.boxes;else{if(r!=t.BAR)throw"Unknown type of error";n=this.errors.bars}var s=void 0;return(s=n[i])||(i==t.ABOVE?n[i]==t.BELOW&&(s=n.below):n[i]==t.ABOVE&&(s=n.above)),s?s.getY(e):0}},{key:"getErrorBarXBelow",value:function(e){return this.getErrorX(e,t.BELOW,t.BAR)}},{key:"getErrorBarXAbove",value:function(e){return this.getErrorX(e,t.ABOVE,t.BAR)}},{key:"getErrorBoxXBelow",value:function(e){return this.getErrorX(e,t.BELOW,t.BOX)}},{key:"getErrorBoxXAbove",value:function(e){return this.getErrorX(e,t.ABOVE,t.BOX)}},{key:"getErrorBarYBelow",value:function(e){return this.getError(e,t.BELOW,t.BAR)}},{key:"getErrorBarYAbove",value:function(e){return this.getError(e,t.ABOVE,t.BAR)}},{key:"getErrorBoxYBelow",value:function(e){return this.getError(e,t.BELOW,t.BOX)}},{key:"getErrorBoxYAbove",value:function(e){return this.getError(e,t.ABOVE,t.BOX)}},{key:"getErrorX",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BAR;return!!this.hasXWaveform()&&this.xdata.getError(e,i,r)}},{key:"getError",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BAR)==t.BAR?this.errors.bars:this.errors.boxes;if(!r)return!1;var n=void 0;return(n=i==t.ABOVE?r.above:r.below)?(n==t.ABOVE&&i==t.BELOW?n=r.above:n==t.BELOW&&i==t.ABOVE&&(n=r.below),!!n&&n.getY(e)):void 0}},{key:"hasErrorBars",value:function(){return this.errors.nb>0||this.hasXWaveform()&&this.xdata.errors.nb>0}}]),t}();u.BELOW=Symbol(),u.ABOVE=Symbol(),u.BOX=Symbol(),u.BAR=Symbol();var h=Symbol(),l=Symbol(),c=Symbol(),f=Symbol();function p(t,e,i,r,n){return(t-e)/(i-e)*(n-r)+r}function d(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e[e.length-1]<e[0],r=0,n=e.length-1,s=void 0,o=0,a=1;if(!i&&(e[0]>t||e[n]<t)||i&&(e[0]<t||e[n]>t))throw console.log(t,e),new Error("Target "+t+" is not in the stack");if(e[r]==t)return r;if(e[n]==t)return n;for(;;){if(++o>100)throw new Error("Error loop");for(s=Math.floor((r+n)/2);isNaN(e[s]);){if(s>=e.length-1)return e.length-1;if(s<=0)return 0;s+=a}if(s==r||e[s]==t||s==n)return s;if(e[s]<t)i?n=s:r=s;else{if(!(e[s]>t))return!1;i?r=s:n=s}a*=-1}}e.default=u,t.exports=e.default},n=[t,e,i(138),i(348)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(8).f,n=i(12),s=i(6)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},function(t,e,i){var r=i(0),n=i(24),s=i(3),o=i(80),a="["+o+"]",u=RegExp("^"+a+a+"*"),h=RegExp(a+a+"*$"),l=function(t,e,i){var n={},a=s(function(){return!!o[t]()||"​"!="​"[t]()}),u=n[t]=a?e(c):o[t];i&&(n[i]=u),r(r.P+r.F*a,"String",n)},c=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i);var a=l(r),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),h=l(s);l(o);function l(t){return t&&t.__esModule?t:{default:t}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var f=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},p=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var d=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.selectionType="unselected",n.markerFamilies={},u.mapEventEmission(n.options,n),n.styles={},n.styles.unselected={lineColor:n.options.lineColor,lineStyle:n.options.lineStyle,lineWidth:n.options.lineWidth,markers:n.options.markers},n.styles.selected={lineWidth:3},n.extendStyles(),n.markersDom=new Map,n.shown=!0,n.data=[],n._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},n.groupLines=document.createElementNS(n.graph.ns,"g"),n.domMarker=document.createElementNS(n.graph.ns,"path"),n.domMarker.style.cursor="pointer",n.groupMain=document.createElementNS(n.graph.ns,"g"),n.additionalData={},n.marker=document.createElementNS(n.graph.ns,"circle"),n.marker.setAttribute("fill","black"),n.marker.setAttribute("r",3),n.marker.setAttribute("display","none"),n.markerLabel=document.createElementNS(n.graph.ns,"text"),n.markerLabelSquare=document.createElementNS(n.graph.ns,"rect"),n.markerLabelSquare.setAttribute("fill","white"),n.domMarkerHover={},n.domMarkerSelect={},n.markerHovered=0,n.groupMarkerSelected=document.createElementNS(n.graph.ns,"g"),n.markerPoints={},n.lines=[],n.groupMain.appendChild(n.groupLines),n.groupMain.appendChild(n.marker),n.groupMain.appendChild(n.groupMarkerSelected),n.groupMain.appendChild(n.markerLabelSquare),n.groupMain.appendChild(n.markerLabel),n.groupMarkers=document.createElementNS(n.graph.ns,"g"),n.groupMain.appendChild(n.groupMarkers),n.independantMarkers=[],n.initExtended1&&n.initExtended1(),n.groupLines.addEventListener("click",function(t){n.options.selectableOnClick&&(n.isSelected()?n.graph.unselectSerie(n):n.graph.selectSerie(n))}),n.options.markers&&n.setMarkers(n.options.markers,"unselected"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),p(e,null,[{key:"default",value:function(){return{lineColor:"black",lineStyle:1,flip:!1,label:"",lineWidth:1,markers:!1,trackMouse:!1,trackMouseLabel:!1,trackMouseLabelRouding:1,lineToZero:!1,selectableOnClick:!1,markersIndependant:!1,overflowX:!1,overflowY:!1}}}]),p(e,[{key:"setOptions",value:function(t){return this.options=u.extend(!0,{},e.prototype.defaults,t||{}),this.styles.unselected={lineColor:this.options.lineColor,lineStyle:this.options.lineStyle,markers:this.options.markers},this.applyLineStyles(),this}},{key:"onMouseOverMarker",value:function(t,e){this.toggleMarker(e,!0,!0);this.options.onMouseOverMarker&&this.options.onMouseOverMarker(e,this.infos&&this.infos[e]||!1,[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"onMouseOutMarker",value:function(t,e){this.markersOffHover(),this.options.onMouseOutMarker&&this.options.onMouseOutMarker(e,this.infos&&this.infos[e]||!1,[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"toggleMarker",value:function(t,e,i){var r,n=t;void 0===e&&(r=i?!this.domMarkerHover[t]:!this.domMarkerSelect[t]);var s=this["domMarker"+(i?"Hover":"Select")];if(r||!0===e){if(s[t])o=s[t];else{var o=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(o,this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(n)]),this["domMarker"+(i?"Hover":"Select")][t]=o,this.groupMarkerSelected.appendChild(o)}var a=this.getX(this.waveform.getX(n)),u=this.getY(this.waveform.getY(n));o.setAttribute("d","M "+a+" "+u+" "+this.getMarkerPath(this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(n)],1)),i&&this.markerHovered++}else if((!r||!1===e)&&(i&&this.domMarkerHover[t]&&!this.domMarkerSelect[t]||this.domMarkerSelect[t])){if(!s[t])return;this.groupMarkerSelected.removeChild(s[t]),delete s[t],i&&this.markerHovered--}return r}},{key:"markersOffHover",value:function(){for(var t in this.domMarkerHover)this.toggleMarker(t.split(","),!1,!0);return this}},{key:"markersOffSelect",value:function(){for(var t in this.domMarkerSelect)this.toggleMarker(t.split(","),!1,!1);return this}},{key:"onClickOnMarker",value:function(t,e){var i=this.toggleMarker(e);i&&this.options.onSelectMarker&&this.options.onSelectMarker(e,this.infos&&this.infos[e[0]]||!1),!i&&this.options.onUnselectMarker&&this.options.onUnselectMarker(e,this.infos&&this.infos[e[0]]||!1),this.options.onToggleMarker&&this.options.onToggleMarker(e,this.infos&&this.infos[e[0]]||!1,i)}},{key:"_getMarkerIndexFromEvent",value:function(t){var e=this.graph._getXY(t);return this.searchIndexByPxXY(e.x-this.graph.getPaddingLeft(),e.y-this.graph.getPaddingTop())}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}},{key:"select",value:function(t){return t=t||"selected",this.selected="unselected"!==t,this.areMarkersShown()||this.areMarkersShown(t)?(this.selectionType=t,this.draw(!0),this.applyLineStyles()):(this.selectionType=t,this.applyLineStyles()),this.applyLineStyle(this.getSymbolForLegend()),this}},{key:"unselect",value:function(){return this.selected=!1,this.select("unselected")}},{key:"degrade",value:function(t){return this.degradationPx=t,this}},{key:"drawInit",value:function(t){var e=this;try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var i=this.getXAxis(),r=this.graph.getDrawingWidth()*(i.getDataMax()-i.getDataMin())/(i.getCurrentMax()-i.getCurrentMin()),n=this.waveform.selectAggregatedData(r);if(n instanceof Promise)return n.then(function(){e.draw(t)}),!1;if(!1===n)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(t){if(f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments),!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.eraseMarkers(),this.lookForMaxima=!0,this.lookForMinima=!1,this.markerFamily=this.markerFamilies[this.selectionType||"unselected"],this.pos0=this.getYAxis().getPos(0),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertMarkers(),this.insertLinesGroup()}for(var i in this.domMarkerHover)this.toggleMarker(i.split(","),!1,!0);for(var i in this.domMarkerSelect)this.toggleMarker(i.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var t,e=this,i=this.waveform,r=void 0,n=void 0,s=!1,o=!1,a=void 0,u=void 0,h=void 0,l=void 0,c=this.getXAxis(),f=this.getYAxis(),p=c.getCurrentMin(),d=f.getCurrentMin(),g=c.getCurrentMax(),y=f.getCurrentMax();if(i){t=i.getData(!0);var v=void 0,m=void 0,x=void 0,b=void 0,k=void 0,M=void 0,S=void 0,A=void 0,_=i.getShift(),w=i.getScale(),P=!1,C=!1,L=void 0,O=this.isMonotoneous(),E=this.markersShown(),T=0,X=i.getLength();if(this.currentLine="",i.isXMonotoneous()){if(i.isXMonotoneousAscending())try{T=i.getIndexFromX(p,!0)||0,X=i.getIndexFromX(g,!0)}catch(t){X=i.getLength()}else try{T=i.getIndexFromX(g,!0)||0,X=i.getIndexFromX(p,!0)}catch(t){X=i.getLength()}(X+=2)>t.length&&(X=t.length)}for(;T<X;T+=1)if(r=i.getX(T,!0),n=t[T]*w+_,r==r&&n==n){if(!this.options.overflowX&&r<p&&s<p||!this.options.overflowX&&r>g&&s>g||(!this.options.overflowY&&n<d&&o<d||!this.options.overflowY&&n>y&&o>y)&&!this.options.lineToZero)s=r,o=n,C=!0;else if(this.counter2=T,E&&this.getMarkerCurrentFamily(this.counter2),h=this.getX(r),l=this.getY(n),h!=a||l!=u)if(h==h&&l==l){if(P=O?!this.options.overflowY&&(n<d||n>y):!this.options.overflowX&&(r<p||r>g)||!this.options.overflowY&&(n<d||n>y),this.options.lineToZero){if(P=r<p||r>g)continue}else if(P||C){!1!==s&&!1!==o||C?(L=[],m=n-(v=(r-p)/(r-s))*(n-o),b=n-(x=(r-g)/(r-s))*(n-o),M=r-(k=(n-d)/(n-o))*(r-s),A=r-(S=(n-y)/(n-o))*(r-s),v<1&&v>0&&!1!==m&&m<y&&m>d&&L.push([p,m]),x<1&&x>0&&!1!==b&&b<y&&b>d&&L.push([g,b]),k<1&&k>0&&!1!==M&&M<g&&M>p&&L.push([M,d]),S<1&&S>0&&!1!==A&&A<g&&A>p&&L.push([A,y]),L.length>0?P?C?2==L.length&&(this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(this.getX(L[1][0]),this.getY(L[1][1]),L[0][0],L[0][1],!1,!1,!1)):(L.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(L,A,M,b,m,n,d,y,o)),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1)):(L.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(L,A,M,b,m,n,d,y,o)),this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(h,l,s,o,!1,!1,!0)):P||this._addPoint(h,l,s,o,T,!1,!1)):(a=h,u=l,s=r,o=n),a=h,u=l,s=r,o=n,C=P;continue}this._addPoint(h,l,r,n,T,!1,!0),a=h,u=l,s=r,o=n}else this.counter>0&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var D=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(D),T=0,X=D.children.length;T<X;T++)D.children[T].setAttribute("stroke","transparent"),D.children[T].setAttribute("stroke-width","25px"),D.children[T].setAttribute("pointer-events","stroke");this._trackerDom=D,this.groupMain.addEventListener("mousemove",function(t){var i=e.graph._getXY(t),r=e.handleMouseMove(!1,!1);e._trackingCallback(e,r,i.x,i.y)}),this.groupMain.addEventListener("mouseleave",function(t){e._trackingOutCallback(e)})}return this}}},{key:"kill",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"kill",this).call(this)}},{key:"getMarkerCurrentFamily",value:function(t){if(this.markerPoints&&this.markerPoints[this.selectionType]){for(var e,i=0;i<this.markerPoints[this.selectionType].length&&this.markerPoints[this.selectionType][i][0]<=t;i++)this.markerPoints[this.selectionType][i][1]>=t&&(this.markerCurrentFamily=this.markerPoints[this.selectionType][i][2],e=this.markerFamilies[this.selectionType][this.markerCurrentFamily]);return!!e&&(this.getMarkerDom(e),this.markerCurrentFamily)}}},{key:"setMarkerStyleTo",value:function(t,e){if(!t||!e)throw console.trace(),"Cannot set marker style. DOM does not exist.";t.setAttribute("fill",e.fillColor||"transparent"),t.setAttribute("stroke",e.strokeColor||this.getLineColor()),t.setAttribute("stroke-width",e.strokeWidth||1)}},{key:"hideTrackingMarker",value:function(){this.marker.setAttribute("display","none"),this.markerLabel.setAttribute("display","none"),this.markerLabelSquare.setAttribute("display","none")}},{key:"_addPoint",value:function(t,e,i,r,n,s,o){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||s?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(n,i,r,t,e),this.markerPoints?(this.markersShown()&&!1!==o&&this.markerFamily&&function(t,e,i,r,n){if(!e)return;if(t.options.markersIndependant){var s=t.getMarkerDomIndependent(t.counter2,e),o="M "+i+" "+r+" ";o+=e.markerPath+" ",s.setAttribute("d",o)}n.path=n.path||"",n.path+="M "+i+" "+r+" ",n.path+=e.markerPath+" "}(this,this.markerFamily[this.markerCurrentFamily],t,e,this.markersDom.get(this.markerFamily[this.markerCurrentFamily])),this.counter++):this.counter++)}},{key:"_createLine",value:function(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}},{key:"applyLineStyles",value:function(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(t,e){var i=t.zoom||1,r=(e=e||0,[]);switch(t.type){case 2:r=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:r=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:r=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:r=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return r.join(" ");if(r){for(var n=0,s=r.length;n<s;n++)"number"==c(r[n])&&(r[n]*=i+e);return r.join(" ")}}},{key:"getMarkerDom",value:function(t){var e=this;if(!this.markersDom.has(t)){var i=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(i,t),this.markersDom.set(t,{dom:i,path:""}),i.addEventListener("mouseover",function(t){var i=e._getMarkerIndexFromEvent(t);e.onMouseOverMarker(t,i)}),i.addEventListener("mouseout",function(t){var i=e._getMarkerIndexFromEvent(t);e.onMouseOutMarker(t,i)}),i.addEventListener("click",function(t){var i=e._getMarkerIndexFromEvent(t);e.onClickOnMarker(t,i)})}return t.dom}},{key:"getMarkerDomIndependent",value:function(t,e){var i=this;if(!this.independantMarkers[t]){var r=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(r,e),r.addEventListener("mouseover",function(e){i.onMouseOverMarker(e,t)}),r.addEventListener("mouseout",function(e){i.onMouseOutMarker(e,t)}),r.addEventListener("click",function(e){i.onClickOnMarker(e,t)}),this.independantMarkers[t]=r}return this.groupMarkers.appendChild(this.independantMarkers[t]),this.independantMarkers[t]}},{key:"searchIndexByPxXY",value:function(t,e){for(var i,r,n,s=!1,o=!1,a=(this._xDataToUse,0),u=this.waveform.getLength();a<u;a+=1)r=this.waveform.getX(a),n=this.waveform.getY(a),i=Math.pow(this.getX(r)-t,2)+Math.pow(this.getY(n)-e,2),(!s||i<s)&&(s=i,o=a);return o}},{key:"searchClosestValue",value:function(t,e){if(this.waveform){try{this.waveform.getIndexFromXY(t,e,void 0,void 0,this.getXAxis().getRelPx(1),this.getYAxis().getRelPx(1))}catch(t){console.error("Error while finding the closest index")}var i={},r=void 0;return r=t>this.waveform.getX(indexX)?0:1,Object.assign(i,{indexMin:indexX+r,indexMax:indexX+r+1,indexClosest:indexX,xMin:this.waveform.getX(indexX+r),xMax:this.waveform.getX(indexX+r+1),yMin:this.waveform.getY(indexX+r),yMax:this.waveform.getY(indexX+r+1),xClosest:this.waveform.getX(indexX),yClosest:this.waveform.getY(indexX),xExact:t}),i}}},{key:"handleMouseMove",value:function(t,e,i){var r=t||this.getXAxis().getMouseVal(),n=i||this.getYAxis().getMouseVal(),s=this.searchClosestValue(r,n);if(s){var o;if(s.xMax==s.xMin&&(o=s.yMin),e&&this.options.trackMouse){if(null==s.xMin)return!1;if(!this.marker)return;var a=this.getX(this.getFlip()?s.yClosest:s.xClosest),u=this.getY(this.getFlip()?s.xClosest:s.yClosest);if(isNaN(a)||isNaN(u))return;switch(this.marker.setAttribute("display","block"),this.marker.setAttribute("cx",a),this.marker.setAttribute("cy",u),this.markerLabel.setAttribute("display","block"),this.markerLabelSquare.setAttribute("display","block"),this.options.trackMouseLabel){case!1:break;default:this.markerLabel.textContent=this.options.trackMouseLabel.replace("<x>",r.toFixed(this.options.trackMouseLabelRouding)).replace("<y>",o.toFixed(this.options.trackMouseLabelRouding))}this.markerLabel.setAttribute("x",a+5),this.markerLabel.setAttribute("y",u-5),this.markerLabelSquare.setAttribute("x",a+5),this.markerLabelSquare.setAttribute("y",u-5-this.graph.options.fontSize),this.markerLabelSquare.setAttribute("width",this.markerLabel.getComputedTextLength()+2),this.markerLabelSquare.setAttribute("height",this.graph.options.fontSize+2)}return{xBefore:s.xMin,xAfter:s.xMax,yBefore:s.yMin,yAfter:s.yMax,trueX:s.xExact,indexClosest:s.indexClosest,interpolatedY:o,xClosest:s.xClosest,yClosest:s.yClosest}}}},{key:"getMax",value:function(t,e){var i,r,n,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=-1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return-1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(n=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,r=n;r<=s;r+=2)l=Math.max(l,this.data[i][r+1]);return l}},{key:"getMin",value:function(t,e){var i,r,n,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return 1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(n=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,r=n;r<=s;r+=2)l=Math.min(l,this.data[i][r+1]);return l}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"setLineStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected",i=arguments[2];return this.styles[e]=this.styles[e]||{},this.styles[e].lineStyle=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineStyle",value:function(t){return this.getStyle(t).lineStyle}},{key:"getLineDashArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(t).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[t].lineStyle}this.styleHasChanged(t)}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[t]}},{key:"extendStyles",value:function(){for(var t in this.styles){var e=this.styles[t];e&&(this.styles[t]=u.extend(!0,{},this.styles.unselected,e))}}},{key:"extendStyle",value:function(t,e){var i=this.styles[t];this.styles[t]=u.extend(!0,{},this.styles[e||"unselected"],i||{}),this.styles[t].markers.map(function(t){t.dom&&(t.dom="")}),this._recalculateMarkerPoints(t,this.styles[t].markers),this.styleHasChanged(t)}},{key:"setLineWidth",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineWidth=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineWidth",value:function(t){return this.getStyle(t).lineWidth||1}},{key:"setLineColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineColor=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineColor",value:function(t){return this.getStyle(t).lineColor||"black"}},{key:"showMarkers",value:function(t,e){return t=t||"unselected",this.styles[t]=this.styles[t]||{},this.styles[t].showMarkers=!0,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"hideMarkers",value:function(t,e){return t=t||"unselected",this.styles[t].showMarkers=!1,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"markersShown",value:function(t){return!1!==this.getStyle(t).showMarkers}},{key:"areMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"isMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"setMarkers",value:function(t,e,i){return this.styles[e||"unselected"]=this.styles[e||"unselected"]||{},this.showMarkers(e,!1),Array.isArray(t)||"object"!=(void 0===t?"undefined":c(t))?t||(t=[{type:1,zoom:1,points:"all"}]):t=[t],this.styles[e||"unselected"].markers=t,i&&(this.styles.selected.markers=u.extend(!0,{},t)),this._recalculateMarkerPoints(e,t),this.styleHasChanged(e),this.dataHasChanged(!0),this}},{key:"setMarkersPoints",value:function(t,e,i){this._extendMarkers("points",t,e,i,!0)}},{key:"setMarkersColor",value:function(t,e,i){this._extendMarkers("color",t,e,i)}},{key:"setMarkersType",value:function(t,e,i){this._extendMarkers("type",t,e,i)}},{key:"setMarkersZoom",value:function(t,e,i){this._extendMarkers("zoom",t,e,i)}},{key:"setMarkersStrokeColor",value:function(t,e,i){this._extendMarkers("strokeColor",t,e,i)}},{key:"setMarkersStrokeWidth",value:function(t,e,i){this._extendMarkers("strokeWidth",t,e,i)}},{key:"setMarkersFillColor",value:function(t,e,i){this._extendMarkers("fillColor",t,e,i)}},{key:"_extendMarkers",value:function(t,e,i,r,n){i=i||0,r=r||"unselected",this.styles[r]&&this.styles[r].markers&&(this.styles[r].markers[i][t]=e,n&&this._recalculateMarkerPoints(r,this.styles[r].markers),this.markersDom[this.styles[r].markers[i]]&&this.setMarkerStyleTo(this.markersDom[this.styles[r].markers[i]].dom,this.styles[r].markers[i]))}},{key:"_recalculateMarkerPoints",value:function(t,e){var i=[];i.push([0,1/0,null]);for(var r=0,n=e.length;r<n;r++){e[r].markerPath=this.getMarkerPath(e[r]),e[r].points||(e[r].points="all"),Array.isArray(e[r].points)||(e[r].points=[e[r].points]);for(var s=0,o=e[r].points.length;s<o;s++)"all"==e[r].points[s]?i.push([0,1/0,r]):Array.isArray(e[r].points[s])?i.push([e[r].points[s][0],e[r].points[s][1],r]):i.push([e[r].points[s],e[r].points[s],r])}this.markerFamilies[t||"unselected"]=e,i.sort(function(t,e){return t[0]-e[0]||(null==t[2]?-1:1)}),this.markerPoints[t||"unselected"]=i}},{key:"insertMarkers",value:function(t){if(this.markerFamilies&&this.markerFamilies[t||this.selectionType]&&!this.options.markersIndependant)for(var e=0,i=this.markerFamilies[t||this.selectionType].length;e<i;e++)if(this.markersDom.has(this.markerFamilies[t||this.selectionType][e])){var r=this.markersDom.get(this.markerFamilies[t||this.selectionType][e]);r.dom.setAttribute("d",r.path),this.groupMarkers.appendChild(r.dom),this.currentMarkersSelectionType=this.selectionType}}},{key:"getMarkerForLegend",value:function(){if(this.markerPoints&&this.markerPoints[this.selectionType]){if(!this.markerForLegend){var t=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(t,this.markerFamilies[this.selectionType][0]),t.setAttribute("d","M 14 0 "+this.getMarkerPath(this.markerFamilies[this.selectionType][0])),this.markerForLegend=t}return this.markerForLegend}}},{key:"eraseMarkers",value:function(){var t=this;if(this.options.markersIndependant){for(var e in this.independantMarkers)t.groupMarkers.removeChild(this.independantMarkers[e]);this.independantMarkers={}}else this.currentMarkersSelectionType&&(this.markersDom.forEach(function(e){e.dom&&e.dom.parentNode===t.groupMarkers&&(t.groupMarkers.removeChild(e.dom),e.path="")}),this.currentMarkersSelectionType=!1)}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}}]),e}();u.mix(d,h.default),e.default=d,t.exports=e.default},n=[t,e,i(45),i(57),i(5),i(73),i(46)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var r=i(20),n=i(6)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:s?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function n(t){return!!(t&&t.indexOf&&t.indexOf("px")>-1)&&parseInt(t.replace("px",""))}var s=function(){function t(e,r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"==(void 0===e?"undefined":i(e))?(this.x=e.x,this.y=e.y,this.dx=e.dx,this.dy=e.dy):(this.x=e,this.y=r,this.dx=n,this.dy=s)}return r(t,[{key:"duplicate",value:function(){return new t(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(t,e,i,r){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,r)}},{key:"_compute",value:function(t,e,i,r){var s=this._relativeTo;if(s)var o=s._compute(t,e,i,r);var a,u={x:!1,y:!1};for(var h in e||(e=t.getXAxis()),i||(i=t.getYAxis()),u){var l="x"==h?e:i,c=this[h],f=this["d"+h];if(void 0===c&&(void 0!==f&&void 0===s||void 0===s)){if("x"==h){if(void 0===f)continue;u[h]=s?s[h]:0}else if(void 0!==this.x&&r){if(!1!==n(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),u[h]=0;else(d=r.searchClosestValue(this.x))?u[h]=r.getY(d.yMin):(console.warn("Could not find y position for x = "+this.x+' on serie "'+r.getName()+'". Returning 0 for y.'),u[h]=0)}}else void 0!==c&&(u[h]=this.getPx(c,l));if(void 0!==f){var p=void 0!==c||null==o||null==o[h]?u[h]:o[h];if("y"==h&&o&&void 0!==o.x&&null==o.y){if(!r)throw"Error. No serie exists. Cannot find y value";var d;(d=r.searchClosestValue(s.x))&&(p=r.getY(d.yMin))}p||(p=0),!1!==(a=n(f))?u[h]=p+a:!1!==(a=this._parsePercent(f))?u[h]=p+this._getPositionPx(a,!0,l,t):l&&(u[h]=p+l.getRelPx(f))}}return u}},{key:"_getPositionPx",value:function(t,e,i,r){var s;return!1!==(s=n(t))?s:!1!==(s=this._parsePercent(t))?s/100*(e?r.getDrawingWidth():r.getDrawingHeight()):i?i.getPos(t):void 0}},{key:"_parsePercent",value:function(t){return!!(t&&t.indexOf&&t.indexOf("%")>-1)&&t}},{key:"getDeltaPx",value:function(t,e){var i;return!1!==(i=n(t))?i+"px":e.getRelPx(t)+"px"}},{key:"deltaPosition",value:function(t,e,i){var r,s,o=this[t="y"==t?"y":"x"],a=this["d"+t];if(void 0!==o)!1!==(r=n(o))?!1!==(s=n(e))?this[t]=r+s+"px":this[t]=r+i.getRelPx(e)+"px":(o=this.getValPosition(o,i),!1!==(s=n(e))?this[t]=o+i.getRelVal(s):this[t]=o+e);else if(void 0!==a){if("y"==t&&void 0===o&&!this._relativeTo)return;!1!==(r=n(a))?!1!==(s=n(e))?this["d"+t]=r+s+"px":this["d"+t]=r+i.getRelPx(e)+"px":(a=this.getValPosition(a,i),!1!==(s=n(e))?this["d"+t]=a+i.getRelVal(s):this["d"+t]=a+e)}}},{key:"getValPosition",value:function(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}},{key:"getPx",value:function(t,e,i){var r,s;if("function"==typeof t)return t(e,i);if(!1!==(r=n(t)))return r;if(!1!==(r=this._parsePercent(t)))return r;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(i)return e.getRelPx(t);if(s=t,!isNaN(parseFloat(s))&&isFinite(s))return e.getPos(t)}}},{key:"getPxRel",value:function(t,e){return this.getPx(t,e,!0)}},{key:"relativeTo",value:function(e){return this._relativeTo=t.check(e),this}}],[{key:"check",value:function(e,i){if(e instanceof t)return e;var r=new t(e);if(e&&e.relativeTo){var n=i(e.relativeTo);n&&r.relativeTo(n)}return r}}]),t}();e.default=s,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}var n=r.prototype;function s(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,i,r=this._getEvents();if(t instanceof RegExp)for(i in e={},r)r.hasOwnProperty(i)&&t.test(i)&&(e[i]=r[i]);else e=r[t]||(r[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,e){var r,n=this.getListenersAsObject(t),o="object"===(void 0===e?"undefined":i(e));for(r in n)n.hasOwnProperty(r)&&-1===s(n[r],e)&&n[r].push(o?e:{listener:e,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var i,r,n=this.getListenersAsObject(t);for(r in n)n.hasOwnProperty(r)&&-1!==(i=s(n[r],e))&&n[r].splice(i,1);return this},n.off=o("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,r){var n,s,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":i(e))||e instanceof RegExp)for(n=r.length;n--;)o.call(this,e,r[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):a.call(this,n,s));return this},n.removeEvent=function(t){var e,r=void 0===t?"undefined":i(t),n=this._getEvents();if("string"===r)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(t,e){var i,r,n,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(r=s[n].length;r--;)!0===(i=s[n][r]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=o("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.default=r,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(i),o=(function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(r),a(n));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var h=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.graph=t,n.name=i,n.options=Object.assign({},e.default(),n.constructor.default(),r),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),u(e,null,[{key:"default",value:function(){return{redrawShapesAfterDraw:!1}}}]),u(e,[{key:"draw",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(t){t.redraw()}),this.emit("draw")}},{key:"setData",value:function(t,e,i){if(t instanceof o.default)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(t,e){return[]}},{key:"clearData",value:function(){return this.setData(new o.default),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(t){this.options=t||{}}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"kill",value:function(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),r=0,n=i.length;r<n;r++)i[r].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),r=0,n=i.length;r<n;r++)i[r].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(t){return(t=this.getXAxis().getPx(t))-t%.2}},{key:"getY",value:function(t){return(t=this.getYAxis().getPx(t))-t%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}},{key:"_checkY",value:function(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(t){if(!(t instanceof o.default))throw console.trace(),console.error(t),new Error("Cannot assign waveform to serie. Waveform is not of the proper Waveform instance");return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1",5),t.setAttribute("x2",25),t.setAttribute("y1",0),t.setAttribute("y2",0),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(t){return this.options.flip=t,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(t){var e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"styleHasChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(t){return this._changedStyles=this._changedStyles||{},this._changedStyles[t||"unselected"]}},{key:"dataHasChanged",value:function(t){return this._dataHasChanged=void 0===t||t,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}},{key:"getInfo",value:function(t,e){return(this.infos||{})[t]}},{key:"setAdditionalData",value:function(t){return this.additionalData=t,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(){return this.selected=!0,this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(t,e){return this._tracker=!0,this._trackingCallback=t,this._trackingOutCallback=e,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this._trackingCallback=null,this}},{key:"allowTrackingLine",value:function(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"setDataIndices",value:function(t,e){this.categoryIndices=t,this.nbCategories=e}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}},{key:"excludedFromLegend",set:function(t){this._excludedFromLegend=t},get:function(){return!!this._excludedFromLegend}}]),e}();e.default=h,t.exports=e.default},n=[t,e,i(56),i(5),i(46)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(2),n="__core-js_shared__",s=r[n]||(r[n]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e,i){var r=i(16),n=i(9),s=i(38);t.exports=function(t){return function(e,i,o){var a,u=r(e),h=n(u.length),l=s(o,h);if(t&&i!=i){for(;h>l;)if((a=u[l++])!=a)return!0}else for(;h>l;l++)if((t||l in u)&&u[l]===i)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var r=i(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(4),n=i(20),s=i(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},function(t,e,i){var r=i(6)("iterator"),n=!1;try{var s=[7][r]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var s=[7],o=s[r]();o.next=function(){return{done:i=!0}},s[r]=function(){return o},t(s)}catch(t){}return i}},function(t,e,i){"use strict";var r=i(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var r=i(13),n=i(14),s=i(3),o=i(24),a=i(6);t.exports=function(t,e,i){var u=a(t),h=i(o,u,""[t]),l=h[0],c=h[1];s(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(n(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},function(t,e,i){var r=i(1),n=i(11),s=i(6)("species");t.exports=function(t,e){var i,o=r(t).constructor;return void 0===o||null==(i=r(o)[s])?e:n(i)}},function(t,e,i){"use strict";var r=i(2),n=i(0),s=i(14),o=i(44),a=i(32),u=i(43),h=i(42),l=i(4),c=i(3),f=i(63),p=i(47),d=i(81);t.exports=function(t,e,i,g,y,v){var m=r[t],x=m,b=y?"set":"add",k=x&&x.prototype,M={},S=function(t){var e=k[t];s(k,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof x&&(v||k.forEach&&!c(function(){(new x).entries().next()}))){var A=new x,_=A[b](v?{}:-0,1)!=A,w=c(function(){A.has(1)}),P=f(function(t){new x(t)}),C=!v&&c(function(){for(var t=new x,e=5;e--;)t[b](e,e);return!t.has(-0)});P||((x=e(function(e,i){h(e,x,t);var r=d(new m,e,x);return null!=i&&u(i,y,r[b],r),r})).prototype=k,k.constructor=x),(w||C)&&(S("delete"),S("has"),y&&S("get")),(C||_)&&S(b),v&&k.clear&&delete k.clear}else x=g.getConstructor(e,t,y,b),o(x.prototype,i),a.NEED=!0;return p(x,t),M[t]=x,n(n.G+n.W+n.F*(x!=m),M),v||g.setStrong(x,t,y),x}},function(t,e,i){for(var r,n=i(2),s=i(13),o=i(35),a=o("typed_array"),u=o("view"),h=!(!n.ArrayBuffer||!n.DataView),l=h,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(r=n[f[c++]])?(s(r.prototype,a,!0),s(r.prototype,u,!0)):l=!1;t.exports={ABV:h,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,i){"use strict";t.exports=i(36)||!i(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(2)[t]})},function(t,e,i){"use strict";var r=i(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var r=i(0),n=i(11),s=i(19),o=i(43);t.exports=function(t){r(r.S,t,{from:function(t){var e,i,r,a,u=arguments[1];return n(this),(e=void 0!==u)&&n(u),null==t?new this:(i=[],e?(r=0,a=s(u,arguments[2],2),o(t,!1,function(t){i.push(a(t,r++))})):o(t,!1,i.push,i),new this(i))}})}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=u(r),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var l={lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridColor:"#f0f0f0",secondaryGridColor:"#f0f0f0",primaryGridWidth:1,secondaryGridWidth:1,hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),h(e,[{key:"init",value:function(t,e,i){var r=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=t,this.options=a.extend(!0,{},l,i,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(t){t.preventDefault();var e=r.graph._getXY(t);r.handleMouseMoveLocal(e.x,e.y,t);for(var i=0,n=r.series.length;i<n;i++)r.series[i].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(t){t.preventDefault();var e=r.graph._getXY(t);r.addLabel(r.getVal(e.x-r.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.gridSecondary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.graph._axisHasChanged(this)}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(t){return this.options.display=!!t,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(t,e){return t||e.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(t,e){this.graph.killAxis(this,t,e)}},{key:"setLineAt",value:function(t){return this.options.lineAt=t,this}},{key:"adaptTo",value:function(t,e,i,r){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:r},this.adapt(),this):(this.options.adaptTo=!1,this)}},{key:"adapt",value:function(){if(this.options.adaptTo){var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.currentAxisMin&&void 0!==t.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.currentAxisMin=this.options.forcedMin:this.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())),this.currentAxisMin==e&&(this.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());var r=!1!==this.options.forcedMin?this.options.forcedMin:this.currentAxisMin;this.currentAxisMax=(e-r)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+r}else{!1!==this.options.forcedMax?this.currentAxisMax=this.options.forcedMax:this.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.currentAxisMax==e&&(this.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());r=!1!==this.options.forcedMax?this.options.forcedMax:this.currentAxisMax;this.currentAxisMin=(e-r)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+r}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(t){this.options.axisDataSpacing.min=t}},{key:"setAxisDataSpacingMax",value:function(t){this.options.axisDataSpacing.max=t}},{key:"setMinPx",value:function(t){this.minPx=t,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(t){this.maxPx=t,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return!1!==this.options.forcedMin?this.options.forcedMin:this.dataMin}},{key:"getMaxValue",value:function(){return!1!==this.options.forcedMax?this.options.forcedMax:this.dataMax}},{key:"setMinValueData",value:function(t){this.dataMin=t,isNaN(this.getCurrentMin())}},{key:"setMaxValueData",value:function(t){this.dataMax=t,isNaN(this.getCurrentMax())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"forceMin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"forceMax",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(t){this.options.nbTicksPrimary=t}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(t){return this.options.nbTicksSecondary=t,this}},{key:"handleMouseMove",value:function(t){this.mouseVal=this.getVal(t)}},{key:"handleMouseWheel",value:function(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i),this.graph.draw()}},{key:"zoom",value:function(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}},{key:"_doZoomVal",value:function(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}},{key:"_doZoom",value:function(t,e,i,r,n){i=void 0!==i?i:this.getVal(t),r=void 0!==r?r:this.getVal(e);return this.setCurrentMin(Math.min(i,r)),this.setCurrentMax(Math.max(i,r)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,n||this.emit("zoom",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(t,e,i){var r=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":var n,s=void 0,o=void 0,a=void 0,u=!1;for(s=0,n=this.unitModificationTimeTicks.length;s<n;s++){for(o=0,a=this.unitModificationTimeTicks[s][1].length;o<a;o++)if(r<this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]){u=!0;break}if(u)break}d=s!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]:1;break;default:var h=Math.floor(Math.log(r)/Math.log(10)),l=r*Math.pow(10,-h);this.decimals=-h;for(var c=[1,2,5,10],f=!1,p=c.length-1;p>=0;p--)(!f||Math.abs(c[p]-l)<Math.abs(f-l))&&(f=c[p]);var d=f*Math.pow(10,h)}var g=i/d;return[d,g,t/e]}},{key:"setMinMaxToFitSeries",value:function(t){var e=this.getInterval();return this.options.logScale?(this.currentAxisMin=Math.max(1e-50,.9*this.getMinValue()),this.currentAxisMax=Math.max(1e-50,1.1*this.getMaxValue())):(this.currentAxisMin=this.getMinValue(),this.currentAxisMax=this.getMaxValue(),!1===this.getForcedMin()&&(this.currentAxisMin-=this.options.axisDataSpacing.min*e),!1===this.getForcedMax()&&(this.currentAxisMax+=this.options.axisDataSpacing.max*e)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.currentAxisMin==this.currentAxisMax?this.options.logScale?this.currentAxisMin/10:this.currentAxisMin-1:this.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.currentAxisMax==this.currentAxisMin?this.options.logScale?10*this.currentAxisMax:this.currentAxisMax+1:this.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||void 0===t))&&(t=this.getMinValue()),this.currentAxisMin=t,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||void 0===t))&&(t=this.getMaxValue()),this.currentAxisMax=t,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var t=this;void 0!==this.currentAxisMin&&void 0!==this.currentAxisMax||this.setMinMaxToFitSeries(!0);var e=Math.abs(this.getMaxPx()-this.getMinPx()),i=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="";var r=void 0;if(this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var n=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?(n+=r,this.preunitTspan.innerHTML=r,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),n+=" "+r+" "+this.options.unit):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),n+=" \\cdot 10^"+this.scientificExponent+" "+this.options.unit),this.katexElement=this.graph.renderWithKatex(n,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=r,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)s=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;var s=this.drawLinkedToAxisTicksWrapper(e,i)}else if(this.options.logScale)s=this.drawLogTicks();else var s=this.drawLinearTicksWrapper(e,i);return this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary),this.graph.findAxesLinkedTo(this).forEach(function(e){e.linkedToAxis&&(e.setMinPx(t.getMinPx()),e.setMaxPx(t.getMaxPx()),e.draw())}),s}},{key:"drawLines",value:function(){var t=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(e,i){!isNaN(e)&&t.getCurrentMin()<=e&&t.getCurrentMax()>=e?t._lines[i]=t._drawLine(e,t._lines[i]):t._hideLine(t._lines[i])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none"),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f";default:return""}}},{key:"drawLinearTicksWrapper",value:function(t,e){var i=void 0;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this.drawTicks(i,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(t){this.options.primaryTickUnit=t}},{key:"forcePrimaryTickUnitMax",value:function(t){this.options.maxPrimaryTickUnit=t}},{key:"forcePrimaryTickUnitMin",value:function(t){this.options.minPrimaryTickUnit=t}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(t){this.options.ticklabelratio=t}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}},{key:"drawTicks",value:function(t,e){var i,r,n,s=t,o=this.getCurrentMin(),a=this.getCurrentMax(),u=0;for(e&&(i=s/e),r=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-o)/s)*s:Math.floor(o/s)*s,this.incrTick=t;r<=a&&!(++u>200);){if(e){n=r+i,this.subIncrTick=n;for(var h=0;n<r+s&&!(++h>100);)n<o||n>a?n+=i:(this.drawTickWrapper(n,!1,Math.abs(n-r-s/2)<1e-4?2:3),n+=i)}r<o||r>a?r+=t:(this.drawTickWrapper(r,!0,1),r+=t)}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){var i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}i=this.ticks[t][this.currentTick[t]];return this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}},{key:"nextTickLabel",value:function(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}e=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}},{key:"removeUselessTicks",value:function(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}},{key:"removeUselessTickLabels",value:function(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(t,e,i,r,n){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+="M "+e+" "+r+" L "+i+" "+n)}},{key:"setGridLineStyle",value:function(t,e){var i;t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity()),(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e);e=Math.max(t,e);i<1e-50&&(i=1e-50),Math.log(i)-Math.log(e)>20&&(e=Math.pow(10,20*Math.log(i)));var r={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);var n,s=0==i?0:Math.floor(Math.log(i)/Math.log(10));for(i=1;(n=i*Math.pow(10,s))<e;)1==i&&n>t&&this.drawTickWrapper(n,!0,1,r),10==i?(i=1,s++):(1!=i&&n>t&&this.drawTickWrapper(n,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(t,e,i,r){this.drawTick(t,i,r)}},{key:"linkToAxis",value:function(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(t,e){var i,r,n,s,o=this.linkedToAxis,a=0;o.deltaPx||(o.deltaPx=10);do{if(i=o.scalingFunction(o.axis.getVal(a+this.getMinPx())),o.decimals&&(this.decimals=o.decimals),!(r=this.drawTick(i,1,{},a+this.getMinPx())))throw console.error(i,a,this.getMinPx()),new Error("Unable to draw tick. Please report the test-case");if(n=8*String(r[1].textContent).length,(s=5*Math.round(n/5))>o.deltaPx)return o.deltaPx=s,void this.drawLinkedToAxisTicksWrapper(t,e);a+=o.deltaPx}while(a<t)}},{key:"getPos",value:function(t){return this.getPx(t)}},{key:"getPx",value:function(t){if(this.options.logScale){if(t<0)return;return t=(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(t){return Math.round(10*this.getPx(t))/10}},{key:"getVal",value:function(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(t){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return t=this.modifyUnit(t,this.options.unitModification);var e=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=e>0?t.toFixed(e):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=" "+this.options.unit),t)}},{key:"valueToHtml",value:function(t,e,i){var r,n=this.valueToText(t);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?n+=r:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(n+="x10",n+="<sup>"+this.scientificExponent+"</sup>"),this.options.unit&&!i&&(n+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),n}},{key:"getModifiedValue",value:function(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}},{key:"modifyUnit",value:function(t,e){var i,r="",n=this.incrTick;switch(e){case"time":var s=this.getModifiedValue(this.getMaxValue()),o=[[60,"min"],[3600,"h"],[86400,"d"]];if(s<3600?i=0:s<86400?i=1:s<2592e3&&(i=2),!o[i])return!1;for(t/=o[i][0],r=(a=Math.floor(t))+o[i][1],i--;n<1*o[i+1][0]&&i>-1;)t=(t-a)*o[i+1][0]/o[i][0],r+=" "+(a=Math.round(t))+o[i][1],i--;break;case"time:min.sec":t/=60;var a=Math.floor(t),u=Math.round(60*(t-a))+"";r=a+"."+(u=1==u.length?"0"+u:u)}return r}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(t){this.options.exponentialFactor=t}},{key:"setExponentialLabelFactor",value:function(t){this.options.exponentialLabelFactor=t}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setLabel",value:function(t){return this.options.labelValue=t,this}},{key:"setLabelFont",value:function(t){return this.options.labelFont=t,this}},{key:"getLabel",value:function(){return this.options.labelValue}},{key:"setSpan",value:function(t,e){return this.options.span=[t,e],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(t){return this._level=t,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(t){this.shift=t}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(t){switch(t){case 3:case"outside":case s.default.TICKS_OUTSIDE:t=3;break;case 2:case"centered":case s.default.TICKS_CENTERED:t=2;break;case 1:case"inside":case s.default.TICKS_INSIDE:default:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;default:case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}},{key:"setPrimaryGrid",value:function(t){return this.options.primaryGrid=t,this}},{key:"setSecondaryGrid",value:function(t){return this.options.secondaryGrid=t,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setAxisColor",value:function(t){return this.options.axisColor=t,this}},{key:"getAxisColor",value:function(){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(t){return this.options.tickLabelOffset=t,this}},{key:"setPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor=t,this}},{key:"getPrimaryTicksColor",value:function(){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor=t,this}},{key:"getSecondaryTicksColor",value:function(){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(t){return this.options.ticksLabelColor=t,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(e){e.setAttribute("fill",t)}),this}},{key:"getTicksLabelColor",value:function(){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(t){return this.options.primaryGridOpacity=t,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(t){return this.options.secondaryGridOpacity=t,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(t){return this.options.primaryGridDasharray=t,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(t){return this.options.secondaryGridDasharray=t,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(t){return this.options.labelColor=t,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e);else{var r=Math.round(Math.log(e)/Math.log(10)),n=Math.floor(e*Math.pow(10,-r));t.textContent=1!=n?n+"x10":"10";var s=document.createElementNS(this.graph.ns,"tspan");s.textContent=r,s.setAttribute("font-size","0.7em"),s.setAttribute("dy",-5),t.appendChild(s)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(t){return this.options.unit=t,this}},{key:"setUnitInTicks",value:function(t){return this.options.unitInTicks=t,this}},{key:"setUnitWrapper",value:function(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}},{key:"setUnitDecade",value:function(t){return this.options.unitDecade=t,this}},{key:"setScientific",value:function(t){return this.options.scientificScale=t,this}},{key:"setScientificScaleExponent",value:function(t){return this.options.scientificScaleExponent=t,this}},{key:"setEngineering",value:function(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}},{key:"getEngineeringExponent",value:function(t){return t-=t>0?t%3:(3- -t%3)%3}},{key:"setLogScale",value:function(t){return this.options.logScale=t,this}},{key:"isZoomed",value:function(){return!(this.currentAxisMin==this.getMinValue()||this.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=t,this}},{key:"zoomLock",set:function(t){this._zoomLocked=t},get:function(){return this._zoomLocked||!1}}]),e}();c.prototype.getValue=c.prototype.getVal,c.prototype.getDeltaPx=c.prototype.getRelPx,e.default=c,t.exports=e.default},n=[t,e,i(45),i(56),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i);var n={makeBarY:function(t,e,i){if(t&&void 0!==i){var n=r.isNumeric(i.width)?i.width:10;return" V "+t+" m -"+n/2+" 0 h "+n+" m -"+n/2+" 0 V "+e+" "}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return" m 5 0 V "+t+" h -10 V "+e+" m 5 0 "},makeBarX:function(t,e,i){if(t&&void 0!==i){var n=r.isNumeric(i.width)?i.width:10;return" H "+t+" m 0 -"+n/2+" v "+n+" m 0 -"+n/2+" H "+e+" "}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return" v 5 H "+t+" v -10 H "+e+" v 5 "},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[],s=[["y","top","bottom"],["x","left","right"]];n={};"string"==typeof i&&(i={});for(var o=0,a=s.length;o<a;o++){i.all&&(i[s[o][1]]=r.extend(!0,{},i.all),i[s[o][2]]=r.extend(!0,{},i.all)),i[s[o][0]]&&(i[s[o][1]]=r.extend(!0,{},i[s[o][0]]),i[s[o][2]]=r.extend(!0,{},i[s[o][0]]));for(var u=1;u<=2;u++)i[s[o][u]]&&(n[s[o][u]]=i[s[o][u]],(t=n[s[o][u]]).dom=document.createElementNS(e.graph.ns,"path"),t.dom.setAttribute("fill",t.fillColor||"none"),t.dom.setAttribute("stroke",t.strokeColor||"black"),t.dom.setAttribute("stroke-opacity",t.strokeOpacity||1),t.dom.setAttribute("fill-opacity",t.fillOpacity||1),t.dom.setAttribute("stroke-width",t.strokeWidth||1),e.groupMain.appendChild(t.dom))}return n},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,r,n){var s=void 0;(s=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=" M "+r+" "+n,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-s),r,this.errorbarStyle.left)),(s=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=" M "+r+" "+n,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+s),r,this.errorbarStyle.right)),(s=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=" M "+r+" "+n,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-s),n,this.errorbarStyle.bottom)),(s=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=" M "+r+" "+n,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+s),n,this.errorbarStyle.top)),(s=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=" M "+r+" "+n,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-s),r,this.errorboxStyle.left)),(s=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=" M "+r+" "+n,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+s),r,this.errorboxStyle.right)),(s=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=" M "+r+" "+n,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-s),n,this.errorboxStyle.bottom)),(s=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=" M "+r+" "+n,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+s),n,this.errorboxStyle.top))},errorAddPointBarChart:function(t,e,i,r){var n;this.error&&(n=this.error[t])&&this.doErrorDraw("y",n,e,r,i,r)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};e.default=n,t.exports=e.default},n=[t,e,i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(4),n=i(2).document,s=r(n)&&r(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},function(t,e,i){var r=i(2),n=i(22),s=i(36),o=i(105),a=i(8).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var r=i(58)("keys"),n=i(35);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var r=i(2).document;t.exports=r&&r.documentElement},function(t,e,i){var r=i(4),n=i(1),s=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=i(19)(Function.call,i(17).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:s}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var r=i(4),n=i(79).set;t.exports=function(t,e,i){var s,o=e.constructor;return o!==i&&"function"==typeof o&&(s=o.prototype)!==i.prototype&&r(s)&&n&&n(t,s),t}},function(t,e,i){"use strict";var r=i(25),n=i(24);t.exports=function(t){var e=String(n(this)),i="",s=r(t);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var r=i(25),n=i(24);t.exports=function(t){return function(e,i){var s,o,a=String(n(e)),u=r(i),h=a.length;return u<0||u>=h?t?"":void 0:(s=a.charCodeAt(u))<55296||s>56319||u+1===h||(o=a.charCodeAt(u+1))<56320||o>57343?t?a.charAt(u):s:t?a.slice(u,u+2):o-56320+(s-55296<<10)+65536}}},function(t,e,i){"use strict";var r=i(36),n=i(0),s=i(14),o=i(13),a=i(12),u=i(49),h=i(87),l=i(47),c=i(18),f=i(6)("iterator"),p=!([].keys&&"next"in[].keys()),d="values",g=function(){return this};t.exports=function(t,e,i,y,v,m,x){h(i,e,y);var b,k,M,S=function(t){if(!p&&t in P)return P[t];switch(t){case"keys":case d:return function(){return new i(this,t)}}return function(){return new i(this,t)}},A=e+" Iterator",_=v==d,w=!1,P=t.prototype,C=P[f]||P["@@iterator"]||v&&P[v],L=!p&&C||S(v),O=v?_?S("entries"):L:void 0,E="Array"==e&&P.entries||C;if(E&&(M=c(E.call(new t)))!==Object.prototype&&M.next&&(l(M,A,!0),r||a(M,f)||o(M,f,g)),_&&C&&C.name!==d&&(w=!0,L=function(){return C.call(this)}),r&&!x||!p&&!w&&P[f]||o(P,f,L),u[e]=L,u[A]=g,v)if(b={values:_?L:S(d),keys:m?L:S("keys"),entries:O},x)for(k in b)k in P||s(P,k,b[k]);else n(n.P+n.F*(p||w),e,b);return b}},function(t,e,i){"use strict";var r=i(39),n=i(34),s=i(47),o={};i(13)(o,i(6)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=r(o,{next:n(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var r=i(62),n=i(24);t.exports=function(t,e,i){if(r(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(t))}},function(t,e,i){var r=i(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var r=i(49),n=i(6)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[n]===t)}},function(t,e,i){"use strict";var r=i(8),n=i(34);t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},function(t,e,i){var r=i(54),n=i(6)("iterator"),s=i(49);t.exports=i(22).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||s[r(t)]}},function(t,e,i){var r=i(237);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,i){"use strict";var r=i(10),n=i(38),s=i(9);t.exports=function(t){for(var e=r(this),i=s(e.length),o=arguments.length,a=n(o>1?arguments[1]:void 0,i),u=o>2?arguments[2]:void 0,h=void 0===u?i:n(u,i);h>a;)e[a++]=t;return e}},function(t,e,i){"use strict";var r=i(33),n=i(121),s=i(49),o=i(16);t.exports=i(86)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(t,e,i){var r,n,s,o=i(19),a=i(111),u=i(78),h=i(74),l=i(2),c=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,y=0,v={},m="onreadystatechange",x=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){x.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++y]=function(){a("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete v[t]},"process"==i(20)(c)?r=function(t){c.nextTick(o(x,t,1))}:g&&g.now?r=function(t){g.now(o(x,t,1))}:d?(s=(n=new d).port2,n.port1.onmessage=b,r=o(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r=m in h("script")?function(t){u.appendChild(h("script"))[m]=function(){u.removeChild(this),x.call(t)}}:function(t){setTimeout(o(x,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){var r=i(2),n=i(96).set,s=r.MutationObserver||r.WebKitMutationObserver,o=r.process,a=r.Promise,u="process"==i(20)(o);t.exports=function(){var t,e,i,h=function(){var r,n;for(u&&(r=o.domain)&&r.exit();t;){n=t.fn,t=t.next;try{n()}catch(r){throw t?i():e=void 0,r}}e=void 0,r&&r.enter()};if(u)i=function(){o.nextTick(h)};else if(!s||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve();i=function(){l.then(h)}}else i=function(){n.call(r,h)};else{var c=!0,f=document.createTextNode("");new s(h).observe(f,{characterData:!0}),i=function(){f.data=c=!c}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},function(t,e,i){"use strict";var r=i(11);t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r}),this.resolve=r(e),this.reject=r(i)}(t)}},function(t,e,i){"use strict";var r=i(2),n=i(7),s=i(36),o=i(68),a=i(13),u=i(44),h=i(3),l=i(42),c=i(25),f=i(9),p=i(130),d=i(40).f,g=i(8).f,y=i(94),v=i(47),m="ArrayBuffer",x="DataView",b="prototype",k="Wrong index!",M=r[m],S=r[x],A=r.Math,_=r.RangeError,w=r.Infinity,P=M,C=A.abs,L=A.pow,O=A.floor,E=A.log,T=A.LN2,X="byteLength",D="byteOffset",j=n?"_b":"buffer",I=n?"_l":X,N=n?"_o":D;function Y(t,e,i){var r,n,s,o=new Array(i),a=8*i-e-1,u=(1<<a)-1,h=u>>1,l=23===e?L(2,-24)-L(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===w?(n=t!=t?1:0,r=u):(r=O(E(t)/T),t*(s=L(2,-r))<1&&(r--,s*=2),(t+=r+h>=1?l/s:l*L(2,1-h))*s>=2&&(r++,s/=2),r+h>=u?(n=0,r=u):r+h>=1?(n=(t*s-1)*L(2,e),r+=h):(n=t*L(2,h-1)*L(2,e),r=0));e>=8;o[c++]=255&n,n/=256,e-=8);for(r=r<<e|n,a+=e;a>0;o[c++]=255&r,r/=256,a-=8);return o[--c]|=128*f,o}function F(t,e,i){var r,n=8*i-e-1,s=(1<<n)-1,o=s>>1,a=n-7,u=i-1,h=t[u--],l=127&h;for(h>>=7;a>0;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===l)l=1-o;else{if(l===s)return r?NaN:h?-w:w;r+=L(2,e),l-=o}return(h?-1:1)*r*L(2,l-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function R(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return Y(t,52,8)}function V(t){return Y(t,23,4)}function G(t,e,i){g(t[b],e,{get:function(){return this[i]}})}function U(t,e,i,r){var n=p(+i);if(n+e>t[I])throw _(k);var s=t[j]._b,o=n+t[N],a=s.slice(o,o+e);return r?a:a.reverse()}function Z(t,e,i,r,n,s){var o=p(+i);if(o+e>t[I])throw _(k);for(var a=t[j]._b,u=o+t[N],h=r(+n),l=0;l<e;l++)a[u+l]=h[s?l:e-l-1]}if(o.ABV){if(!h(function(){M(1)})||!h(function(){new M(-1)})||h(function(){return new M,new M(1.5),new M(NaN),M.name!=m})){for(var q,K=(M=function(t){return l(this,M),new P(p(t))})[b]=P[b],J=d(P),Q=0;J.length>Q;)(q=J[Q++])in M||a(M,q,P[q]);s||(K.constructor=M)}var $=new S(new M(2)),tt=S[b].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(S[b],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else M=function(t){l(this,M,m);var e=p(t);this._b=y.call(new Array(e),0),this[I]=e},S=function(t,e,i){l(this,S,x),l(t,M,x);var r=t[I],n=c(e);if(n<0||n>r)throw _("Wrong offset!");if(n+(i=void 0===i?r-n:f(i))>r)throw _("Wrong length!");this[j]=t,this[N]=n,this[I]=i},n&&(G(M,X,"_l"),G(S,"buffer","_b"),G(S,X,"_l"),G(S,D,"_o")),u(S[b],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(U(this,4,t,arguments[1]))},getUint32:function(t){return B(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,R,e)},setUint8:function(t,e){Z(this,1,t,R,e)},setInt16:function(t,e){Z(this,2,t,H,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,H,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,W,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,z,e,arguments[2])}});v(M,m),v(S,x),a(S[b],o.VIEW,!0),e[m]=M,e[x]=S},function(t,e,i){var r=i(2).navigator;t.exports=r&&r.userAgent||""},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return n.top="top"==i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"getAxisPosition",value:function(){if(!this.options.display)return 0;var t=void 0;return 0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=1*this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"setShift",value:function(t){this.shift=t,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 "+(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(this.options.tickPosition,10)}},{key:"drawTick",value:function(t,e,i,r){var n,s=this,o=this;if(null!=(n=r||this.getPos(t))&&!isNaN(n)){var a=this.nextTick(e,function(t){t.setAttribute("y1",(o.top?1:-1)*o.tickPx1*o.tickScaling[e]),t.setAttribute("y2",(o.top?1:-1)*o.tickPx2*o.tickScaling[e]),1==e?t.setAttribute("stroke",o.getPrimaryTicksColor()):t.setAttribute("stroke",o.getSecondaryTicksColor())});if(a.setAttribute("x1",n),a.setAttribute("x2",n),this.nextGridLine(1==e,n,n,0,this.graph.getDrawingHeight()),1==e){var u=this.nextTickLabel(function(t){t.setAttribute("y",(o.top?-1:1)*((1==o.options.tickPosition?8:20)+(o.top?10:0))+s.options.tickLabelOffset),t.setAttribute("text-anchor","middle"),"black"!==o.getTicksLabelColor()&&t.setAttribute("fill",o.getTicksLabelColor()),t.style.dominantBaseline="hanging"});u.setAttribute("x",n),this.setTickContent(u,t,i)}return[a,u]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var t=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),t}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#horionzalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#horionzalsplit_"+this.graph.getId()+")":"")}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftX}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(72)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||s.deltaPosition("y",i,this.getYAxis())),this.moving&&(console.log(this._data),o.x&&!this._data.noX&&o.deltaPosition("x",e,this.getXAxis()),o.y&&!this._data.noY&&o.deltaPosition("y",i,this.getYAxis()),a.x&&!this._data.noX&&a.deltaPosition("x",e,this.getXAxis()),a.y&&!this._data.noY&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var u=this._data.forcedCoords;void 0!==u.y&&("function"==typeof u.y?a.y=o.y=u.y(this):(a.y=u.y,o.y=u.y)),void 0!==u.x&&("function"==typeof u.x?a.x=o.x=u.x(this):(a.x=u.x,o.x=u.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),this.rectEvent.jsGraphIsShape=this,this.group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){t.exports=!i(7)&&!i(3)(function(){return 7!=Object.defineProperty(i(74)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(6)},function(t,e,i){var r=i(12),n=i(16),s=i(59)(!1),o=i(76)("IE_PROTO");t.exports=function(t,e){var i,a=n(t),u=0,h=[];for(i in a)i!=o&&r(a,i)&&h.push(i);for(;e.length>u;)r(a,i=e[u++])&&(~s(h,i)||h.push(i));return h}},function(t,e,i){var r=i(8),n=i(1),s=i(37);t.exports=i(7)?Object.defineProperties:function(t,e){n(t);for(var i,o=s(e),a=o.length,u=0;a>u;)r.f(t,i=o[u++],e[i]);return t}},function(t,e,i){var r=i(16),n=i(40).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(r(t))}},function(t,e,i){"use strict";var r=i(37),n=i(60),s=i(53),o=i(10),a=i(52),u=Object.assign;t.exports=!u||i(3)(function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var i=o(t),u=arguments.length,h=1,l=n.f,c=s.f;u>h;)for(var f,p=a(arguments[h++]),d=l?r(p).concat(l(p)):r(p),g=d.length,y=0;g>y;)c.call(p,f=d[y++])&&(i[f]=p[f]);return i}:u},function(t,e,i){"use strict";var r=i(11),n=i(4),s=i(111),o=[].slice,a={};t.exports=Function.bind||function(t){var e=r(this),i=o.call(arguments,1),u=function(){var r=i.concat(o.call(arguments));return this instanceof u?function(t,e,i){if(!(e in a)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,i)}(e,r.length,r):s(e,r,t)};return n(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var r=i(2).parseInt,n=i(48).trim,s=i(80),o=/^[-+]?0[xX]/;t.exports=8!==r(s+"08")||22!==r(s+"0x16")?function(t,e){var i=n(String(t),3);return r(i,e>>>0||(o.test(i)?16:10))}:r},function(t,e,i){var r=i(2).parseFloat,n=i(48).trim;t.exports=1/r(i(80)+"-0")!=-1/0?function(t){var e=n(String(t),3),i=r(e);return 0===i&&"-"==e.charAt(0)?-0:i}:r},function(t,e,i){var r=i(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,i){var r=i(4),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var r=i(83),n=Math.pow,s=n(2,-52),o=n(2,-23),a=n(2,127)*(2-o),u=n(2,-126);t.exports=Math.fround||function(t){var e,i,n=Math.abs(t),h=r(t);return n<u?h*(n/u/o+1/s-1/s)*u*o:(i=(e=(1+o/s)*n)-(e-n))>a||i!=i?h*(1/0):h*i}},function(t,e,i){var r=i(1);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){var s=t.return;throw void 0!==s&&r(s.call(t)),e}}},function(t,e,i){var r=i(11),n=i(10),s=i(52),o=i(9);t.exports=function(t,e,i,a,u){r(e);var h=n(t),l=s(h),c=o(h.length),f=u?c-1:0,p=u?-1:1;if(i<2)for(;;){if(f in l){a=l[f],f+=p;break}if(f+=p,u?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:c>f;f+=p)f in l&&(a=e(a,l[f],f,h));return a}},function(t,e,i){"use strict";var r=i(10),n=i(38),s=i(9);t.exports=[].copyWithin||function(t,e){var i=r(this),o=s(i.length),a=n(t,o),u=n(e,o),h=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===h?o:n(h,o))-u,o-a),c=1;for(u<a&&a<u+l&&(c=-1,u+=l-1,a+=l-1);l-- >0;)u in i?i[a]=i[u]:delete i[a],a+=c,u+=c;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(7)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(64)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var r=i(1),n=i(4),s=i(98);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=s.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var r=i(126),n=i(50);t.exports=i(67)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,i){"use strict";var r=i(8).f,n=i(39),s=i(44),o=i(19),a=i(42),u=i(43),h=i(86),l=i(121),c=i(41),f=i(7),p=i(32).fastKey,d=i(50),g=f?"_s":"size",y=function(t,e){var i,r=p(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,h){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&u(r,i,t[h],t)});return s(l.prototype,{clear:function(){for(var t=d(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=d(this,e),r=y(i,t);if(r){var n=r.n,s=r.p;delete i._i[r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),i._f==r&&(i._f=n),i._l==r&&(i._l=s),i[g]--}return!!r},forEach:function(t){d(this,e);for(var i,r=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!y(d(this,e),t)}}),f&&r(l.prototype,"size",{get:function(){return d(this,e)[g]}}),l},def:function(t,e,i){var r,n,s=y(t,e);return s?s.v=i:(t._l=s={i:n=p(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[g]++,"F"!==n&&(t._i[n]=s)),t},getEntry:y,setStrong:function(t,e,i){h(t,e,function(t,i){this._t=d(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},i?"entries":"values",!i,!0),c(e)}}},function(t,e,i){"use strict";var r=i(126),n=i(50);t.exports=i(67)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,i){"use strict";var r,n=i(27)(0),s=i(14),o=i(32),a=i(109),u=i(129),h=i(4),l=i(3),c=i(50),f="WeakMap",p=o.getWeak,d=Object.isExtensible,g=u.ufstore,y={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(h(t)){var e=p(t);return!0===e?g(c(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,f),t,e)}},x=t.exports=i(67)(f,v,m,u,!0,!0);l(function(){return 7!=(new x).set((Object.freeze||Object)(y),7).get(y)})&&(a((r=u.getConstructor(v,f)).prototype,m),o.NEED=!0,n(["delete","has","get","set"],function(t){var e=x.prototype,i=e[t];s(e,t,function(e,n){if(h(e)&&!d(e)){this._f||(this._f=new r);var s=this._f[t](e,n);return"set"==t?this:s}return i.call(this,e,n)})}))},function(t,e,i){"use strict";var r=i(44),n=i(32).getWeak,s=i(1),o=i(4),a=i(42),u=i(43),h=i(27),l=i(12),c=i(50),f=h(5),p=h(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,s){var h=t(function(t,r){a(t,h,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=r&&u(r,i,t[s],t)});return r(h.prototype,{delete:function(t){if(!o(t))return!1;var i=n(t);return!0===i?g(c(this,e)).delete(t):i&&l(i,this._i)&&delete i[this._i]},has:function(t){if(!o(t))return!1;var i=n(t);return!0===i?g(c(this,e)).has(t):i&&l(i,this._i)}}),h},def:function(t,e,i){var r=n(s(e),!0);return!0===r?g(t).set(e,i):r[t._i]=i,t},ufstore:g}},function(t,e,i){var r=i(25),n=i(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),i=n(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var r=i(40),n=i(60),s=i(1),o=i(2).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(s(t)),i=n.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var r=i(61),n=i(4),s=i(9),o=i(19),a=i(6)("isConcatSpreadable");t.exports=function t(e,i,u,h,l,c,f,p){for(var d,g,y=l,v=0,m=!!f&&o(f,p,3);v<h;){if(v in u){if(d=m?m(u[v],v,i):u[v],g=!1,n(d)&&(g=void 0!==(g=d[a])?!!g:r(d)),g&&c>0)y=t(e,i,d,s(d.length),y,c-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}v++}return y}},function(t,e,i){var r=i(9),n=i(82),s=i(24);t.exports=function(t,e,i,o){var a=String(s(t)),u=a.length,h=void 0===i?" ":String(i),l=r(e);if(l<=u||""==h)return a;var c=l-u,f=n.call(h,Math.ceil(c/h.length));return f.length>c&&(f=f.slice(0,c)),o?f+a:a+f}},function(t,e,i){var r=i(37),n=i(16),s=i(53).f;t.exports=function(t){return function(e){for(var i,o=n(e),a=r(o),u=a.length,h=0,l=[];u>h;)s.call(o,i=a[h++])&&l.push(t?[i,o[i]]:o[i]);return l}}},function(t,e,i){var r=i(54),n=i(136);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,i){var r=i(43);t.exports=function(t,e){var i=[];return r(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,r,n){return 0===arguments.length||t!=t||e!=e||i!=i||r!=r||n!=n?NaN:t===1/0||t===-1/0?t:(t-e)*(n-r)/(i-e)+r}},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(){function t(e){i(this,t),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(e.dataY),this.setXData(e.dataX),this.setWeight(e.weight),this.setInitialParams(e.params),e.subsetIndex&&this.setSubset.apply(this,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e.subsetIndex)),this.setFunction(e.function),e.progress&&this.hookIteration(e.progress),this.options=e}return r(t,[{key:"setYData",value:function(t){this.data=t}},{key:"setXData",value:function(t){this.dataX=t}},{key:"setWeight",value:function(t){this.weight=t}},{key:"setInitialParams",value:function(t){var e=this;this.parms=t,this.parms=this.parms.map(function(t){return"function"==typeof t?t(e.data,e.dataX):t}),this.NPARMS=t.length}},{key:"setSubset",value:function(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}},{key:"hookIteration",value:function(t){var e=this;this._hookIteration=function(i){var r=e.buildFit(i,200);t(r)}}},{key:"setFunction",value:function(t){this._func=t}},{key:"init",value:function(){var t=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(e){return new Array(t.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {"+this.parms.join()+"};"),new s(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {"+this.parms.join()+"};"),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(t,e){return this._func(t,e)}},{key:"computeResiduals",value:function(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}},{key:"log",value:function(t){this.options.log&&console.log(t)}},{key:"nudge",value:function(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(var r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var n=0;n<this.NPTS;n++)this.jac[n][i]=this.getResidualElement(n);for(r=0;r<this.NPARMS;r++)t[r]=r==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(n=0;n<this.NPTS;n++)this.jac[n][i]-=this.getResidualElement(n);for(n=0;n<this.NPTS;n++)this.jac[n][i]*=e;for(r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(t){return this.resid[t]}},{key:"getJacobianElement",value:function(t,e){return this.jac[t][e]}},{key:"buildFit",value:function(t,e){var i=void 0;if(e){var r=this.dataX.getMin(this._from,this._to),n=this.dataX.getMax(this._from,this._to);i=new Array(e).fill(0).map(function(t,i){return i*(n-r)/(e-1)+r})}else i=this.arrX;for(var s=new Array(i.length),o=0,a=i.length;o<a;o++)s[o]=this.func(i[o],this.parms);var u=this.options.waveform;return u.setData(s,i),u}}]),t}(),s=function(){function t(e,r,n,s){var o=this;i(this,t),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=e,this.nadj=r,this.npts=n,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(o.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(o.nadj)}),this.lambda=this.LAMBDAZERO;for(var a=0,u=!1;u=this.bLMiter(),s&&s(this.myH.params),!u&&++a<this.LMITER;);}return r(t,[{key:"bLMiter",value:function(){for(var t=0;t<this.nadj;t++)this.delta[t]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= "+this.sos),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(t=0;t<this.nadj;t++){this.beta[t]=0;for(var e=0;e<this.npts;e++)this.beta[t]-=this.myH.getResidualElement(e)*this.myH.getJacobianElement(e,t)}for(t=0;t<this.nadj;t++)for(var i=0;i<this.nadj;i++){this.alpha[i][t]=0;for(e=0;e<this.npts;e++)this.alpha[i][t]+=this.myH.getJacobianElement(e,i)*this.myH.getJacobianElement(e,t)}var r=0;do{for(t=0;t<this.nadj;t++)for(i=0;i<this.nadj;i++)this.amatrix[i][t]=this.alpha[i][t]+(i==t?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(t=0;t<this.nadj;t++){this.delta[t]=0;for(i=0;i<this.nadj;i++)this.delta[t]+=this.amatrix[i][t]*this.beta[i]}if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((r=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var n=0;n<this.nadj;n++)this.delta[n]*=-1;if(this.myH.nudge(this.delta),r<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return r>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(t,e){var i,r,n,s,o,a,u=1,h=new Array(100),l=new Array(100);for(o=0;o<e;o++){for(i=0,n=o;n<e;n++)for(s=o;s<e;s++)Math.abs(i)<=Math.abs(t[n][s])&&(i=t[n][s],h[o]=n,l[o]=s);if(0==i)return 0;if((n=h[o])>o)for(s=0;s<e;s++)r=t[o][s],t[o][s]=t[n][s],t[n][s]=-r;if((s=l[o])>o)for(n=0;n<e;n++)r=t[n][o],t[n][o]=t[n][s],t[n][s]=-r;for(n=0;n<e;n++)n!=o&&(t[n][o]=-t[n][o]/i);for(n=0;n<e;n++)for(s=0;s<e;s++)n!=o&&s!=o&&(t[n][s]+=t[n][o]*t[o][s]);for(s=0;s<e;s++)s!=o&&(t[o][s]/=i);t[o][o]=1/i,u*=i}for(a=0;a<e;a++){if((s=h[o=e-a-1])>o)for(n=0;n<e;n++)r=t[n][o],t[n][o]=-t[n][s],t[n][s]=r;if((n=l[o])>o)for(s=0;s<e;s++)r=t[o][s],t[o][s]=-t[n][s],t[n][s]=r}return u}}]),t}();e.default=n,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return n.leftright=i,n.left="left"==i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"setAxisPosition",value:function(t){this.shiftPosition=t}},{key:"getAxisPosition",value:function(){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t,t}},{key:"equalizePosition",value:function(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}},{key:"drawTick",value:function(t,e,i,r){var n,s=this,o=void 0,a=void 0;null==(n=r||this.getPos(t))||isNaN(n)||((o=this.nextTick(e,function(t){t.setAttribute("x1",(s.left?1:-1)*s.tickPx1*s.tickScaling[e]),t.setAttribute("x2",(s.left?1:-1)*s.tickPx2*s.tickScaling[e]),1==e?t.setAttribute("stroke",s.getPrimaryTicksColor()):t.setAttribute("stroke",s.getSecondaryTicksColor())})).setAttribute("y1",n),o.setAttribute("y2",n),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),n,n),1==e&&((a=this.nextTickLabel(function(t){t.setAttribute("x",s.tickMargin+s.options.tickLabelOffset),"black"!==s.getTicksLabelColor()&&t.setAttribute("fill",s.getTicksLabelColor()),s.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})).setAttribute("y",n),this.setTickContent(a,t,i),String(a.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=a,this.longestTick[1]=String(a.textContent).length)))}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(t){this.label.setAttribute("transform","translate("+t+", "+Math.abs(this.getMaxPx()+this.getMinPx())/2+") rotate(-90)")}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#verticalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#verticalsplit_"+this.graph.getId()+")":"")}},{key:"setShift",value:function(t){if(this.shift=t,this.shift&&this.graph.getWidth()){var e=this.shift;e=this.floating?e:this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform","translate( "+e+" 0 )"),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}},{key:"scaleToFitAxis",value:function(t,e,i,r,n,s){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(r)&&(r=t.getCurrentMax()),void 0===n&&(n=!0),void 0===s&&(s=!0),"number"==typeof e&&(r=i,i=e,e=!1);for(var o=-1/0,a=1/0,u=0,h=0,l=this.graph.series.length;h<l;h++)this.graph.series[h].isShown()&&this.graph.series[h]!=e&&this.graph.series[h].getXAxis()==t&&this.graph.series[h].getYAxis()===this&&(u++,o=s?Math.max(o,this.graph.series[h].getMax(i,r)):0,a=n?Math.min(a,this.graph.series[h].getMin(i,r)):0);if(0==u)this.setMinMaxToFitSeries();else{a=n?a:this.getCurrentMin();var c=(o=s?o:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,o+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,o)}return this}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftY}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(72)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?r(this,!0,!0):this.minX},getMaxX:function(t){return t?r(this,!0,!1):this.maxX},getMinY:function(t){return t?r(this,!1,!0):this.minY},getMaxY:function(t){return t?r(this,!1,!1):this.maxY}};function r(t,e,i){var r=void 0,n=void 0,s=void 0,o=void 0,a=void 0,u=t.getWaveforms(),h=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;for(r=0,n=d.getLength(),s=d.getData();r<n;r+=1)o=e?t.getXAxis().getVal(t.getX(d.getX(r,!0))):t.getYAxis().getVal(t.getY(s[r])),a=0==r?o:i?Math.min(a,o):Math.max(a,o)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}return a}e.default=i,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var c="scatter",f=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.id=Math.random()+Date.now(),n.shapes=[],n.shown=!0,n.data=[],n.shapesDetails=[],n.shapes=[],n._type=c,o.mapEventEmission(n.options,n),n._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},n.groupPoints=document.createElementNS(n.graph.ns,"g"),n.groupMain=document.createElementNS(n.graph.ns,"g"),n.additionalData={},n.selectedStyleGeneral={},n.selectedStyleModifiers={},n.groupPoints.addEventListener("mouseover",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));n.emit("mouseover",e,n.waveform.getX(e),n.waveform.getY(e))}),n.groupPoints.addEventListener("mouseout",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));n.emit("mouseout",e,n.waveform.getX(e),n.waveform.getY(e))}),n.minX=Number.MAX_VALUE,n.minY=Number.MAX_VALUE,n.maxX=Number.MIN_VALUE,n.maxY=Number.MIN_VALUE,n.groupMain.appendChild(n.groupPoints),n.currentAction=!1,n.initExtended1&&n.initExtended1(),n.styles={},n.styles.unselected={},n.styles.selected={},n.styles.unselected.default={shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"},n.styles.selected.default={shape:"circle",cx:0,cy:0,r:4,stroke:"transparent",fill:"black"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),l(e,[{key:"setDataCategory",value:function(t){var e=!0,i=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;this._checkY(o.y.getMaxY()),this._checkY(o.y.getMinY())}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupPoints.firstChild;)this.groupPoints.removeChild(this.groupPoints.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.symbol)return this.symbol;var t=document.createElementNS(this.graph.ns,"g");t.setAttribute("data-shapeid",-1);var e=this.doShape(t,this.styles.unselected.default),i=this.getStyle("unselected",-1,!0);for(var r in i[-1])"shape"!=r&&e.setAttribute(r,i[-1][r]);return t}},{key:"setStyle",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof e&&(i=e,e=!1),this.styles[i]=this.styles[i]||{},this.styles[i].all=t,this.styles[i].modifiers=e,this.styleHasChanged(i),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()||this.hasStyleChanged("unselected")){var e,i,r=0,n="category"==this.getXAxis().getType();this._drawn=!0,this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupPoints);var s=[];if(r=0,0,this.hasErrors()&&this.errorDrawInit(),n){for(var o=0;r<this.data.length;r++)if(this.categoryIndices.hasOwnProperty(this.data[r].x)){this.error;for(var a=0,u=this.data[r].y.getLength();a<u;a++)i=this.getY(this.data[r].y.getY(a)),e=this.getX(a/(u-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[r].x]+.1/this.nbCategories),a++,this.shapesDetails[o]=this.shapesDetails[o]||[],this.shapesDetails[o][0]=e,this.shapesDetails[o][1]=i,s.push(o),o++}}else for(;r<this.waveform.getLength();r++)this.waveform.getX(r)<this.getXAxis().getCurrentMin()||this.waveform.getX(r)>this.getXAxis().getCurrentMax()||this.waveform.getY(r)<this.getYAxis().getCurrentMin()||this.waveform.getY(r)>this.getYAxis().getCurrentMax()?this.shapes[r]&&this.shapes[r].setAttribute("display","none"):(this.shapes[r]&&this.shapes[r].setAttribute("display","initial"),e=this.getX(this.waveform.getX(r)),i=this.getY(this.waveform.getY(r)),this.hasErrors()&&this.errorAddPoint(r,this.waveform.getX(r),this.waveform.getY(r),e,i),this.shapesDetails[r]=this.shapesDetails[r]||[],this.shapesDetails[r][0]=e,this.shapesDetails[r][1]=i,s.push(r));this.hasErrors()&&this.errorDraw(),this.applyStyle("unselected",s),this.groupMain.appendChild(this.groupPoints)}}},{key:"_addPoint",value:function(t,e,i){var r=void 0,n=document.createElementNS(this.graph.ns,"g");n.setAttribute("transform","translate("+t+", "+e+")"),n.setAttribute("data-shapeid",i),r=this.extraStyle&&this.extraStyle[i]?this.doShape(n,this.extraStyle[i]):this.stdStylePerso?this.doShape(n,this.stdStylePerso):this.doShape(n,this.stdStyle),this.shapes[i]=r,this.groupPoints.appendChild(n)}},{key:"doShape",value:function(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}},{key:"getStyle",value:function(t,e,i){t=t||"unselected";var r,n,s,o,a,u={};"number"==typeof e?r=[e]:Array.isArray(e)&&(r=e),void 0!==this.styles[t].all&&("function"==typeof(a=this.styles[t].all)?a=a():!1===a&&(a={}));for(var h=0,l=r.length;h<l;h++){if(e=r[h],n=this.shapes[e],(s=this.styles[t].modifiers)&&("function"==typeof s||s[e])?("function"==typeof s?o=s(e,n):s[e]&&(o=s[e]),u[e]=Object.assign({},a,o)):u[e]=void 0!==a?a:this.styles[t].default,u[e]||(u[e]=a),!n){if(!u[e].shape)throw console.error(o),"No shape was defined with this style.";var c=document.createElementNS(this.graph.ns,"g");c.setAttribute("data-shapeid",e),this.shapes[e]=this.doShape(c,u[e]),this.groupPoints.appendChild(c),n=this.shapes[e]}i||n.parentNode.setAttribute("transform","translate("+this.shapesDetails[e][0]+", "+this.shapesDetails[e][1]+")")}return u}},{key:"applyStyle",value:function(t,e,i){var r,n,s=this.getStyle(t,e,i);for(r in s)for(n in s[r])"shape"!==n&&(s[r][n]?this.shapes[r].setAttribute(n,s[r][n]):this.shapes[r].removeAttribute(n))}},{key:"unselectPoint",value:function(t){this.selectPoint(t,!1)}},{key:"selectPoint",value:function(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectPoints(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyStyle(i,t,!0);else{var r=this.shapesDetails[t][2];this.shapesDetails[t][2]=!1;var n=this.getStyle(r,t,!0);for(var s in n[t])this.shapes[t].removeAttribute(s);this.applyStyle("unselected",t,!0)}}}},{key:"getUsedCategories",value:function(){return"object"==h(this.data[0])?this.data.map(function(t){return t.x}):[]}}]),e}();o.mix(f,a.default),e.default=f,t.exports=e.default},n=[t,e,i(57),i(5),i(73)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(i),o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var h=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.selectionType="unselected",s.id=(0,n.guid)(),s.groupZones=document.createElementNS(s.graph.ns,"g"),s.groupMain=document.createElementNS(s.graph.ns,"g"),s.lineZone=document.createElementNS(s.graph.ns,"path"),s.lineZone.setAttribute("stroke","black"),s.lineZone.setAttribute("stroke-width","1px"),s.groupMain.appendChild(s.groupZones),s.groupZones.appendChild(s.lineZone),s.applyLineStyle(s.lineZone),s.styleHasChanged(),s.clip=document.createElementNS(s.graph.ns,"clipPath"),s.clipId=(0,n.guid)(),s.clip.setAttribute("id",s.clipId),s.graph.defs.appendChild(s.clip),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),u(e,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),u(e,[{key:"setWaveform",value:function(){for(var t=this,e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return this.waveforms=i,this.waveforms=this.waveforms.map(function(t){return t instanceof o.default?t:new o.default(t)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(e){t.minX=Math.min(e.getXMin(),t.minX),t.maxX=Math.max(e.getXMin(),t.maxX),t.minY=Math.min(e.getMin(),t.minY),t.maxY=Math.max(e.getMax(),t.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(t,e){return this.waveforms=[t,e.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;var e=0,i=0,r=0,n=0,s=0,o="",a=void 0,u=!1,h=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),l=this.getXAxis().getCurrentMax(),c=this.getYAxis().getCurrentMin(),f=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var p=!0,d=!1,g=void 0;try{for(var y,v=this.waveforms[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;for(s=0;s<m.getLength();s+=1)if(e=m.getX(s,!0),(i=m.getY(s,!0))[s]<c?n=this.getY(c):i[s]>f&&(n=this.getY(f)),e==e)if(i==i)n=this.getY(i),r=this.getX(e),e<h||e>l?a=[e,i[s],r,n]:(u&&(o+=" M "+r+", "+this.getY(m.getMinY())+" ",u=!1),o.length>0&&(o+=" L "),a?(o+=a[2]+","+a[3]+" ",a=!1):o+=r+","+n+" ");else{if(0==o.length)continue;o+="L "+r+", "+this.getY(m.getMinY()),u=!0}}}catch(t){d=!0,g=t}finally{try{!p&&v.return&&v.return()}finally{if(d)throw g}}""!==o?this.lineZone.setAttribute("d","M "+o+" z"):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(t){return this.options.lineWidth=t,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(t){return this.options.lineColor=t,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(t){return this.options.fillColor=t,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),e}();e.default=h,t.exports=e.default},n=[t,e,i(57),i(46),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var h=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),u(e,[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=(void 0===t?"undefined":a(t))&&(t={}),t.type||(t.type="corners"),t.type){case"sides":o.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var i=0;for(var r in t.sides)t.sides[r]&&i++;this._createHandles(i,"g").map(function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)});i=1;for(var r in t.sides)t.sides[r]&&(this.handles[r]=this["handle"+i],this.sides[i]=r,i++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createHandles",this).call(this),this}}},{key:"applyPosition",value:function(){var t,e,i,r,n=this.computePosition(0),s=this.computePosition(1);return n.x<s.x?(t=n.x,i=s.x-n.x):(t=s.x,i=n.x-s.x),n.y<s.y?(e=n.y,r=s.y-n.y):(e=s.y,r=n.y-s.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=r,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",r),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){var s=this.getProp("handles");if(this.moving||this.handleSelected){var o=this.getPosition(0),a=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),o.x,o.y,a.x,a.y;if(this.moving)o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(s.type){case"seamlessX":switch(this.handleSelected){case 1:o.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":o.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":o.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(o.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform","translate(-10) translate("+t.x+")"),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform","translate(-10)  translate("+e.x+")"),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate("+this.currentX+" "+(this.currentY+this.currentH/2)+")"),this.handles.right&&this.handles.right.setAttribute("transform","translate( "+(this.currentX+this.currentW)+" "+(this.currentY+this.currentH/2)+")"),this.handles.top&&this.handles.top.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+this.currentY+")"),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+(this.currentY+this.currentH)+")");break;case"corners":default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}]),e}();e.default=h,t.exports=e.default},n=[t,e,i(28),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){i(145),t.exports=i(347)},function(t,e,i){"use strict";(function(t){if(i(146),i(343),i(344),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function r(t,i,r){t[i]||Object[e](t,i,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&r(Array,t,Function.call.bind([][t]))})}).call(e,i(103))},function(t,e,i){i(147),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161),i(162),i(163),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(227),i(228),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(95),i(251),i(252),i(122),i(253),i(254),i(255),i(256),i(257),i(125),i(127),i(128),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),t.exports=i(22)},function(t,e,i){"use strict";var r=i(2),n=i(12),s=i(7),o=i(0),a=i(14),u=i(32).KEY,h=i(3),l=i(58),c=i(47),f=i(35),p=i(6),d=i(105),g=i(75),y=i(148),v=i(61),m=i(1),x=i(4),b=i(16),k=i(23),M=i(34),S=i(39),A=i(108),_=i(17),w=i(8),P=i(37),C=_.f,L=w.f,O=A.f,E=r.Symbol,T=r.JSON,X=T&&T.stringify,D="prototype",j=p("_hidden"),I=p("toPrimitive"),N={}.propertyIsEnumerable,Y=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),R=Object[D],H="function"==typeof E,W=r.QObject,z=!W||!W[D]||!W[D].findChild,V=s&&h(function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=C(R,e);r&&delete R[e],L(t,e,i),r&&t!==R&&L(R,e,r)}:L,G=function(t){var e=F[t]=S(E[D]);return e._k=t,e},U=H&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Z=function(t,e,i){return t===R&&Z(B,e,i),m(t),e=k(e,!0),m(i),n(F,e)?(i.enumerable?(n(t,j)&&t[j][e]&&(t[j][e]=!1),i=S(i,{enumerable:M(0,!1)})):(n(t,j)||L(t,j,M(1,{})),t[j][e]=!0),V(t,e,i)):L(t,e,i)},q=function(t,e){m(t);for(var i,r=y(e=b(e)),n=0,s=r.length;s>n;)Z(t,i=r[n++],e[i]);return t},K=function(t){var e=N.call(this,t=k(t,!0));return!(this===R&&n(F,t)&&!n(B,t))&&(!(e||!n(this,t)||!n(F,t)||n(this,j)&&this[j][t])||e)},J=function(t,e){if(t=b(t),e=k(e,!0),t!==R||!n(F,e)||n(B,e)){var i=C(t,e);return!i||!n(F,e)||n(t,j)&&t[j][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=O(b(t)),r=[],s=0;i.length>s;)n(F,e=i[s++])||e==j||e==u||r.push(e);return r},$=function(t){for(var e,i=t===R,r=O(i?B:b(t)),s=[],o=0;r.length>o;)!n(F,e=r[o++])||i&&!n(R,e)||s.push(F[e]);return s};H||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===R&&e.call(B,i),n(this,j)&&n(this[j],t)&&(this[j][t]=!1),V(this,t,M(1,i))};return s&&z&&V(R,t,{configurable:!0,set:e}),G(t)})[D],"toString",function(){return this._k}),_.f=J,w.f=Z,i(40).f=A.f=Q,i(53).f=K,i(60).f=$,s&&!i(36)&&a(R,"propertyIsEnumerable",K,!0),d.f=function(t){return G(p(t))}),o(o.G+o.W+o.F*!H,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=P(p.store),rt=0;it.length>rt;)g(it[rt++]);o(o.S+o.F*!H,"Symbol",{for:function(t){return n(Y,t+="")?Y[t]:Y[t]=E(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!H,"Object",{create:function(t,e){return void 0===e?S(t):q(S(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),T&&o(o.S+o.F*(!H||h(function(){var t=E();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})),"JSON",{stringify:function(t){for(var e,i,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(i=e=r[1],(x(e)||void 0!==t)&&!U(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!U(e))return e}),r[1]=e,X.apply(T,r)}}),E[D][I]||i(13)(E[D],I,E[D].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(r.JSON,"JSON",!0)},function(t,e,i){var r=i(37),n=i(60),s=i(53);t.exports=function(t){var e=r(t),i=n.f;if(i)for(var o,a=i(t),u=s.f,h=0;a.length>h;)u.call(t,o=a[h++])&&e.push(o);return e}},function(t,e,i){var r=i(0);r(r.S,"Object",{create:i(39)})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(7),"Object",{defineProperty:i(8).f})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(7),"Object",{defineProperties:i(107)})},function(t,e,i){var r=i(16),n=i(17).f;i(26)("getOwnPropertyDescriptor",function(){return function(t,e){return n(r(t),e)}})},function(t,e,i){var r=i(10),n=i(18);i(26)("getPrototypeOf",function(){return function(t){return n(r(t))}})},function(t,e,i){var r=i(10),n=i(37);i(26)("keys",function(){return function(t){return n(r(t))}})},function(t,e,i){i(26)("getOwnPropertyNames",function(){return i(108).f})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("freeze",function(t){return function(e){return t&&r(e)?t(n(e)):e}})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("seal",function(t){return function(e){return t&&r(e)?t(n(e)):e}})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("preventExtensions",function(t){return function(e){return t&&r(e)?t(n(e)):e}})},function(t,e,i){var r=i(4);i(26)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,i){var r=i(4);i(26)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,i){var r=i(4);i(26)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,i){var r=i(0);r(r.S+r.F,"Object",{assign:i(109)})},function(t,e,i){var r=i(0);r(r.S,"Object",{is:i(164)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var r=i(0);r(r.S,"Object",{setPrototypeOf:i(79).set})},function(t,e,i){"use strict";var r=i(54),n={};n[i(6)("toStringTag")]="z",n+""!="[object z]"&&i(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,i){var r=i(0);r(r.P,"Function",{bind:i(110)})},function(t,e,i){var r=i(8).f,n=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in n||i(7)&&r(n,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var r=i(4),n=i(18),s=i(6)("hasInstance"),o=Function.prototype;s in o||i(8).f(o,s,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var r=i(0),n=i(112);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(t,e,i){var r=i(0),n=i(113);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(t,e,i){"use strict";var r=i(2),n=i(12),s=i(20),o=i(81),a=i(23),u=i(3),h=i(40).f,l=i(17).f,c=i(8).f,f=i(48).trim,p="Number",d=r[p],g=d,y=d.prototype,v=s(i(39)(y))==p,m="trim"in String.prototype,x=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var i,r,n,s=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var o,u=e.slice(2),h=0,l=u.length;h<l;h++)if((o=u.charCodeAt(h))<48||o>n)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(v?u(function(){y.valueOf.call(i)}):s(i)!=p)?o(new g(x(e)),i,d):x(e)};for(var b,k=i(7)?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;k.length>M;M++)n(g,b=k[M])&&!n(d,b)&&c(d,b,l(g,b));d.prototype=y,y.constructor=d,i(14)(r,p,d)}},function(t,e,i){"use strict";var r=i(0),n=i(25),s=i(114),o=i(82),a=1..toFixed,u=Math.floor,h=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",c=function(t,e){for(var i=-1,r=e;++i<6;)r+=t*h[i],h[i]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,i=0;--e>=0;)i+=h[e],h[e]=u(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e},d=function(t,e,i){return 0===e?i:e%2==1?d(t,e-1,i*t):d(t*t,e/2,i)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(3)(function(){a.call({})})),"Number",{toFixed:function(t){var e,i,r,a,u=s(this,l),h=n(t),g="",y="0";if(h<0||h>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),i*=4503599627370496,(e=52-e)>0){for(c(0,i),r=h;r>=7;)c(1e7,0),r-=7;for(c(d(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),c(1,1),f(2),y=p()}else c(0,i),c(1<<-e,0),y=p()+o.call("0",h);return y=h>0?g+((a=y.length)<=h?"0."+o.call("0",h-a)+y:y.slice(0,a-h)+"."+y.slice(a-h)):g+y}})},function(t,e,i){"use strict";var r=i(0),n=i(3),s=i(114),o=1..toPrecision;r(r.P+r.F*(n(function(){return"1"!==o.call(1,void 0)})||!n(function(){o.call({})})),"Number",{toPrecision:function(t){var e=s(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var r=i(0),n=i(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{isInteger:i(115)})},function(t,e,i){var r=i(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var r=i(0),n=i(115),s=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return n(t)&&s(t)<=9007199254740991}})},function(t,e,i){var r=i(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var r=i(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var r=i(0),n=i(113);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(t,e,i){var r=i(0),n=i(112);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(t,e,i){var r=i(0),n=i(116),s=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:n(t-1+s(t-1)*s(t+1))}})},function(t,e,i){var r=i(0),n=Math.asinh;r(r.S+r.F*!(n&&1/n(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var r=i(0),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var r=i(0),n=i(83);r(r.S,"Math",{cbrt:function(t){return n(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var r=i(0),n=Math.exp;r(r.S,"Math",{cosh:function(t){return(n(t=+t)+n(-t))/2}})},function(t,e,i){var r=i(0),n=i(84);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},function(t,e,i){var r=i(0);r(r.S,"Math",{fround:i(117)})},function(t,e,i){var r=i(0),n=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var i,r,s=0,o=0,a=arguments.length,u=0;o<a;)u<(i=n(arguments[o++]))?(s=s*(r=u/i)*r+1,u=i):s+=i>0?(r=i/u)*r:i;return u===1/0?1/0:u*Math.sqrt(s)}})},function(t,e,i){var r=i(0),n=Math.imul;r(r.S+r.F*i(3)(function(){return-5!=n(4294967295,5)||2!=n.length}),"Math",{imul:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r;return 0|n*s+((65535&i>>>16)*s+n*(65535&r>>>16)<<16>>>0)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log1p:i(116)})},function(t,e,i){var r=i(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var r=i(0);r(r.S,"Math",{sign:i(83)})},function(t,e,i){var r=i(0),n=i(84),s=Math.exp;r(r.S+r.F*i(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(n(t)-n(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},function(t,e,i){var r=i(0),n=i(84),s=Math.exp;r(r.S,"Math",{tanh:function(t){var e=n(t=+t),i=n(-t);return e==1/0?1:i==1/0?-1:(e-i)/(s(t)+s(-t))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var r=i(0),n=i(38),s=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,i=[],r=arguments.length,o=0;r>o;){if(e=+arguments[o++],n(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var r=i(0),n=i(16),s=i(9);r(r.S,"String",{raw:function(t){for(var e=n(t.raw),i=s(e.length),r=arguments.length,o=[],a=0;i>a;)o.push(String(e[a++])),a<r&&o.push(String(arguments[a]));return o.join("")}})},function(t,e,i){"use strict";i(48)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var r=i(85)(!0);i(86)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=r(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var r=i(0),n=i(85)(!1);r(r.P,"String",{codePointAt:function(t){return n(this,t)}})},function(t,e,i){"use strict";var r=i(0),n=i(9),s=i(88),o="endsWith",a=""[o];r(r.P+r.F*i(89)(o),"String",{endsWith:function(t){var e=s(this,t,o),i=arguments.length>1?arguments[1]:void 0,r=n(e.length),u=void 0===i?r:Math.min(n(i),r),h=String(t);return a?a.call(e,h,u):e.slice(u-h.length,u)===h}})},function(t,e,i){"use strict";var r=i(0),n=i(88);r(r.P+r.F*i(89)("includes"),"String",{includes:function(t){return!!~n(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var r=i(0);r(r.P,"String",{repeat:i(82)})},function(t,e,i){"use strict";var r=i(0),n=i(9),s=i(88),o="startsWith",a=""[o];r(r.P+r.F*i(89)(o),"String",{startsWith:function(t){var e=s(this,t,o),i=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,i):e.slice(i,i+r.length)===r}})},function(t,e,i){"use strict";i(15)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(15)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(15)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(15)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(15)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(15)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(15)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(15)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(15)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(15)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(15)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(15)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(15)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var r=i(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23);r(r.P+r.F*i(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=n(this),i=s(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var r=i(0),n=i(226);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(t,e,i){"use strict";var r=i(3),n=Date.prototype.getTime,s=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"."+(e>99?e:"0"+o(e))+"Z"}:s},function(t,e,i){var r=Date.prototype,n="Invalid Date",s=r.toString,o=r.getTime;new Date(NaN)+""!=n&&i(14)(r,"toString",function(){var t=o.call(this);return t==t?s.call(this):n})},function(t,e,i){var r=i(6)("toPrimitive"),n=Date.prototype;r in n||i(13)(n,r,i(229))},function(t,e,i){"use strict";var r=i(1),n=i(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return n(r(this),"number"!=t)}},function(t,e,i){var r=i(0);r(r.S,"Array",{isArray:i(61)})},function(t,e,i){"use strict";var r=i(19),n=i(0),s=i(10),o=i(118),a=i(90),u=i(9),h=i(91),l=i(92);n(n.S+n.F*!i(63)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,c,f=s(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,v=0,m=l(f);if(y&&(g=r(g,d>2?arguments[2]:void 0,2)),null==m||p==Array&&a(m))for(i=new p(e=u(f.length));e>v;v++)h(i,v,y?g(f[v],v):f[v]);else for(c=m.call(f),i=new p;!(n=c.next()).done;v++)h(i,v,y?o(c,g,[n.value,v],!0):n.value);return i.length=v,i}})},function(t,e,i){"use strict";var r=i(0),n=i(91);r(r.S+r.F*i(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)n(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var r=i(0),n=i(16),s=[].join;r(r.P+r.F*(i(52)!=Object||!i(21)(s)),"Array",{join:function(t){return s.call(n(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var r=i(0),n=i(78),s=i(20),o=i(38),a=i(9),u=[].slice;r(r.P+r.F*i(3)(function(){n&&u.call(n)}),"Array",{slice:function(t,e){var i=a(this.length),r=s(this);if(e=void 0===e?i:e,"Array"==r)return u.call(this,t,e);for(var n=o(t,i),h=o(e,i),l=a(h-n),c=new Array(l),f=0;f<l;f++)c[f]="String"==r?this.charAt(n+f):this[n+f];return c}})},function(t,e,i){"use strict";var r=i(0),n=i(11),s=i(10),o=i(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!i(21)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),n(t))}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(0),s=i(21)([].forEach,!0);r(r.P+r.F*!s,"Array",{forEach:function(t){return n(this,t,arguments[1])}})},function(t,e,i){var r=i(4),n=i(61),s=i(6)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var r=i(0),n=i(27)(1);r(r.P+r.F*!i(21)([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(2);r(r.P+r.F*!i(21)([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(3);r(r.P+r.F*!i(21)([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(4);r(r.P+r.F*!i(21)([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(119);r(r.P+r.F*!i(21)([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var r=i(0),n=i(119);r(r.P+r.F*!i(21)([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var r=i(0),n=i(59)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!i(21)(s)),"Array",{indexOf:function(t){return o?s.apply(this,arguments)||0:n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(16),s=i(25),o=i(9),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!i(21)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=n(this),i=o(e.length),r=i-1;for(arguments.length>1&&(r=Math.min(r,s(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,i){var r=i(0);r(r.P,"Array",{copyWithin:i(120)}),i(33)("copyWithin")},function(t,e,i){var r=i(0);r(r.P,"Array",{fill:i(94)}),i(33)("fill")},function(t,e,i){"use strict";var r=i(0),n=i(27)(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(33)("find")},function(t,e,i){"use strict";var r=i(0),n=i(27)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(33)(s)},function(t,e,i){i(41)("Array")},function(t,e,i){var r=i(2),n=i(81),s=i(8).f,o=i(40).f,a=i(62),u=i(64),h=r.RegExp,l=h,c=h.prototype,f=/a/g,p=/a/g,d=new h(f)!==f;if(i(7)&&(!d||i(3)(function(){return p[i(6)("match")]=!1,h(f)!=f||h(p)==p||"/a/i"!=h(f,"i")}))){h=function(t,e){var i=this instanceof h,r=a(t),s=void 0===e;return!i&&r&&t.constructor===h&&s?t:n(d?new l(r&&!s?t.source:t,e):l((r=t instanceof h)?t.source:t,r&&s?u.call(t):e),i?this:c,h)};for(var g=function(t){t in h||s(h,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=o(l),v=0;y.length>v;)g(y[v++]);c.constructor=h,h.prototype=c,i(14)(r,"RegExp",h)}i(41)("RegExp")},function(t,e,i){"use strict";i(122);var r=i(1),n=i(64),s=i(7),o="toString",a=/./[o],u=function(t){i(14)(RegExp.prototype,o,t,!0)};i(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)}):a.name!=o&&u(function(){return a.call(this)})},function(t,e,i){i(65)("match",1,function(t,e,i){return[function(i){"use strict";var r=t(this),n=null==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},i]})},function(t,e,i){i(65)("replace",2,function(t,e,i){return[function(r,n){"use strict";var s=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,s,n):i.call(String(s),r,n)},i]})},function(t,e,i){i(65)("search",1,function(t,e,i){return[function(i){"use strict";var r=t(this),n=null==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},i]})},function(t,e,i){i(65)("split",2,function(t,e,r){"use strict";var n=i(62),s=r,o=[].push,a="split",u="length";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[u]||2!="ab"[a](/(?:ab)*/)[u]||4!="."[a](/(.?)(.?)/)[u]||"."[a](/()()/)[u]>1||""[a](/.?/)[u]){var h=void 0===/()??/.exec("")[1];r=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return s.call(i,t,e);var r,a,l,c,f,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,y=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,d+"g");for(h||(r=new RegExp("^"+v.source+"$(?!\\s)",d));(a=v.exec(i))&&!((l=a.index+a[0][u])>g&&(p.push(i.slice(g,a.index)),!h&&a[u]>1&&a[0].replace(r,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(a[f]=void 0)}),a[u]>1&&a.index<i[u]&&o.apply(p,a.slice(1)),c=a[0][u],g=l,p[u]>=y));)v.lastIndex===a.index&&v.lastIndex++;return g===i[u]?!c&&v.test("")||p.push(""):p.push(i.slice(g)),p[u]>y?p.slice(0,y):p}}else"0"[a](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function(i,n){var s=t(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,s,n):r.call(String(s),i,n)},r]})},function(t,e,i){"use strict";var r,n,s,o,a=i(36),u=i(2),h=i(19),l=i(54),c=i(0),f=i(4),p=i(11),d=i(42),g=i(43),y=i(66),v=i(96).set,m=i(97)(),x=i(98),b=i(123),k=i(124),M="Promise",S=u.TypeError,A=u.process,_=u[M],w="process"==l(A),P=function(){},C=n=x.f,L=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[i(6)("species")]=function(t){t(P,P)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e}catch(t){}}(),O=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},E=function(t,e){if(!t._n){t._n=!0;var i=t._c;m(function(){for(var r=t._v,n=1==t._s,s=0,o=function(e){var i,s,o=n?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain;try{o?(n||(2==t._h&&D(t),t._h=1),!0===o?i=r:(h&&h.enter(),i=o(r),h&&h.exit()),i===e.promise?u(S("Promise-chain cycle")):(s=O(i))?s.call(i,a,u):a(i)):u(r)}catch(t){u(t)}};i.length>s;)o(i[s++]);t._c=[],t._n=!1,e&&!t._h&&T(t)})}},T=function(t){v.call(u,function(){var e,i,r,n=t._v,s=X(t);if(s&&(e=b(function(){w?A.emit("unhandledRejection",n,t):(i=u.onunhandledrejection)?i({promise:t,reason:n}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",n)}),t._h=w||X(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},X=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){v.call(u,function(){var e;w?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),E(e,!0))},I=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw S("Promise can't be resolved itself");(e=O(t))?m(function(){var r={_w:i,_d:!1};try{e.call(t,h(I,r,1),h(j,r,1))}catch(t){j.call(r,t)}}):(i._v=t,i._s=1,E(i,!1))}catch(t){j.call({_w:i,_d:!1},t)}}};L||(_=function(t){d(this,_,M,"_h"),p(t),r.call(this);try{t(h(I,this,1),h(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(44)(_.prototype,{then:function(t,e){var i=C(y(this,_));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=w?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&E(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new r;this.promise=t,this.resolve=h(I,t,1),this.reject=h(j,t,1)},x.f=C=function(t){return t===_||t===o?new s(t):n(t)}),c(c.G+c.W+c.F*!L,{Promise:_}),i(47)(_,M),i(41)(M),o=i(22)[M],c(c.S+c.F*!L,M,{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!L),M,{resolve:function(t){return k(a&&this===o?_:this,t)}}),c(c.S+c.F*!(L&&i(63)(function(t){_.all(t).catch(P)})),M,{all:function(t){var e=this,i=C(e),r=i.resolve,n=i.reject,s=b(function(){var i=[],s=0,o=1;g(t,!1,function(t){var a=s++,u=!1;i.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,i[a]=t,--o||r(i))},n)}),--o||r(i)});return s.e&&n(s.v),i.promise},race:function(t){var e=this,i=C(e),r=i.reject,n=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,r)})});return n.e&&r(n.v),i.promise}})},function(t,e,i){"use strict";var r=i(129),n=i(50);i(67)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,i){"use strict";var r=i(0),n=i(68),s=i(99),o=i(1),a=i(38),u=i(9),h=i(4),l=i(2).ArrayBuffer,c=i(66),f=s.ArrayBuffer,p=s.DataView,d=n.ABV&&l.isView,g=f.prototype.slice,y=n.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!n.CONSTR,v,{isView:function(t){return d&&d(t)||h(t)&&y in t}}),r(r.P+r.U+r.F*i(3)(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(o(this),t);for(var i=o(this).byteLength,r=a(t,i),n=a(void 0===e?i:e,i),s=new(c(this,f))(u(n-r)),h=new p(this),l=new p(s),d=0;r<n;)l.setUint8(d++,h.getUint8(r++));return s}}),i(41)(v)},function(t,e,i){var r=i(0);r(r.G+r.W+r.F*!i(68).ABV,{DataView:i(99).DataView})},function(t,e,i){i(30)("Int8",1,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Uint8",1,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Uint8",1,function(t){return function(e,i,r){return t(this,e,i,r)}},!0)},function(t,e,i){i(30)("Int16",2,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Uint16",2,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Int32",4,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Uint32",4,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Float32",4,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){i(30)("Float64",8,function(t){return function(e,i,r){return t(this,e,i,r)}})},function(t,e,i){var r=i(0),n=i(11),s=i(1),o=(i(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!i(3)(function(){o(function(){})}),"Reflect",{apply:function(t,e,i){var r=n(t),u=s(i);return o?o(r,e,u):a.call(r,e,u)}})},function(t,e,i){var r=i(0),n=i(39),s=i(11),o=i(1),a=i(4),u=i(3),h=i(110),l=(i(2).Reflect||{}).construct,c=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!u(function(){l(function(){})});r(r.S+r.F*(c||f),"Reflect",{construct:function(t,e){s(t),o(e);var i=arguments.length<3?t:s(arguments[2]);if(f&&!c)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(h.apply(t,r))}var u=i.prototype,p=n(a(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},function(t,e,i){var r=i(8),n=i(0),s=i(1),o=i(23);n(n.S+n.F*i(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){s(t),e=o(e,!0),s(i);try{return r.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var r=i(0),n=i(17).f,s=i(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var i=n(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var r=i(0),n=i(1),s=function(t){this._t=n(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(87)(s,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new s(t)}})},function(t,e,i){var r=i(17),n=i(18),s=i(12),o=i(0),a=i(4),u=i(1);o(o.S,"Reflect",{get:function t(e,i){var o,h,l=arguments.length<3?e:arguments[2];return u(e)===l?e[i]:(o=r.f(e,i))?s(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:a(h=n(e))?t(h,i,l):void 0}})},function(t,e,i){var r=i(17),n=i(0),s=i(1);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(s(t),e)}})},function(t,e,i){var r=i(0),n=i(18),s=i(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return n(s(t))}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var r=i(0),n=i(1),s=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return n(t),!s||s(t)}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{ownKeys:i(131)})},function(t,e,i){var r=i(0),n=i(1),s=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){n(t);try{return s&&s(t),!0}catch(t){return!1}}})},function(t,e,i){var r=i(8),n=i(17),s=i(18),o=i(12),a=i(0),u=i(34),h=i(1),l=i(4);a(a.S,"Reflect",{set:function t(e,i,a){var c,f,p=arguments.length<4?e:arguments[3],d=n.f(h(e),i);if(!d){if(l(f=s(e)))return t(f,i,a,p);d=u(0)}return o(d,"value")?!(!1===d.writable||!l(p)||((c=n.f(p,i)||u(0)).value=a,r.f(p,i,c),0)):void 0!==d.set&&(d.set.call(p,a),!0)}})},function(t,e,i){var r=i(0),n=i(79);n&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){n.check(t,e);try{return n.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var r=i(0),n=i(59)(!0);r(r.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(33)("includes")},function(t,e,i){"use strict";var r=i(0),n=i(132),s=i(10),o=i(9),a=i(11),u=i(93);r(r.P,"Array",{flatMap:function(t){var e,i,r=s(this);return a(t),e=o(r.length),i=u(r,0),n(i,r,r,e,0,1,t,arguments[1]),i}}),i(33)("flatMap")},function(t,e,i){"use strict";var r=i(0),n=i(132),s=i(10),o=i(9),a=i(25),u=i(93);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=s(this),i=o(e.length),r=u(e,0);return n(r,e,e,i,0,void 0===t?1:a(t)),r}}),i(33)("flatten")},function(t,e,i){"use strict";var r=i(0),n=i(85)(!0);r(r.P,"String",{at:function(t){return n(this,t)}})},function(t,e,i){"use strict";var r=i(0),n=i(133),s=i(100);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var r=i(0),n=i(133),s=i(100);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padEnd:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(48)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(48)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var r=i(0),n=i(24),s=i(9),o=i(62),a=i(64),u=RegExp.prototype,h=function(t,e){this._r=t,this._s=e};i(87)(h,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(n(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):a.call(t),r=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return r.lastIndex=s(t.lastIndex),new h(r,e)}})},function(t,e,i){i(75)("asyncIterator")},function(t,e,i){i(75)("observable")},function(t,e,i){var r=i(0),n=i(131),s=i(16),o=i(17),a=i(91);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,r=s(t),u=o.f,h=n(r),l={},c=0;h.length>c;)void 0!==(i=u(r,e=h[c++]))&&a(l,e,i);return l}})},function(t,e,i){var r=i(0),n=i(134)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,i){var r=i(0),n=i(134)(!0);r(r.S,"Object",{entries:function(t){return n(t)}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(11),o=i(8);i(7)&&r(r.P+i(69),"Object",{__defineGetter__:function(t,e){o.f(n(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(11),o=i(8);i(7)&&r(r.P+i(69),"Object",{__defineSetter__:function(t,e){o.f(n(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&r(r.P+i(69),"Object",{__lookupGetter__:function(t){var e,i=n(this),r=s(t,!0);do{if(e=a(i,r))return e.get}while(i=o(i))}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&r(r.P+i(69),"Object",{__lookupSetter__:function(t){var e,i=n(this),r=s(t,!0);do{if(e=a(i,r))return e.set}while(i=o(i))}})},function(t,e,i){var r=i(0);r(r.P+r.R,"Map",{toJSON:i(135)("Map")})},function(t,e,i){var r=i(0);r(r.P+r.R,"Set",{toJSON:i(135)("Set")})},function(t,e,i){i(70)("Map")},function(t,e,i){i(70)("Set")},function(t,e,i){i(70)("WeakMap")},function(t,e,i){i(70)("WeakSet")},function(t,e,i){i(71)("Map")},function(t,e,i){i(71)("Set")},function(t,e,i){i(71)("WeakMap")},function(t,e,i){i(71)("WeakSet")},function(t,e,i){var r=i(0);r(r.G,{global:i(2)})},function(t,e,i){var r=i(0);r(r.S,"System",{global:i(2)})},function(t,e,i){var r=i(0),n=i(20);r(r.S,"Error",{isError:function(t){return"Error"===n(t)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var r=i(0),n=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*n}})},function(t,e,i){var r=i(0),n=i(137),s=i(117);r(r.S,"Math",{fscale:function(t,e,i,r,o){return s(n(t,e,i,r,o))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{iaddh:function(t,e,i,r){var n=t>>>0,s=i>>>0;return(e>>>0)+(r>>>0)+((n&s|(n|s)&~(n+s>>>0))>>>31)|0}})},function(t,e,i){var r=i(0);r(r.S,"Math",{isubh:function(t,e,i,r){var n=t>>>0,s=i>>>0;return(e>>>0)-(r>>>0)-((~n&s|~(n^s)&n-s>>>0)>>>31)|0}})},function(t,e,i){var r=i(0);r(r.S,"Math",{imulh:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r,o=i>>16,a=r>>16,u=(o*s>>>0)+(n*s>>>16);return o*a+(u>>16)+((n*a>>>0)+(65535&u)>>16)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var r=i(0),n=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*n}})},function(t,e,i){var r=i(0);r(r.S,"Math",{scale:i(137)})},function(t,e,i){var r=i(0);r(r.S,"Math",{umulh:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r,o=i>>>16,a=r>>>16,u=(o*s>>>0)+(n*s>>>16);return o*a+(u>>>16)+((n*a>>>0)+(65535&u)>>>16)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){"use strict";var r=i(0),n=i(22),s=i(2),o=i(66),a=i(124);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,n.Promise||s.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then(function(){return i})}:t,i?function(i){return a(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var r=i(0),n=i(98),s=i(123);r(r.S,"Promise",{try:function(t){var e=n.f(this),i=s(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var r=i(31),n=i(1),s=r.key,o=r.set;r.exp({defineMetadata:function(t,e,i,r){o(t,e,n(i),s(r))}})},function(t,e,i){var r=i(31),n=i(1),s=r.key,o=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:s(arguments[2]),r=o(n(e),i,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=a.get(e);return u.delete(i),!!u.size||a.delete(e)}})},function(t,e,i){var r=i(31),n=i(1),s=i(18),o=r.has,a=r.get,u=r.key,h=function(t,e,i){if(o(t,e,i))return a(t,e,i);var r=s(e);return null!==r?h(t,r,i):void 0};r.exp({getMetadata:function(t,e){return h(t,n(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var r=i(127),n=i(136),s=i(31),o=i(1),a=i(18),u=s.keys,h=s.key,l=function(t,e){var i=u(t,e),s=a(t);if(null===s)return i;var o=l(s,e);return o.length?i.length?n(new r(i.concat(o))):o:i};s.exp({getMetadataKeys:function(t){return l(o(t),arguments.length<2?void 0:h(arguments[1]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.get,o=r.key;r.exp({getOwnMetadata:function(t,e){return s(t,n(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.keys,o=r.key;r.exp({getOwnMetadataKeys:function(t){return s(n(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,e,i){var r=i(31),n=i(1),s=i(18),o=r.has,a=r.key,u=function(t,e,i){if(o(t,e,i))return!0;var r=s(e);return null!==r&&u(t,r,i)};r.exp({hasMetadata:function(t,e){return u(t,n(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.has,o=r.key;r.exp({hasOwnMetadata:function(t,e){return s(t,n(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=i(11),o=r.key,a=r.set;r.exp({metadata:function(t,e){return function(i,r){a(t,e,(void 0!==r?n:s)(i),o(r))}}})},function(t,e,i){var r=i(0),n=i(97)(),s=i(2).process,o="process"==i(20)(s);r(r.G,{asap:function(t){var e=o&&s.domain;n(e?e.bind(t):t)}})},function(t,e,i){"use strict";var r=i(0),n=i(2),s=i(22),o=i(97)(),a=i(6)("observable"),u=i(11),h=i(1),l=i(42),c=i(44),f=i(13),p=i(43),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,y(t))},x=function(t,e){h(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),r=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){r.unsubscribe()}:u(i),this._c=i)}catch(e){return void t.error(e)}v(this)&&y(this)};x.prototype=c({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var r=g(i.next);if(r)return r.call(i,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var r=g(i.error);if(!r)throw t;t=r.call(i,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var r=g(i.complete);t=r?r.call(i,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var k=function(t){l(this,k,"Observable","_f")._f=u(t)};c(k.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(t){var e=this;return new(s.Promise||n.Promise)(function(i,r){u(t);var n=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),n.unsubscribe()}},error:r,complete:i})})}}),c(k,{from:function(t){var e="function"==typeof this?this:k,i=g(h(t)[a]);if(i){var r=h(i.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var i=!1;return o(function(){if(!i){try{if(p(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:k)(function(t){var e=!1;return o(function(){if(!e){for(var r=0;r<i.length;++r)if(t.next(i[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(k.prototype,a,function(){return this}),r(r.G,{Observable:k}),i(41)("Observable")},function(t,e,i){var r=i(2),n=i(0),s=i(100),o=[].slice,a=/MSIE .\./.test(s),u=function(t){return function(e,i){var r=arguments.length>2,n=!!r&&o.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,i)}};n(n.G+n.B+n.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,i){var r=i(0),n=i(96);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,i){for(var r=i(95),n=i(37),s=i(14),o=i(2),a=i(13),u=i(49),h=i(6),l=h("iterator"),c=h("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=n(p),g=0;g<d.length;g++){var y,v=d[g],m=p[v],x=o[v],b=x&&x.prototype;if(b&&(b[l]||a(b,l,f),b[c]||a(b,c,v),u[v]=f,m))for(y in r)b[y]||s(b,y,r[y],!0)}},function(t,e,i){(function(e){!function(e){"use strict";var i,r=Object.prototype,n=r.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag",h="object"==typeof t,l=e.regeneratorRuntime;if(l)h&&(t.exports=l);else{(l=e.regeneratorRuntime=h?t.exports:{}).wrap=b;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},y={};y[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==r&&n.call(m,o)&&(y=m);var x=A.prototype=M.prototype=Object.create(y);S.prototype=x.constructor=A,A.constructor=S,A[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},l.awrap=function(t){return{__await:t}},_(w.prototype),w.prototype[a]=function(){return this},l.AsyncIterator=w,l.async=function(t,e,i,r){var n=new w(b(t,e,i,r));return l.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},_(x),x[u]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},l.values=E,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=i),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),h=n.call(o,"finallyLoc");if(u&&h){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=i),g}}}function b(t,e,i,r){var n,s,o,a,u=e&&e.prototype instanceof M?e:M,h=Object.create(u.prototype),l=new O(r||[]);return h._invoke=(n=t,s=i,o=l,a=c,function(t,e){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===t)throw e;return T()}for(o.method=t,o.arg=e;;){var i=o.delegate;if(i){var r=P(i,o);if(r){if(r===g)continue;return r}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===c)throw a=d,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=p;var u=k(n,s,o);if("normal"===u.type){if(a=o.done?d:f,u.arg===g)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(a=d,o.method="throw",o.arg=u.arg)}}),h}function k(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function M(){}function S(){}function A(){}function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function w(t){function i(e,r,s,o){var a=k(t[e],t,r);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){i("next",t,s,o)},function(t){i("throw",t,s,o)}):Promise.resolve(h).then(function(t){u.value=t,s(u)},o)}o(a.arg)}var r;"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(t,e){function n(){return new Promise(function(r,n){i(t,e,r,n)})}return r=r?r.then(n,n):n()}}function P(t,e){var r=t.iterator[e.method];if(r===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,P(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=k(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var s=n.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,g):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=i,e.done=!0,e};return s.next=s}}return{next:T}}function T(){return{value:i,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,i(103))},function(t,e,i){i(345),t.exports=i(22).RegExp.escape},function(t,e,i){var r=i(0),n=i(346)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return n(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o,a,u,h,l,c,f,p,d,g,y,v,m,x,b,k,M,S,A,_,w,P,C,L,O,E,T,X,D,j,I,N,Y,F,B,R,H,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var z=Ot(i),V=Ot(r),G=Ot(n),U=Ot(s),Z=Ot(o),q=Ot(a),K=Ot(u),J=Ot(h),Q=Ot(l),$=Ot(c),tt=Ot(f),et=Ot(p),it=Ot(d),rt=Ot(g),nt=Ot(y),st=Ot(v),ot=Ot(m),at=Ot(x),ut=Ot(b),ht=Ot(k),lt=Ot(M),ct=Ot(S),ft=Ot(A),pt=Ot(_),dt=Ot(w),gt=Ot(P),yt=Ot(C),vt=Ot(L),mt=Ot(O),xt=Ot(E),bt=(Ot(T),Ot(X)),kt=Ot(D),Mt=Ot(j),St=Ot(I),At=Ot(N),_t=Ot(Y),wt=Ot(F),Pt=Ot(B),Ct=Ot(R),Lt=Ot(H);Ot(W);function Ot(t){return t&&t.__esModule?t:{default:t}}z.default.registerConstructor("graph.position",V.default),z.default.registerConstructor("graph.axis.x",U.default),z.default.registerConstructor("graph.axis.y",Z.default),z.default.registerConstructor("graph.axis.x.bar",q.default),z.default.registerConstructor("graph.axis.x.time",K.default),z.default.registerConstructor("graph.serie.line",J.default),z.default.registerConstructor("graph.serie.line.3d",Q.default),z.default.registerConstructor("graph.serie.line.color",et.default),z.default.registerConstructor("graph.serie.contour",ot.default),z.default.registerConstructor("graph.serie.bar",$.default),z.default.registerConstructor("graph.serie.box",tt.default),z.default.registerConstructor("graph.serie.scatter",it.default),z.default.registerConstructor("graph.serie.zone",rt.default),z.default.registerConstructor("graph.serie.zone.3d",nt.default),z.default.registerConstructor("graph.serie.densitymap",st.default),z.default.registerConstructor(z.default.SERIE_LINE,J.default),z.default.registerConstructor(z.default.SERIE_LINE_3D,Q.default),z.default.registerConstructor(z.default.SERIE_LINE_COLORED,et.default),z.default.registerConstructor(z.default.SERIE_CONTOUR,ot.default),z.default.registerConstructor(z.default.SERIE_BAR,$.default),z.default.registerConstructor(z.default.SERIE_BOX,tt.default),z.default.registerConstructor(z.default.SERIE_SCATTER,it.default),z.default.registerConstructor(z.default.SERIE_ZONE,rt.default),z.default.registerConstructor(z.default.SERIE_ZONE_3D,nt.default),z.default.registerConstructor(z.default.SERIE_DENSITYMAP,st.default),z.default.registerConstructor("graph.plugin.shape",kt.default),z.default.registerConstructor("graph.plugin.drag",bt.default),z.default.registerConstructor("graph.plugin.zoom",St.default),z.default.registerConstructor("graph.plugin.selectScatter",Mt.default),z.default.registerConstructor("graph.plugin.timeSerieManager",At.default),z.default.registerConstructor("graph.plugin.serielinedifference",_t.default),z.default.registerConstructor("graph.plugin.serieLineDifference",_t.default),z.default.registerConstructor("graph.plugin.axissplitting",wt.default),z.default.registerConstructor("graph.plugin.makeTracesDifferent",Pt.default),z.default.registerConstructor("graph.plugin.peakPicking",Ct.default),z.default.registerConstructor("graph.shape",at.default),z.default.registerConstructor("graph.shape.areaundercurve",ut.default),z.default.registerConstructor("graph.shape.arrow",ht.default),z.default.registerConstructor("graph.shape.ellipse",lt.default),z.default.registerConstructor("graph.shape.label",ct.default),z.default.registerConstructor("graph.shape.polyline",ft.default),z.default.registerConstructor("graph.shape.line",pt.default),z.default.registerConstructor("graph.shape.nmrintegral",dt.default),z.default.registerConstructor("graph.shape.html",xt.default),z.default.registerConstructor("graph.shape.peakintegration2d",gt.default),z.default.registerConstructor("graph.shape.rect",yt.default),z.default.registerConstructor("graph.shape.rectangle",yt.default),z.default.registerConstructor("graph.shape.cross",vt.default),z.default.registerConstructor("graph.shape.peakboundariescenter",mt.default),z.default.registerConstructor("graph.legend",G.default),z.default.registerConstructor("graph.waveform",Lt.default),e.default=z.default,t.exports=e.default},n=[t,e,i(45),i(55),i(349),i(101),i(139),i(350),i(351),i(51),i(352),i(353),i(354),i(355),i(141),i(142),i(356),i(357),i(358),i(28),i(359),i(360),i(378),i(361),i(362),i(102),i(363),i(364),i(143),i(365),i(366),i(367),i(29),i(368),i(369),i(370),i(371),i(372),i(374),i(375),i(376),i(377),i(46),i(138)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},o=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e,i=r.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!s)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,i,r,n,a,u,h=arguments[0],l=1,c=arguments.length,f=!1;for("boolean"==typeof h&&(f=h,h=arguments[1]||{},l=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});l<c;++l)if(null!=(e=arguments[l]))for(i in e)r=h[i],h!==(n=e[i])&&(f&&n&&(o(n)||(a=s(n)))?(a?(a=!1,u=r&&s(r)?r:[]):u=r&&o(r)?r:{},h[i]=t(f,u,n)):void 0!==n&&(h[i]=n));return h}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),u={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0},h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=o.extend({},u,i),this.graph=e,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=o.guid(),this.eyeCrossedId=o.guid();var r=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeCrossedId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>'),n=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>');this.svg.appendChild(document.adoptNode(n.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(r.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}return a(t,[{key:"setPosition",value:function(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}},{key:"setDraggable",value:function(t){this.options.movable=t}},{key:"setAutoPosition",value:function(t){if(["bottom","left","top","right"].indexOf(t=t.toLowerCase())>-1)return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"buildLegendBox",value:function(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var r=0,n=t.length;r<n;r++)if(!t[r].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition)e+(s=l(this.groups[r])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0);this.groups[r].setAttribute("transform","translate( "+e+", "+i+")"),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=s.width+10,i+=0):(e=0,i+=16)}var s=l(this.subG);switch(this.width=s.width+this.options.paddingRight+this.options.paddingLeft,this.height=s.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",s.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",s.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=this.graph.getHeight()+"px",this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=this.graph.getWidth()+"px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.position.y="10px",this.alignToY="top",this.alignToX=!1}if(this.autoPosition){switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10;break;case"left":this.graph.options.paddingLeft=this.width+5;break;case"right":this.graph.options.paddingRight=this.width+10;break;case"top":this.graph.options.paddingTop=this.height+14}this.graph.updateGraphingZone(),this.graph.getDrawingHeight(),this.graph.getDrawingWidth()}this.bbox=s}},{key:"calculatePosition",value:function(){var t=s.default.check(this.position),e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&("max"==t.y&&(e.y+=this.graph.getPaddingTop()),"max"==t.x&&(e.x-=this.graph.getPaddingRight()),"right"==this.alignToX&&(e.x-=this.width,e.x-=this.bbox.x),"bottom"==this.alignToY?(e.y-=this.height,e.y-=this.bbox.y):e.y-=this.bbox.y,this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}},{key:"update",value:function(t){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var e=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var i=this.series||this.graph.getSeries();if(i.length>0){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();for(var r=0,n=i.length;r<n;r++)i[r].excludedFromLegend&&!this.series||function(t){var n;if("bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();n=document.createElementNS(e.graph.ns,"g");var s=document.createElementNS(e.graph.ns,"rect");e.subG.appendChild(n),n.appendChild(s);var o=i[t].getSymbolForLegend(),a=i[t].getMarkerForLegend(),u=i[t].getTextForLegend(),h=35;if(this.isHideable()){h+=20;var c=document.createElementNS(e.graph.ns,"use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+(i[r].isShown()?this.eyeId:this.eyeCrossedId)),c.setAttribute("width",15),c.setAttribute("height",15),c.setAttribute("x",35),c.setAttribute("y",-8),c.addEventListener("click",function(r){var n;r.stopPropagation(),i[t].isShown()?(i[t].hide(e.options.hideShapesOnHideSerie),n=e.eyeCrossedId):(i[t].show(e.options.hideShapesOnHideSerie),n=e.eyeId),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+n)})}u.setAttribute("transform","translate("+h+", 3)"),u.setAttribute("color",this.options.color),o&&n.appendChild(o),"scatter"==i[t].getType()&&o.setAttribute("transform","translate( 20, 0 )"),a&&n.appendChild(a),c&&n.appendChild(c),n.appendChild(u);var f=l(n);s.setAttribute("x",f.x),s.setAttribute("y",f.y),s.setAttribute("width",f.width),s.setAttribute("height",f.height),s.setAttribute("fill","none"),s.setAttribute("pointer-events","fill"),e.groups[t]=n,n.addEventListener("click",function(r){var n=i[t];n.isShown()&&(e.isSelectable()&&!n.isSelected()?e.graph.selectSerie(n):e.graph.unselectSerie(n),r.preventDefault(),r.stopPropagation())})}.call(this,r);this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var t=this,e=this.pos;this.svg.addEventListener("mousedown",function(i){i.stopPropagation(),console.log("down"),t.options.movable&&(e.x=i.clientX,e.y=i.clientY,i.preventDefault(),t.mousedown=!0,t.graph.elementMoving(t),t.rect.setAttribute("display","block"))}),this.svg.addEventListener("click",function(t){t.stopPropagation()}),this.svg.addEventListener("dblclick",function(t){t.stopPropagation()}),this.svg.addEventListener("mousemove",function(e){t.handleMouseMove(e)})}},{key:"handleMouseUp",value:function(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,r=t.clientY-e.y;e.transformX+=i,e.transformY+=r,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform","translate("+t.transformX+", "+t.transformY+")")}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px"),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}},{key:"fixSeriesAdd",value:function(t){this.series=this.series||[],this.series.push(t)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(t){this.options.isSerieHideable=!!t},get:function(){return this.options.isSerieHideable}}]),t}();function l(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}e.default=h,t.exports=e.default},n=[t,e,i(55),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),o(e,[{key:"draw",value:function(){var t,e=this,i=this._barCategories;if(this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var r=0;r<=i.length;r++)this.drawTick(r/i.length,2),r<i.length&&((t=this.nextTickLabel(function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"})).setAttribute("x",this.getPos((r+.5)/i.length)),t.textContent=i[r].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var t=[],e=!0,i=!1,r=void 0;try{for(var n,s=this.graph.series[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;o.getXAxis()==this&&t.push(o)}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}return this.setSeries.apply(this,t),this}},{key:"setSeries",value:function(){var t=this;return this.series=arguments,Array.prototype.map.call(this.series,function(e,i){"object"!=(void 0===e?"undefined":s(e))&&(e=t.graph.getSerie(e)),e.setCategoryConfig&&e.setCategoryConfig(i,t._barCategories,t.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var t={},e=0;Array.prototype.map.call(this.series,function(i){var r=i.getUsedCategories(),n=!0,s=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var h=a.value;t.hasOwnProperty(h)||(t[h]=1,e+=1),t[h]++,e++}}catch(t){s=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(s)throw o}}});var i=0;for(var r in t){var n=t[r];t[r]=i,i+=n}var s={};Array.prototype.map.call(this.series,function(i){var r=i.getUsedCategories(),n={};r.forEach(function(i){s[i]=s[i]||.5,n[i]=(t[i]+s[i])/e,s[i]++}),i.setDataIndices(n,e)})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(t){return this._barCategories=t,this}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(101)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u,h,l,c,f=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],p=(u=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,h=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g,c=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},function(t,e,i){var r=p;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date:"+t);"UTC:"==(e=String(r.masks[e]||e||r.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var n,s,o,a=i?"getUTC":"get",f=t[a+"Date"](),d=t[a+"Day"](),g=t[a+"Month"](),y=t[a+"FullYear"](),v=t[a+"Hours"](),m=t[a+"Minutes"](),x=t[a+"Seconds"](),b=t[a+"Milliseconds"](),k=i?0:t.getTimezoneOffset(),M={d:f,dd:c(f),ddd:r.i18n.dayNames[d],dddd:r.i18n.dayNames[d+7],m:g+1,mm:c(g+1),mmm:r.i18n.monthNames[g],mmmm:r.i18n.monthNames[g+12],yy:String(y).slice(2),yyyy:y,h:v%12||12,hh:c(v%12||12),H:v,HH:c(v),M:m,MM:c(m),s:x,ss:c(x),l:c(b,3),L:c(b>99?Math.round(b/10):b),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:i?"UTC":(String(t).match(h)||[""]).pop().replace(l,""),o:(k>0?"-":"+")+c(100*Math.floor(Math.abs(k)/60)+Math.abs(k)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:(n=t,s=a,o=new Date(n[s+"FullYear"](),0,1),Math.ceil(((n-o)/864e5+o[s+"Day"]()+1)/7))};return e.replace(u,function(t){return t in M?M[t]:t.slice(1,t.length-1)})});function d(t,e){return Math.round(t/e)*e}function g(t,e){switch(e.unit){case"s":t.setSeconds(d(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(d(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(d(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(d(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(d(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function y(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function v(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var r={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},n=document.createElementNS(t.graph.ns,"line");switch(n.setAttribute("stroke","black"),n.setAttribute("y1",0),e){case 2:n.setAttribute("y2",6),r.text.setAttribute("y",15),r.line=n,r.group.appendChild(r.line);break;default:case 1:n.setAttribute("y2",20),r.text.setAttribute("y",10),r.line1=n,r.line2=n.cloneNode(),r.group.appendChild(r.line1),r.group.appendChild(r.line2)}return r.text.setAttribute("text-anchor","middle"),r.text.setAttribute("dominant-baseline","middle"),r.group.appendChild(r.text),t.getWrapper(e).appendChild(r.group),t.groups[e][i]=r}function m(t,e,i){for(;i<t.groups[e].length;i++)x(t.groups[e][i])}function x(t){t.group.setAttribute("display","none")}function b(t,e,i,r,n,s,o){switch(t){case 2:if(s<r||s>n)return void x(e);e.line.setAttribute("x1",s),e.line.setAttribute("x2",s),e.text.setAttribute("x",s),e.text.textContent=i;break;default:case 1:var a=Math.max(r,Math.min(n,s)),u=Math.max(r,Math.min(n,o));if(isNaN(u)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",u),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",u),e.text.setAttribute("x",(a+u)/2);8*i.length>u-a;)if(1==(i=i.substr(0,i.length-2)+".").length){i="";break}e.text.textContent=i}}p.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},p.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var k=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"init",value:function(t,i){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var r=document.createElementNS(t.ns,"rect");r.setAttribute("fill","#c0c0c0"),r.setAttribute("stroke","#808080"),r.setAttribute("height","20"),r.setAttribute("x","0"),r.setAttribute("y","0"),this.rect=r,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),null!=this.currentAxisMin&&null!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t,e=this.maxPx-this.minPx,i=this.getCurrentInterval()/e,r=this.getCurrentMax(),n=this.getCurrentMin();if(this.rect.setAttribute("width",e),this.rect.setAttribute("x",this.minPx),!r||!n)return 0;for(c=0;c<f.length;c++)if(f[c].threshold>i){t=f[c];break}t||(t=f[f.length-1]);var s,a,u,h,l,c,d,x,k=0;for(k=1;k<=2;k++){if(!o.isNumeric(n)){m(this,k,0);break}u=g(new Date(n),t.increments[k]),c=0;do{if(d=u,x=t.increments[k].format,h=p(d,x),l=v(this,k,c),s=this.getPx(u.getTime()),u=y(u,t.increments[k]),a=this.getPx(u.getTime()),b(k,l,h,this.getMinPx(),this.getMaxPx(),s,a),++c>100)break}while(u.getTime()<r);m(this,k,c)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(t){return this.wrapper[t]}},{key:"setShift",value:function(t){this.shift=t,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}]),e}();e.default=k,t.exports=e.default},n=[t,e,i(72),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i);var a=l(r),u=(l(n),l(s)),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(o);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var f=function(t){function e(t,i,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),c(e,null,[{key:"defaults",value:function(){return{zpos:0}}}]),c(e,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),e}();h.mix(f,u.default),e.default=f,t.exports=e.default},n=[t,e,i(45),i(51),i(46),i(140),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var s=o(r);o(n);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.groupMain=document.createElementNS(n.graph.ns,"g"),n.pathDom=document.createElementNS(n.graph.ns,"path"),n.groupMain.appendChild(n.pathDom),n.styles={},n.styles.unselected={lineColor:n.options.lineColor,lineStyle:n.options.lineStyle,lineWidth:n.options.lineWidth,fillColor:n.options.fillColor,fillOpacity:n.options.fillOpacity,markers:n.options.markers},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"setData",value:function(t){for(var e in this.data=t,this.minY=Number.MAX_SAFE_INTEGER,this.maxY=Number.MIN_SAFE_INTEGER,this.data)this._checkY(this.data[e]);return this}},{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor}},{key:"setFillOpacity",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillOpacity",value:function(t){return this.getStyle(t).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t="";for(var e in this.error&&this.errorDrawInit(),this.data)this.categoryIndices[e]&&(t+="M "+this.getXAxis().getPos(this.categoryIndices[e])+" "+this.getYAxis().getPos(0)+" V "+this.getYAxis().getPos(this.data[e])+" h "+this.getXAxis().getDeltaPx(1/this.nbCategories)+" V "+this.getYAxis().getPos(0),this.error&&this.errorAddPointBarChart(e,this.data[e],this.getXAxis().getPos(this.categoryIndices[e]+.5/this.nbCategories),this.getYAxis().getPos(this.data[e])));this.error&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return Object.keys(this.data)}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(51),i(73)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.groupMain=document.createElementNS(n.graph.ns,"g"),n.pathDom=document.createElementNS(n.graph.ns,"path"),n.groupMain.appendChild(n.pathDom),n.styles={},n.styles.unselected=n.options.defaultStyle,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,null,[{key:"default",value:function(){return{orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}}}}]),o(e,[{key:"setData",value:function(t,e){if(this.data=t,Array.isArray(t)){var i=void 0,n=void 0,s=void 0,o=void 0,a=void 0;for(var u in"y"==this.options.orientation?(i=this.getXAxis(),n=this.getYAxis(),s=this._checkX.bind(this),o=this._checkY.bind(this),a=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),n=this.getXAxis(),s=this._checkY.bind(this),o=this._checkX.bind(this),a=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(s=function(){},o=function(){}),i&&n||(0,r.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand"),this.data)a?(s(this.data[u].x),this.data[u].pos=this.data[u].x):(s(this.data[u].y),this.data[u].pos=this.data[u].y),this.data[u].Q3&&o(this.data[u].Q3),this.data[u].Q1&&o(this.data[u].Q1),this.data[u].whiskers?Array.isArray(this.data[u].whiskers)?(this.data[u].whiskers.length>0&&o(this.data[u].whiskers[0]),this.data[u].whiskers.length>1&&o(this.data[u].whiskers[1])):(o(this.data[u].whiskers),this.data[u].whiskers=[this.data[u].whiskers]):this.data[u].whiskers=[],Array.isArray(this.data[u].outliers)?this.data[u].outliers.map(function(t){return o(t)}):this.data[u].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,r&&this._set(t,e,"selected"),this.styleHasChanged(i),this}},{key:"_gstyle",value:function(t,e){return this.getStyle(e)[t]}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[t]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=(0,r.extend)({},this.default().defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t=this;if(this.data){var e=void 0,i="y"==this.options.orientation?this.getYAxis():this.getXAxis(),n="y"==this.options.orientation?this.getXAxis():this.getYAxis(),s=void 0,o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0;if((0,r.emptyDom)(this.groupMain),"category"==n.getType())s=n.getRelPx(.8/this.nbCategories),!0;else{s=this.options.maxBoxWidth;for(var f=0,p=this.data.length;f<p-1;f++)s=Math.min(s,Math.abs(n.getPx(this.data[f+1].pos)-n.getPx(this.data[f].pos)))}for(f=0,p=this.data.length;f<p;f++){if("category"==n.getType()){var d="y"==this.options.orientation?this.data[f].x:this.data[f].y;if(this.categoryIndices.hasOwnProperty(d))e=[n.getPos(this.categoryIndices[d])+1.2*s/2];else if(Array.isArray(this._linkedToScatterSeries)){var g=!0,y=!1,v=void 0;try{for(var m,x=this._linkedToScatterSeries[Symbol.iterator]();!(g=(m=x.next()).done);g=!0){var b=m.value;if(b.categoryIndices.hasOwnProperty(d)){e=[n.getPos(b.categoryIndices[d])+1.2*s/2],i="y"==this.options.orientation?b.getYAxis():b.getXAxis();break}}}catch(t){y=!0,v=t}finally{try{!g&&x.return&&x.return()}finally{if(y)throw v}}}}else e=[n.getPos("y"==this.options.orientation?this.data[f].x:this.data[f].y),s];o=i.getPos(this.data[f].Q2),a=i.getPos(this.data[f].Q3),u=i.getPos(this.data[f].Q1),this.data[f].whiskers.map(function(e){e<t.data[f].Q1?l=i.getPos(e):h=i.getPos(e)}),c=this.data[f].outliers.map(function(t){return i.getPos(t)});var k=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(k);var M=document.createElementNS(this.graph.ns,"rect"),S=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(M.setAttribute("width",s),M.setAttribute("x",e[0]-s/2),S.setAttribute("width",s),S.setAttribute("x",e[0]-s/2),k.setAttribute("x1",e[0]-s/2),k.setAttribute("x2",e[0]+s/2),k.setAttribute("y1",o),k.setAttribute("y2",o)):(M.setAttribute("height",s),M.setAttribute("y",e[0]-s/2),S.setAttribute("height",s),S.setAttribute("y",e[0]-s/2),k.setAttribute("y1",e[0]-s/2),k.setAttribute("y2",e[0]+s/2),k.setAttribute("x1",o),k.setAttribute("x2",o)),this.boxPos(M,o,a,"x"==this.options.orientation),this.boxPos(S,o,u,"x"==this.options.orientation),this.applyBoxStyle(M,S);var A=document.createElementNS(this.graph.ns,"line"),_=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==h&&(A.setAttribute("y1",a),A.setAttribute("y2",h),A.setAttribute("x1",e[0]),A.setAttribute("x2",e[0])),void 0!==l&&(_.setAttribute("y1",u),_.setAttribute("y2",l),_.setAttribute("x1",e[0]),_.setAttribute("x2",e[0]))):(void 0!==h&&(A.setAttribute("x1",a),A.setAttribute("x2",h),A.setAttribute("y1",e[0]),A.setAttribute("y2",e[0])),void 0!==l&&(_.setAttribute("x1",u),_.setAttribute("x2",l),_.setAttribute("y1",e[0]),_.setAttribute("y2",e[0]))),c.map(function(i){var r=document.createElementNS(t.graph.ns,"circle");r.setAttribute("r",2),"y"==t.options.orientation?(r.setAttribute("cx",e[0]),r.setAttribute("cy",i)):(r.setAttribute("cy",e[0]),r.setAttribute("cx",i)),t.setOutlierStyle(r),t.groupMain.appendChild(r)}),void 0!==h&&this.groupMain.appendChild(A),void 0!==l&&this.groupMain.appendChild(_),void 0!==a&&this.groupMain.appendChild(M),void 0!==u&&this.groupMain.appendChild(S),this.groupMain.appendChild(k),this.applyWhiskerStyle(A,_)}}}},{key:"applyBoxStyle",value:function(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(t,e,i,r){e>i?(t.setAttribute(r?"x":"y",i),t.setAttribute(r?"width":"height",e-i)):(t.setAttribute(r?"x":"y",e),t.setAttribute(r?"width":"height",i-e))}},{key:"getUsedCategories",value:function(){var t="y"==this.options.orientation?"x":"y",e=this.data.map(function(e){return e[t]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(t){t.getUsedCategories().map(function(t){var i;(i=e.indexOf(t))>-1&&e.splice(i,1)})}),e}},{key:"linkToScatterSerie",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this._linkedToScatterSeries=e}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(57),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(i);(function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}})(r),o(n);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.lines=n.lines||{},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"setColors",value:function(t){this.colors=t}},{key:"_draw",value:function(){var t,e,i,r,n,s,o,a,u=this,h=(this._dataToUse,0),l=!1,c=!1,f=this.getXAxis(),p=this.getYAxis(),d=f.getCurrentMin(),g=p.getCurrentMin(),y=f.getCurrentMax(),v=p.getCurrentMax();for(this.eraseLines(),this.isFlipped()&&(1,0),this.currentLine="",e=this.waveform.getLength(),t=0;t<e;t+=2)if(i=this.waveform.getX(t),r=this.waveform.getY(t),i<d&&l<d||i>y&&l>y||(r<g&&c<g||r>v&&c>v)&&!this.options.lineToZero)l=i,c=r,!0;else if(this.counter2=t,this.markersShown()&&this.getMarkerCurrentFamily(this.counter2),o=this.getX(i),a=this.getY(r),o!=n||a!=s)if(i<d||r<g||i>y||r>v,isNaN(o)||isNaN(a))this.counter;else{var m=this.colors[t];this._addPoint(o,a,i,r,n,s,l,c,t,m,!1,!0),n=o,s=a,l=i,c=r}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var x=this.groupLines.cloneNode(!0);this.groupMain.appendChild(x);h=0;for(var b=x.children.length;h<b;h++)x.children[h].setAttribute("stroke","transparent"),x.children[h].setAttribute("stroke-width","25px"),x.children[h].setAttribute("pointer-events","stroke");u._trackerDom=x,u.groupMain.addEventListener("mousemove",function(t){var e=u.graph._getXY(t),i=u.handleMouseMove(!1,!1);u._trackingCallback(u,i,e.x,e.y)}),u.groupMain.addEventListener("mouseleave",function(t){u._trackingOutCallback(u)})}return this}},{key:"_addPoint",value:function(t,e,i,r,n,s,o,a,u,h,l,c){if(void 0!==n&&void 0!==s&&!isNaN(t)&&!isNaN(e)){h._rgb&&(h="rgba("+h._rgb[0]+","+h._rgb[1]+","+h._rgb[2]+","+(h._rgb[3]||1)+")");var f=this.lines[h];f||((f=this.lines[h]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:h}).object.setAttribute("stroke",h),f.color=h,this.groupLines.appendChild(f.object)),f.path+="M "+n+" "+s+" L "+t+" "+e,this.hasErrors()&&this.errorAddPoint(u,i,r,t,e)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}},{key:"eraseLines",value:function(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(51),i(5),i(73)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i);var a=l(r),u=(l(n),l(s)),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(o);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var f=function(t){function e(t,i,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),c(e,null,[{key:"default",value:function(){return{zpos:0}}}]),c(e,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),e}();h.mix(f,u.default),e.default=f,t.exports=e.default},n=[t,e,i(45),i(142),i(46),i(140),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return o.mapEventEmission(n.options,n),n.groupMain=document.createElementNS(n.graph.ns,"g"),n.rects=[],n.paths=[],n.recalculateBinsOnDraw=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"setData",value:function(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(t,e,i,r,n,s){var o,a,u,h=[],l=this.data.length,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(o=0;o<l;o++)a=~~((this.data[o][0]-t)/e),u=~~((this.data[o][1]-r)/n),a>i||u>s||a<0||u<0||(h[a]=h[a]||[],h[a][u]=h[a][u]+1||1,c=h[a][u]<c?h[a][u]:c,f=h[a][u]>f?h[a][u]:f);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=c,this.binMax=f,this.deltaX=e,this.deltaY=n,this.fromX=t,this.fromY=r,this.numX=i,this.numY=s,this.densitymap=h,h}},{key:"setDensityMap",value:function(t,e,i,r,n,s,o){this.data.length;var a,u,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(a=0;a<t.length;a++)for(u=0;u<t[a].length;u++)h=t[a][u]<h?t[a][u]:h,l=t[a][u]>l?t[a][u]:l;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,this.binMin=h,this.binMax=l,this.deltaX=i,this.deltaY=s,this.fromX=e,this.fromY=n,this.numX=this.maxIndexX,this.numY=this.maxIndexY,this.densitymap=t,t}},{key:"calculateDensityWeighted",value:function(t,e,i,r,n,s){var o,a,u,h,l,c,f,p,d,g,y,v=[],m=this.data.length,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(o=0;o<m;o++)c=(this.data[o][0]-t)/e-.5,f=(this.data[o][1]-r)/n-.5,p=a=Math.floor(c),g=u=Math.floor(f),d=a+1,y=u+1,h=1-(c-a),l=1-(f-u),a>i||u>s||a<0||u<0||(v[p]=v[p]||[],v[d]=v[d]||[],v[p][g]=v[p][g]||0,v[d][g]=v[d][g]||0,v[p][y]=v[p][y]||0,v[d][y]=v[d][y]||0,v[p][g]+=h*l,v[d][g]+=(1-h)*l,v[p][y]+=h*(1-l),v[d][y]+=(1-h)*(1-l),x=v[p][g]<x?v[p][g]:x,b=v[p][g]>b?v[p][g]:b,x=v[d][g]<x?v[d][g]:x,b=v[d][g]>b?v[d][g]:b,x=v[p][y]<x?v[p][y]:x,b=v[p][y]>b?v[p][y]:b,x=v[d][y]<x?v[d][y]:x,b=v[d][y]>b?v[d][y]:b);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=x,this.binMax=b,this.deltaX=e,this.deltaY=n,this.fromX=t,this.fromY=r,this.numX=i,this.numY=s,this.densitymap=v,v}},{key:"autoBins",value:function(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}},{key:"setBinsFromTo",value:function(t,e,i,r){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:r},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}},{key:"calculateDensityAdvanced",value:function(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},r=!1;for(var n in this.densityMapCalculation)if(this.densityMapCalculation[n].weighted&&(r=!0,t[n].weighing=!0),this.densityMapCalculation[n].pxPerBin){var s="min"==this.densityMapCalculation[n].from?i[n].call(this).getCurrentMin():this.densityMapCalculation[n].from,o="max"==this.densityMapCalculation[n].to?i[n].call(this).getCurrentMax():this.densityMapCalculation[n].to,a=Math.abs(i[n].call(this).getRelPx(o-s));t[n].num=Math.ceil(e[n]/this.densityMapCalculation[n].pxPerBin),t[n].from=s-Math.abs(i[n].call(this).getRelVal((t[n].num*this.densityMapCalculation[n].pxPerBin-a)/2)),t[n].delta=Math.abs(i[n].call(this).getRelVal(this.densityMapCalculation[n].pxPerBin))}else t[n].num=this.densityMapCalculation[n].numBins||400,t[n].from="min"==this.densityMapCalculation[n].from?i[n].call(this).getCurrentMin():this.densityMapCalculation[n].from,t[n].delta=this.densityMapCalculation[n].to?(("max"==this.densityMapCalculation[n].to?i[n].call(this).getCurrentMax():this.densityMapCalculation[n].to)-t[n].from)/t[n].num:this.densityMapCalculate[n].delta;(r?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}},{key:"setColorMapBinBoundaries",value:function(t,e){return this.colorMapMin=t,this.colorMapMax=e,this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(t){return this.callbackColorMapMinMax=t,this}},{key:"colorMapHSL",value:function(t,e,i){i=i||"linear";for(var r,n,s={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},o=0,a=[],u=[],h={h:null,s:null,l:null,a:null},l=t.length-1,c=0;c<=e;c++){for(var f in r=s[i](c),(n=Math.floor(r*l))==t.length-1&&(n=l-1),r=(r-n/l)/(1/l),h)h[f]=(t[n+1][f]-t[n][f])*r+t[n][f];a[o]="hsl("+h.h+", "+Math.round(100*h.s)+"%, "+Math.round(100*h.l)+"%)",u[o]=h.a,o++}return this.opacities=u,this.colorMap=a,this.colorMapNum=e,this}},{key:"autoColorMapHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear";return this.colorMapHSV(t,100,e),this}},{key:"getColorIndex",value:function(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&null!=this.colorMapMin&&null!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1])}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),r=this.getYAxis().getRelPx(this.deltaY),n=0;n<this.paths.length;n++)this.paths[n]="";for(n=0;n<this.maxIndexX;n++)for(var s=0;s<this.maxIndexY;s++)null!=this.densitymap[n]&&null!=this.densitymap[n][s]&&(t=this.getColorIndex(this.densitymap[n][s]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=" M "+this.getXAxis().getPx(n*this.deltaX+this.fromX)+" "+this.getYAxis().getPx(s*this.deltaY+this.fromY)+" h "+i+" v "+r+" h -"+i+" z");this.drawRects()}},{key:"drawRects",value:function(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}},{key:"setOptions",value:function(t){return this.options=o.extend(!0,{},this.defaults(),t||{}),this}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(57),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var h=function(t){function e(t,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.negativeDelta=0,n.positiveDelta=0,n.negativeThreshold=0,n.positiveThreshold=0,n.groupMain.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),u(e,[{key:"setData",value:function(t,e,i){i=i||"float";var r,n,s,o,u=t.length,h=[];for(t instanceof Array||"object"==(void 0===t?"undefined":a(t))&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,u=(t=t.segments).length),r=0;r<u;r++){for(s=t[r].lines.length,o=this._addData(i,s),n=0;n<s;n+=2)o[n]=t[r].lines[n],this._checkX(o[n]),o[n+1]=t[r].lines[n+1],this._checkY(o[n+1]);h.push({lines:o,zValue:t[r].zValue})}return this.data=h,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){this.currentLine=0;var e,i,r,n,s,o,a,u=0,h=this.data.length,l=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var f=0,p=1;this.getFlip()&&(f=0,p=1);var d=this.getYAxis().getCurrentMin(),g=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),v=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;u<h;u++){for(this.currentLine="",l=0,0,s=(a=this.data[u].lines).length;l<s;l+=4){a[l+f]<g&&a[l+2+f]<g||a[l+p]<d&&a[l+2+p]<d||a[l+p]>v&&a[l+2+p]>v||a[l+f]>y&&a[l+2+f]>y||(r=this.getX(a[l+f]),n=this.getY(a[l+p]),e=this.getX(a[l+2+f]),i=this.getY(a[l+2+p]),e==r&&i==n||(this.currentLine+="M ",this.currentLine+=r,this.currentLine+=" ",this.currentLine+=n,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++,e,i,0))}this.currentLine+=" z",(o=this._createLine()).setAttribute("data-zvalue",this.data[u].zValue),this.zValues[this.data[u].zValue]={dom:o},this.minZ=Math.min(this.minZ,this.data[u].zValue),this.maxZ=Math.max(this.maxZ,this.data[u].zValue)}for(u++,u=this.currentLine+1;u<this.lines.length;u++)this.groupLines.removeChild(this.lines[u]),this.lines.splice(u,1);for(u=0;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(t,e,i,r){for(var n in t/=250,void 0!==i?(r||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),r&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0),this.zValues)this.zValues[n].dom.setAttribute("display",n>=0&&n>=this.positiveThreshold||n<=0&&n<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"setDynamicColor",value:function(t){this.lineColors=t,this.styleHasChanged()}},{key:"setNegative",value:function(t){this.options.hasNegative=t,t&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(t,e,i,r){if(this.lineColors){var n={h:0,s:0,l:0};for(var s in n)n[s]=e>0?this.lineColors.fromPositive[s]+(this.lineColors.toPositive[s]-this.lineColors.fromPositive[s])*(e/r):this.lineColors.fromNegative[s]+(this.lineColors.toNegative[s]-this.lineColors.fromNegative[s])*(e/i);n.h/=360;var a=o.hslToRgb(n.h,n.s,n.l);t.setAttribute("stroke","rgb("+a.join()+")")}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(t){this._shapeZoom=t}}]),e}();e.default=h,t.exports=e.default},n=[t,e,i(51),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var r=this.serie.searchClosestValue(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!r)return;this.resizingPosition.x!=r.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=r.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),r=Math.min(t.x,e.x);if(i<2||r+i<0||r>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var n,s,o,a,u,h,l,c=this.serie.searchClosestValue(this.getPosition(0).x),f=this.serie.searchClosestValue(this.getPosition(1).x),p=0,d=Number.MAX_VALUE;if(!c||!f)return!1;for(c.xBeforeIndex>f.xBeforeIndex&&(n=c,c=f,f=n),this.counter=0,s=c.dataIndex;s<=f.dataIndex;s++){for(this.currentLine="",h=0,(a=s==c.dataIndex?c.xBeforeIndexArr:0)==(u=s==f.dataIndex?f.xBeforeIndexArr:this.serie.data[s].length)&&u++,o=a;o<=u;o+=2)r=this.serie.getX(this.serie.data[s][o+0]),l=this.serie.getY(this.serie.data[s][o+1]),p=Math.max(this.serie.data[s][o+1],p),d=Math.min(this.serie.data[s][o+1],d),o==a&&(this.firstX=r,this.firstY=l),this.currentLine+=h>0?" L "+r+" "+l+" ":" M "+r+" "+l+" ",h++;if(this.lastX=r,this.lastY=l,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V "+this.getYAxis().getPx(0)+" H "+this.firstX+" z",this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(p),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow"+this.graph._creation+")"),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(102)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),null==this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this.setProp("pxPoints",t),this}},{key:"applyPosition",value:function(){var t=void 0,e=this.computePosition(0);if(t=this.getProp("pxPoints"))t=" M "+e.x+" "+e.y+" "+t,this.setDom("d",t);else if(this.points){var i,r;this.serie?(i=this.serie.getXAxis(),r=this.serie.getYAxis()):this.xAxis&&this.yAxis&&(i=this.xAxis,r=this.yAxis),this.setDom("d","M "+this.points.map(function(t){return i.getPx(t[0])+", "+r.getPx(t[1])}).join(" L "))}return this.changed(),!0}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i);s(r);function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.nbHandles=2,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),o(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._domShadow=document.createElementNS(this.graph.ns,"path"),this._domShadow.jsGraphIsShape=this,this._dom.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("stroke-width","12"),this._domShadow.setAttribute("fill","transparent"),this._domShadow.setAttribute("stroke","transparent"),this.group.appendChild(this._domShadow)}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(t,e){return t&&!e||!t&&e}},{key:"applyPosition",value:function(){var t=void 0,e=void 0,i=void 0,r=void 0,n=this.getAxis(),s=[],o="",a=this.getProp("baseLine",0)||300,u=void 0;if(!this.serie)throw"No serie exists for this shape";var h=this.getPosition(0),l=this.getPosition(1);if(h.x<this.serie.getXAxis().getCurrentMin()&&l.x<this.serie.getXAxis().getCurrentMin()||h.x>this.serie.getXAxis().getCurrentMax()&&l.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this._domShadow.setAttribute("d",""),this.hideLabel(0),!1;this.showLabel(0);var c=0,f=void 0,p=this.serie.getWaveform();if(p){var d=p.getIndexFromX(h[n],!0,Math.floor),g=p.getIndexFromX(l[n],!0,Math.ceil),y=void 0,v=!1;d==g&&("aggregate"==p.getReductionType()?g+=4:g++),g<d&&(y=d,d=g,g=y,v=!0);var m=void 0,x=void 0,b=void 0,k=(p.getDataInUse(),void 0),M=void 0;for("aggregate"==p.getReductionType()&&!1,p.getXMonotoneousAscending()||(p.getXMonotoneousAscending(),0)?(f=g,k=!0,M=-1):(f=d,k=!1,M=1);k?f>=d:f<=g;f+=M)i=p.getX(f,!0),r=p.getY(f,!0),t=this.serie.getX(i),e=this.serie.getY(r),c+=p.getY(f,!0),m||(m=t,x=e,p.getX(f),p.getY(f)),null!=b?(b=t,e,s.push([t,e,c]),i):(b=t,e,p.getX(f),p.getY(f));!1,!1,b=!1,!1,0==c&&(c=1),this._sumVal=p.integrate(h.x,l.x),u=this.ratio?this.ratio*(this.sumVal/c):200/c;var S=void 0;if(0!=s.length){for(var A=0,_=s.length;A<_;A++){if(S=a-s[A][2]*u,A>0&&(s[A-1][2]>c/2&&s[A][2]<=c/2||s[A-1][2]<c/2&&s[A][2]>=c/2)){var w=a-(s[A-1][2]+s[A][2])/2*u;this.setPosition({x:s[A][0]+"px",y:w+"px"},3),this.setLabelPosition(this.getPosition(3),0)}o+=" L "+s[A][0]+", "+S+" ",this.lastPointX=s[A][0],this.lastPointY=S}return this.points=s,this._sum=c,o=this.serie.isFlipped()?" M "+a+", "+m+" "+o:" M "+m+", "+a+" "+o,this.firstPointX=m,this.firstPointY=a,this.setDom("d",o),this._domShadow.setAttribute("d",o),this.firstX=m,this.firstY=x,this.serie.ratioLabel&&this.updateIntegralValue(this.serie.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==M,v),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.serie.ratioLabel,e=arguments[1];return console.log(t),t&&(this.serie.ratioLabel=t),isNaN(e)||isNaN(this.sumVal)||!this.sumVal||(this.serie.ratioLabel=e/this.sumVal),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels(),this.serie.ratioLabel}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){null!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(t){this._ratio=t},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(28),i(55)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.nbHandles=4,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),this._dom.element=this,this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(143)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r.nbHandles=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -"+this.width/2+" 0 h "+this.width+" m -"+this.width/2+" -"+this.width/2+" v "+this.width)}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform","translate( "+t.x+", "+t.y+")"),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(t){return this.moving=!0,!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s=this.getFromData("pos");return this.moving&&(s.x=this.graph.deltaPosition(s.x,e,this.getXAxis()),s.y=this.graph.deltaPosition(s.y,i,this.getYAxis())),this.redrawImpl(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(t){this.options.width=t}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.lineHeight=6,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var r=this.lineHeight;this.rectBoundary.setAttribute("d","M "+t.x+" "+(this.posYPx-r)+" v "+2*r+" H "+e.x+" v "+-2*r+"z"),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(r)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(t){return this.posYPx=t,this}},{key:"setLineHeight",value:function(t){this.lineHeihgt=t}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){var r=this.getPosition(0),n=this.getPosition(1),s=this.getPosition(2);switch(this.handleSelected){case 1:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))&&(s.x=r.x+.1*(n.x-r.x));break;case 2:n.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))&&(s.x=n.x+.1*(r.x-n.x));break;case 3:if(s.deltaPosition("x",e,this.getXAxis()),Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:s.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(102)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var t=document.createElement("div");this._dom.appendChild(t),this.div=t}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(t){this.setProp("height",t)}},{key:"setWidth",value:function(t){this.setProp("width",t)}},{key:"setContent",value:function(t){this.setProp("content",t)}},{key:"setRenderer",value:function(t){this._renderer=t}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&(0,i.isNumeric)(t.x)&&(0,i.isNumeric)(t.y))return this._dom.style.left=t.x+"px",this._dom.style.top=t.y+"px",this.currentPosX=t.x,this.currentPosY=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){return!0}},{key:"setHandles",value:function(){}},{key:"isHTML",value:function(){return!0}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"init",value:function(t){this.graph=t,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(t,e,i,r,n){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,this.moved=!1,!0}},{key:"onMouseMove",value:function(t,e,i,r,n){var s=e-this._draggingX,o=i-this._draggingY;this.options.dragX&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-s)),t.setCurrentMax(t.getVal(t.getMaxPx()-s))},!1,!0,!1),this.options.dragY&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}},{key:"onMouseUp",value:function(t,e,i,r,n){var s=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/s,this.speedY=(i-this._lastDraggingY)/s,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes(function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}},{key:"_persistanceMove",value:function(t){var e=this;e.stopAnimation?e.emit("dragged"):window.requestAnimationFrame(function(){var i=Date.now()-e.time,r=(.5*e.accelerationX*i+e.speedX)*i,n=(.5*e.accelerationY*i+e.speedY)*i;e.options.persistanceX&&t._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(r)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(r)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!0,!1),e.options.persistanceY&&t._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(n)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(n)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!1,!0),t.draw(),i<e.totaltime?(e.emit("dragging"),e._persistanceMove(t)):e.emit("dragged")})}}],[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"init",value:function(t,i){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.shapeType=i.type}},{key:"setShape",value:function(t){this.shapeInfo.shapeType=t}},{key:"onMouseDown",value:function(t,e,i,r,n){var s=this;if(this.shapeType||this.options.url){var a,u,h=this;this.count=this.count||0,e-=t.getPaddingLeft(),i-=t.getPaddingTop();var l={position:[{x:a=t.getXAxis().getVal(e),y:u=t.getYAxis().getVal(i)},{x:a,y:u}],onChange:function(e){t.triggerEvent("onAnnotationChange",e)},locked:!1,selectable:!0,resizable:!0,movable:!0},c=this.options.properties;if(o.extend(!0,l,this.options),this.emit("beforeNewShape",r,l),!this.graph.prevent(!1)){var f=t.newShape(l.type,l,!1,c);this.emit("createdShape",r,f),f&&(h.currentShape=f,h.currentShapeEvent=r),t.once("mouseUp",function(){console.log(s.currentShape),s.currentShape||h.emit("newShape",r,f)})}}}},{key:"onMouseMove",value:function(t,e,i,r){if(this.currentShape){console.log("mv"),this.count++;var n=this.currentShape;this.currentShape=!1,t.selectedSerie&&!n.serie&&n.setSerie(t.selectedSerie),n.resizing=!0,n.options&&n.options.onCreate&&n.options.onCreate.call(n),n.draw(),t.selectShape(n),n.handleMouseDown(this.currentShapeEvent,!0),n.handleSelected=this.options.handleSelected||1,n.handleMouseMove(r,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(29),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._path=document.createElementNS(t.ns,"path"),s.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),this.graph=t,t.dom.appendChild(this._path)}},{key:"setSerie",value:function(t){this.serie=t}},{key:"onMouseDown",value:function(t,e,i,r,n){this.serie&&(this.path="M "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs=[this.serie.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[this.serie.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block"))}},{key:"onMouseMove",value:function(t,e,i,r,n){Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)>25&&(this.path+=" L "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs.push(this.serie.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(this.serie.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d",this.path+" z"),this.findPoints())}},{key:"findPoints",value:function(){for(var t,e=this.serie.waveform,i=[],r=0,n=0,s=e.getLength();n<s;n+=1){r=0;for(var o=0,a=this.xs.length;o<a;o+=1)t=o==a-1?0:o+1,(this.ys[o]<e.getY(n)&&this.ys[t]>e.getY(n)||this.ys[o]>e.getY(n)&&this.ys[t]<e.getY(n))&&e.getX(n)>(e.getY(n)-this.ys[o])/(this.ys[t]-this.ys[o])*(this.xs[t]-this.xs[o])+this.xs[o]&&r++;r%2==1?(i.push(n),this.serie.selectPoint(n,!0,"selected")):this.serie.unselectPoint(n)}this.selected=i,this.emit("selectionProcess",i)}},{key:"onMouseUp",value:function(t,e,i,r){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),s.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),this.graph=t,t.groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(t,e,i,r,n){var s=this.options.zoomMode;if(s){switch(this._zoomingMode=s,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!n&&this.options.onZoomStart(t,e,i,r,n)}}},{key:"onMouseMove",value:function(t,e,i,r,n){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!n&&this.options.onZoomMove(t,e,i,r,n)}},{key:"onMouseUp",value:function(t,e,i,r,n){var s=this;this.removeZone();var o=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:r,mute:n}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var u=!1,h=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o),t.getVal(s.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o),t.getVal(s.x1))},!1,!0,!1),u=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(s.y1))},!1,!1,!0),h=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(s.y2),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(s.y2),t.getVal(s.y1))},!1,!1,!0),h=!0),this.transition(u,h,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(t,e,i,r,n){n||(n={}),n.baseline||(n.baseline=0);var s=n.baseline;"mousePosition"==n.baseline&&(s=this.graph.getYAxis().getVal(r),console.log(s));var o="x"==n.direction,a=!("y"!==n.direction);this.toAxes("handleMouseWheel",[t,e,s],o,a),this.graph.drawSeries()}},{key:"onDblClick",value:function(t,e,i,r,n){var s=this.graph;if(this.emit("beforeDblClick",{graph:s,x:t,y:e,pref:r,e:i,mute:n}),!s.prevent(!1)){if(this.options.transition||this.options.smooth){var o=!1,a=!1;"xtotal"!=r.mode&&"total"!=r.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!0,!1),o=!0),"ytotal"!=r.mode&&"total"!=r.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!1,!0),a=!0);var u=void 0,h=void 0;return"gradualX"!=r.mode&&"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(u=!1,h=!1,"gradualX"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(u=!0,o=!0),"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(h=!0,a=!0),this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())},!1,u,h)),void this.transition(o,a,"dblClick")}var l=this.graph.getXAxis(),c=this.graph.getYAxis();if("xtotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var f=l.getCurrentMin(),p=l.getCurrentMax(),d=l.getVal(t),g=p-f,y=c.getCurrentMin(),v=c.getCurrentMax(),m=c.getVal(e),x=v-y;if("gradualXY"==r.mode||"gradualX"==r.mode){var b=(d-f)/(p-f);f=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,f-g*b),p=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,p+g*(1-b)),l.setCurrentMin(f),l.setCurrentMax(p),l.options.onZoom&&l.options.onZoom(f,p),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval()}if("gradualXY"==r.mode||"gradualY"==r.mode){b=(m-y)/(v-y);y=Math.max(c.getMinValue()-c.getInterval()*c.options.axisDataSpacing.min,y-x*b),v=Math.min(c.getMaxValue()+c.getInterval()*c.options.axisDataSpacing.max,v+x*(1-b)),c.setCurrentMin(y),c.setCurrentMax(v),c.options.onZoom&&c.options.onZoom(y,v),c.cacheCurrentMin(),c.cacheCurrentMax(),c.cacheInterval()}}s.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(t,e,i){var r=this;r.gradualUnzoomStart||(r.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var n=Date.now()-r.gradualUnzoomStart;n>500&&(n=500);var s=Math.sin(n/500*Math.PI/2);r.toAxes(function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*s),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*s),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,t,e),r.graph.draw(),n<500?(r.transition(t,e,i),r.emit("zooming")):(r.emit("zoomed"),r.graph.pluginYieldActiveState(),i&&r.emit(i),r.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(t,e,i,r){var n=this.options.axes;switch(n&&("serieSelected"!=n||this.graph.getSelectedSerie())||(n="all"),n){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var s=this.graph.getSelectedSerie();s&&(i&&("string"==typeof t?s.getXAxis()[t].apply(s.getXAxis(),e):t.apply(s.getXAxis(),e)),r&&("string"==typeof t?s.getYAxis()[t].apply(s.getYAxis(),e):t.apply(s.getYAxis(),e)));break;default:Array.isArray(n)||(n=[n]);var o=!0,a=!1,u=void 0;try{for(var h,l=n[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var c=h.value;c.isX()&&i?"string"==typeof t?c[t].apply(c,e):t.apply(c,e):c.isY()&&r&&("string"==typeof t?c[t].apply(c,e):t.apply(c,e))}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}}}}],[{key:"default",value:function(){return{axes:"all"}}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(i),a=l(r),u=l(n),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.series=[],t.plugins=[],t.currentSlots={},t.requestLevels=new Map,t.update=function(e,i){t.series.forEach(function(t){this.updateSerie(t,e)}),e||t.recalculateSeries(i)},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),c(e,[{key:"init",value:function(t,e){this.graph=t,a.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(t){return this.options.url=t,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(t,e,i,r,n){var s=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},s.on("hide",function(){s._zoneSerie&&s._zoneSerie.hide()}),s.on("show",function(){s._zoneSerie&&s._zoneSerie.show()}),s.setInfo("timeSerieManagerDBElements",r),n||(s._zoneSerie=this.graph.newSerie(t+"_zone",{},o.default.SERIE_ZONE)),this.series.push(s),s}},{key:"registerPlugin",value:function(t,e){if(this.plugins.indexOf(t)>-1)for(var i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}},{key:"updateSerie",value:function(t,e){var i,r=this,n=t.getXAxis().getCurrentMin(),s=t.getXAxis().getCurrentMax(),o=this.getOptimalInterval(s-n),a=this.options.intervals.indexOf(o);this.cleanRegister(a);for(var u=a;u<=a+1;u++){i=this.options.intervals[u];var h=r.computeSlotID(n,i),l=r.computeSlotID(s,i);[[2,5,6],[1,2,4],[0,1,3]].forEach(function(n){for(var s=h-n[0]*(l-h),a=l+n[0]*(l-h),u=s;u<=a&&!(r.computeTimeMin(u,i)>Date.now());)r.register(t,u,i,i==o?n[1]:n[2],!0,e),u++})}this.processRequests()}},{key:"cleanRegister",value:function(t){this.requestLevels&&this.requestLevels.forEach(function(e){e.forEach(function(i,r){i[4]<t&&e.splice(r,1)})})}},{key:"register",value:function(t,e,i,r,n,s){var o=this.computeUniqueID(t,e,i),u=a.default.get(this.options.LRUName,o);(!u||this.computeTimeMax(e,i)>Date.now()&&u.timeout<Date.now()-(s?5e3:1e5)&&1==r)&&this.request(t,e,i,r,o,n)}},{key:"request",value:function(t,e,i,r,n,s){for(var o in this.requestLevels)o!=r&&this.requestLevels[o][n]&&(1!==this.requestLevels[o][n][0]?delete this.requestLevels[o][n]:this.requestLevels[o][n][5]=r);this.requestLevels[r]&&this.requestLevels[r][n]||(this.requestLevels[r]=this.requestLevels[r]||{},this.requestLevels[r][n]=[0,n,t.getName(),e,i,r,t.getInfo("timeSerieManagerDBElements")],s||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var t,e=this,i=1;;){for(var r in this.requestLevels[i])if(1!=this.requestLevels[i][r][0]){t=this.requestLevels[i][r];break}if(t)break;if(++i>10)return}this.requestsRunning++,t&&(t[0]=1,h.ajaxGet({url:this.getURL(t),method:"GET",json:!0}).done(function(n){1==n.status&&(e.requestsRunning--,delete e.requestLevels[i][r],a.default.store(e.options.LRUName,t[1],n.data),e.processRequests(),1==t[5]&&0==Object.keys(e.requestLevels[1]).length&&e.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(t,e){return(t+1)*(e*this.options.nbPoints)}},{key:"computeTimeMin",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getURL",value:function(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var r in i)e=e.replace("<"+r+">",i[r]);return e}},{key:"getOptimalInterval",value:function(t){var e,i=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),r=1/0;return this.options.intervals.forEach(function(t){var n=Math.min(r,Math.abs(t-i));r!==n&&(e=t,r=n)}),e||1e3}},{key:"computeUniqueID",value:function(t,e,i){var r="",n=t.getInfo("timeSerieManagerDBElements");for(var s in n)r+=";"+s+":"+n[s];return t.getName()+";"+e+";"+i+r}},{key:"computeSlotID",value:function(t,e){return Math.floor(t/(e*this.options.nbPoints))}},{key:"computeSlotTime",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getZoneSerie",value:function(t){return t._zoneSerie}},{key:"updateZoneSerie",value:function(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(t){var e=this;this.locked||(this.changed=!1,this.series.map(function(i){e.recalculateSerie(i,t)}),this.changed=!1,e.graph.draw())}},{key:"recalculateSerie",value:function(t,e){var i=t.getXAxis().getCurrentMin(),r=t.getXAxis().getCurrentMax(),n=this.getOptimalInterval(r-i),s=this.computeSlotID(i,n),o=this.computeSlotID(r,n),u=[],h=[];if(!(!e&&n==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=s&&this.currentSlots[t.getName()].max>=o)){s-=2,o+=2,this.currentSlots[t.getName()].min=s,this.currentSlots[t.getName()].max=o,this.currentSlots[t.getName()].interval=n;for(var l=s;l<=o;){var c=a.default.get(this.options.LRUName,this.computeUniqueID(t,l,n));c?(u=u.concat(c.data.mean),h=h.concat(c.data.minmax)):this.recalculateSerieUpwards(t,l,n,u,h),l++}this.changed=!0,t.setData(u),t._zoneSerie&&t._zoneSerie.setData(h)}}},{key:"setIntervalCheck",value:function(t){var e=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){e.update(!0,!1)},t)}},{key:"recalculateSerieUpwards",value:function(t,e,i,r,n){var s=this.options.intervals.slice(0);s.sort();var o=s[s.indexOf(i)+1]||-1;if(o<0)return[];var u=this.computeSlotTime(e,i),h=this.computeSlotTime(e+1,i),l=this.computeSlotID(u,o),c=!1,f=a.default.get(this.options.LRUName,this.computeUniqueID(t,l,o));if(f)for(var p=0,d=f.data.mean.length;p<d;p+=2)if(!(f.data.mean[p]<u)&&(!1===c&&(c=p),f.data.mean[p]>=h))return void(n=(r=r.concat(f.data.mean.slice(c,p))).concat(f.data.minmax.slice(c,p)));return this.recalculateSerieUpwards(t,l,o,r,n)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}],[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}]),e}();e.default=f,t.exports=e.default},n=[t,e,i(45),i(373),i(29),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[e],void 0===(s="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(t,i){!function(t,i){i=i||50,e[t]||(e[t]={},r[t]=0);n[t]=i}(t,i)},t.get=o,t.store=function(t,o,a){return u=t,h=o,l=a,e[u]&&void 0!==r[u]&&n[u]&&(p=i[u],e[u][h]?(s(u,h),e[u][h].data.data=l,e[u][h].data.timeout=Date.now()):(c={data:{data:l,timeout:Date.now()}},void 0===p?(c.prev=c,c.next=c):(c.prev=p.prev,c.next=p.next,p.next.prev=c,p.next=c),i[u]=c,e[u][h]=c,r[u]++),r[u]>n[u]&&p&&(f=p.next,p.next.next.prev=p,p.next=p.next.next,f.next.next=void 0,f.next.prev=void 0,r[u]--)),a;var u,h,l,c,f,p},t.empty=function(t){i=t,e[i]={},r[i]=0;var i},t.exist=function(t){return e[t]};var e={},i={},r={},n={};function s(t,r){var n,s;if(e[t]&&e[t][r])return s=i[t],(n=e[t][r]).prev=s,n.next=s.next,s.next.prev=n,s.next=n,i[t]=n,n.data}function o(t,e){var i;if(null!=(i=s(t,e)))return i}t.default=o})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"init",value:function(t,e){this.graph=t,this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(t,e){this.serie1=t,this.serie2=e}},{key:"setBoundaries",value:function(t,e){this.options.from=t,this.options.to=e}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){var t,e,i,r,n,s,o,a,u,h,l,c=this,f=this.serie1.searchClosestValue(this.getFrom()),p=[],d=[];function g(){!0===h?c.pathsPositive.push([p,d]):!1===h&&c.pathsNegative.push([p,d]),p=[],d=[],h=void 0}for(f?(t=f.dataIndex,e=2*f.xAfterIndex):(t=0,e=0),n=this.interpolate(this.serie1,this.getFrom()),p.push(this.getFrom()),p.push(n),n=this.interpolate(this.serie2,this.getFrom()),d.push(this.getFrom()),d.push(n);t<this.serie1.data.length;t++){for(;e<this.serie1.data[t].length;e+=2){if(this.serie1.data[t][e]>this.getTo()){n=this.interpolate(this.serie1,this.getTo()),s=this.interpolate(this.serie2,this.getTo()),(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.getTo(),n,d[d.length-2],d[d.length-1],this.getTo(),s))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1]),p.push(this.getTo()),p.push(n),d.push(this.getTo()),d.push(s),l=!0;break}if(!u){if(!(u=this.serie2.searchClosestValue(this.serie1.data[t][e])))continue;i=u.dataIndex,r=2*u.xBeforeIndex,n=this.interpolate(this.serie2,this.serie1.data[t][e]),p.push(this.serie1.data[t][e]),p.push(this.serie1.data[t][e+1]),d.push(this.serie1.data[t][e]),d.push(n),h=this.serie1.data[t][e+1]>n}for(a=!1,(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.serie1.data[t][e],this.serie1.data[t][e+1],d[d.length-2],d[d.length-1],this.serie2.data[i][r],this.serie2.data[i][r+1]))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1]);this.serie2.data[i][r]<this.serie1.data[t][e];){if(d.push(this.serie2.data[i][r]),d.push(this.serie2.data[i][r+1]),(r+=2)==this.serie2.data[i].length){a=this.serie2.data[i][r-2],i++,r=0;break}(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.serie1.data[t][e],this.serie1.data[t][e+1],d[d.length-2],d[d.length-1],this.serie2.data[i][r],this.serie2.data[i][r+1]))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1])}!1===a?(p.push(this.serie1.data[t][e]),p.push(this.serie1.data[t][e+1])):(p.push(a),p.push(this.interpolate(this.serie1,a)),u=!1,e-=2,g())}if(l){g();break}(n=this.interpolate(this.serie2,p[p.length-2]))&&(d.push(p[p.length-2]),d.push(n)),g(),e=0,u=!1}var y=this.pathsPositive.reduce(v,"");this.positivePolyline.setPointsPx(y).redraw();y=this.pathsNegative.reduce(v,"");function v(t,e){for(var i=0;i<e[0].length;i+=2)0==i&&(t+="M "),t+=" "+Math.round(c.serie1.getXAxis().getPx(e[0][i]))+", "+Math.round(c.serie1.getYAxis().getPx(e[0][i+1])),i<e[0].length-2&&(t+=" L ");for(i=e[1].length-2;i>=0;i-=2)t+=" L "+Math.round(c.serie2.getXAxis().getPx(e[1][i]))+", "+Math.round(c.serie2.getYAxis().getPx(e[1][i+1])),0==i&&(t+=" z ");return t}this.negativePolyline.setPointsPx(y).redraw()}},{key:"interpolate",value:function(t,e){var i=t.searchClosestValue(e);if(!i)return!1;if(null==i.xMax)return i.yMin;if(null==i.xMin)return i.yMax;var r=(e-i.xMin)/(i.xMax-i.xMin);return(1-r)*i.yMin+r*i.yMax}},{key:"computeCrossing",value:function(t,e,i,r,n,s,o,a){var u=(r-e)/(i-t),h=(a-s)/(o-n),l=r-u*i;if(t==i||n==o)return!1;if(u==h)return{x:t,y1:e,y2:e};var c=(l-(a-h*o))/(h-u);return!(c>i||c<t||c<n||c>o)&&{x:c,y:u*c+l}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}],[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=v(i),c=v(r),f=v(n),p=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s),d=v(o),g=v(a),y=v(u);v(h);function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var x=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var k=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0};function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=function(t){function e(){m(this,e);var t=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,d.default),x(e,[{key:"setData",value:function(){var t=this;return k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(e){e.data=t.data}),this}},{key:"draw",value:function(){return this.eraseMarkers(),this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),A=function(t){function e(){m(this,e);var t=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,g.default),x(e,[{key:"setData",value:function(){var t=this;return k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(e){e.data=t.data}),this}},{key:"draw",value:function(){return this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),_=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","showMarkers","hideMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","eraseMarkers","_recalculateMarkerPoints"];Object.getOwnPropertyNames(d.default.prototype).concat([]).map(function(t){var e;_.indexOf(t)>-1||(S.prototype[t]=(e=t,function(){var t=arguments;this.subSeries.map(function(i){i[e].apply(i,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t))})}))});var w=function(t){function e(t){m(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.series=new Map,i}return M(e,y.default),x(e,[{key:"init",value:function(t){this.graph=t}},{key:"newXAxis",value:function(t){return this.newBottomAxis(t)}},{key:"newYAxis",value:function(t){return this.newLeftAxis(t)}},{key:"newTopAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"top",t)}},{key:"newBottomAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"bottom",t)}},{key:"newLeftAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"left",t)}},{key:"newRightAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"right",t)}},{key:"getOptions",value:function(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return p.extend(!0,e,t)}},{key:"preDraw",value:function(){var t,e,i=this;this.series.forEach(function(r){var n=r.serie;t=n.getXAxis(),e=n.getYAxis();var s=1;for(t.splitNumber&&(s*=t.splitNumber),e.splitNumber&&(s*=e.splitNumber);n.subSeries.length<s;){var o=n.getName()+"_"+n.subSeries.length,a=i.graph.newSerie(o,{},n.getType()||l.default.SERIE_LINE);a.excludedFromLegend=!0,a.styles=n.styles,a.data=n.data,n.getType()==l.default.SERIE_LINE&&(a.markerPoints=n.markerPoints,a.markerFamilies=n.markerFamilies),n.subSeries.push(a)}for(;n.subSeries.length>s;){var u=i.graph.getSerie(n.getName()+"_"+(n.subSeries.length-1));u&&u.kill&&u.kill(),n.subSeries.pop()}!n.getXAxis().splitNumber&&n.getXAxis().splitAxis&&n.getXAxis().splitAxis(),!n.getYAxis().splitNumber&&n.getYAxis().splitAxis&&n.getYAxis().splitAxis(),n.subSeries.map(function(e,i){var r,s;if(n.getXAxis().getSubAxis){var o=i%(t.splitNumber||1);r=n.getXAxis().getSubAxis(o)}else r=n.getXAxis();if(e.setXAxis(r),n.getYAxis().getSubAxis){var a=Math.floor(i/(t.splitNumber||1));s=n.getYAxis().getSubAxis(a)}else s=n.getYAxis();e.setYAxis(s),e.draw(!0)})})}},{key:"newSerie",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];switch(i){case"line":return this.newLineSerie(t,e);case"scatter":return this.newScatterSerie(t,e)}throw"Cannot create a split serie of type "+i}},{key:"newLineSerie",value:function(t,e){var i={type:"lineSerie",serie:new S(t,e,"line")};return this.series.set(t,i),i.serie.init(this.graph,t,e),this.graph.series.push(i.serie),i.serie}},{key:"newScatterSerie",value:function(t,e){var i={type:"scatterSerie",serie:new A(t,e,"scatter")};return this.series.set(t,i),i.serie.init(this.graph,e),this.graph.series.push(i.serie),i.serie}}],[{key:"defaults",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),e}(),P={splitMarks:!0},C=function(t){var e=function(e){function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,i);var n=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,r));return n.axes=[],n.position=e,n.constructorOptions=p.extend(!0,{},P,r),n._splitVal=[],n}return M(i,t),x(i,[{key:"all",value:function(t){if("function"==typeof t)return this.axes.map(t),this}},{key:"splitAxis",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(1);for(var r=e.length;this.axes.length>r;)this.axes.pop().kill(!0,!0);for(;this.axes.length<r;){var n=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(n),n.zoomLock=!0,n.init(this.graph,this.constructorOptions)}var s=0,o=0,a=!0,u=!1,h=void 0;try{for(var l,c=this.axes[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;f.options.marginMin=10,f.options.marginMax=10,0==o&&(f.options.marginMin=0),o==this.axes.length-1&&(f.options.marginMax=0),f.setSpan(s,s=e[o]),f.setMinMaxFlipped(),o++}}catch(t){u=!0,h=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return this._splits=e,this}},{key:"fixGridIntervalBasedOnAxis",value:function(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(t){return this.autoSpread=!!t,this}},{key:"hasAxis",value:function(t){return this.axes.indexOf(t)>-1}},{key:"_splitSpread",value:function(){var t=[],e=0,i=0,r=!0,n=!1,s=void 0;try{for(var o,a=this._splitVal[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;e+=u[1]-u[0]}}catch(t){n=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}var h=!0,l=!1,c=void 0;try{for(var f,p=this._splitVal[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;t.push(i+=(d[1]-d[0])/e)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}t.pop(),this.splitAxis.apply(this,t)}},{key:"setChunkBoundaries",value:function(t){var e=0,i=void 0,r=void 0,n=!0,s=!1,o=void 0;try{for(var a,u=this.axes[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var h=a.value;Array.isArray(t[e])&&t[e].length>1&&!i&&(i=t[e][1]-t[e][0],r=e),1!=t[e].length&&Array.isArray(t[e])?h.forceMin(t[e][0]).forceMax(t[e][1]):(h._mean=t[e],Array.isArray(h._mean)&&(h._mean=h._mean[0])),e++}}catch(t){s=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(s)throw o}}return this._baseWidthVal=i,this._baseWidthIndex=r,this._splitVal=t,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var t=this;this.autoSpread&&this._splitSpread();var e=0,i=void 0,r=void 0,n=void 0;if(this._baseWidthIndex>=0&&(r=this.getSubAxis(this._baseWidthIndex))&&(n=r.getSpan()),r=void 0,this.fixGridFor>=0&&(r=this.getSubAxis(this.fixGridFor))){if(void 0!==r._mean){var s=(r.getSpan()[1]-r.getSpan()[0])/(n[1]-n[0])*this._baseWidthVal;r.forceMin(r._mean-s/2),r.forceMax(r._mean+s/2)}e=r.draw(),i=r.getPrimaryTickUnit()}return this.axes.map(function(s){if(r!==s){if(void 0!==s._mean){var o=(s.getSpan()[1]-s.getSpan()[0])/(n[1]-n[0])*t._baseWidthVal;s.forceMin(s._mean-o/2),s.forceMax(s._mean+o/2)}i&&s.forcePrimaryTickUnit(i),e=Math.max(e,s.draw())}}),this.writeUnit(),e}},{key:"setMinPx",value:function(t){k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMinPx",this).call(this,t);var e=!0,r=!1,n=void 0;try{for(var s,o=this.axes[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.setMinPx(t)}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}}},{key:"setMaxPx",value:function(t){k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMaxPx",this).call(this,t);var e=!0,r=!1,n=void 0;try{for(var s,o=this.axes[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.setMaxPx(t)}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}}},{key:"setShift",value:function(){k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setShift",this).apply(this,arguments);var t=!0,e=!1,r=void 0;try{for(var n,s=this.axes[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;o.setShift.apply(o,arguments)}}catch(t){e=!0,r=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw r}}}},{key:"init",value:function(){k(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var t=0;return this.axes.map(function(e){t=Math.max(t,e.getAxisPosition())}),t}},{key:"getSubAxis",value:function(t){if(this.axes.length<=t)throw"Impossible to reach axis. Index "+t+" is out of range";return this.axes[t]}},{key:"splitNumber",get:function(){return this._splits.length}}]),i}();return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map(function(t){var i;e.prototype[t]=(i=t,function(){var t=arguments;return this.axes.map(function(e){e[i].apply(e,t)}),this})}),e},L=function(t){function e(t,i,r){m(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.topbottom=i,n}return M(e,C(c.default)),x(e,[{key:"getConstructor",value:function(){return c.default}},{key:"getAxisPosition",value:function(){var t=k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"drawLabel",value:function(){k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var t=k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),t}}]),e}(),O=function(t){function e(t,i,r){return m(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return M(e,C(f.default)),x(e,[{key:"getConstructor",value:function(){return f.default}},{key:"drawLabel",value:function(){k(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(t){var e=t;if(this.getLabel()&&this.axes.map(function(i){e=Math.max(i.equalizePosition(t),e)}),this.getLabel())return this.placeLabel(this.left?-e:e),e+this.graph.options.fontSize}}]),e}();p.mix(L,new c.default),p.mix(O,new f.default),e.default=w,t.exports=e.default},n=[t,e,i(45),i(101),i(139),i(5),i(51),i(141),i(29),i(72)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"init",value:function(t,i){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i)}},{key:"checkHSL",value:function(t){var e={},i=void 0,r=void 0,n=void 0;return(i=t.h||t.hue)?(i<1&&(i=Math.round(360*i)),e.hue=i):e.h=0,(r=t.s||t.saturation)?(r>1&&(r/=100),e.saturation=r):e.saturation=.75,(n=t.lightness||t.l)?(n>1&&(n/=100),e.lightness=n):e.lightness=.5,e}},{key:"buildHSLString",value:function(t){return"hsl( "+Math.round(t.h)+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%)"}},{key:"colorizeAll",value:function(t){var e,i,r=this,n=void 0;t.serieTypes?(Array.isArray(t.serieTypes)||(t.serieTypes=[t.serieTypes]),n=(i=this.graph).allSeries.apply(i,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.serieTypes))):n=this.graph.getSeries();if(e=n.length,!t.startingColorHSL){if(!t.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";t.startingColorHSL=this.checkHSL(t.colorHSL)}if(t.endingColorHSL)t.endingColorHSL=Object.assign({},t.startingColorHSL,t.endingColorHSL);else switch(t.affect&&["h","s","l","hue","saturation","lightness"].include(t.affect)||(t.affect="h"),t.affect){case"h":case"hue":t.endingColorHSL={h:t.startingColorHSL.h+300,s:t.startingColorHSL.s,l:t.startingColorHSL.l};break;case"saturation":case"s":var s=void 0;s=t.startingColorHSL.s>.5?0:1,t.endingColorHSL={h:t.startingColorHSL.h,s:s,l:t.startingColorHSL.l};break;case"lightness":case"l":var o=void 0;o=t.startingColorHSL.l>.5?0:.75,t.endingColorHSL={h:t.startingColorHSL.h,s:t.startingColorHSL.s,l:o}}return n.map(function(i,n){if(!i.setLineColor)throw"The serie "+i.getName()+" does not implement the method `startingColor`";var s=r.buildHSLString({h:t.startingColorHSL.h+n/(e-1)*(t.endingColorHSL.h-t.startingColorHSL.h),s:t.startingColorHSL.s+n/(e-1)*(t.endingColorHSL.s-t.startingColorHSL.s),l:t.startingColorHSL.l+n/(e-1)*(t.endingColorHSL.l-t.startingColorHSL.l)});return i.setLineColor(s),s})}}],[{key:"default",value:function(){return{}}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"init",value:function(t,i){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.picks=[];for(var r=0,n=this.options.autoPeakPickingNb;r<n;r++){var s=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});s.draw(),this.picks.push(s)}}},{key:"setSerie",value:function(t){this.serie=t}},{key:"serieRemoved",value:function(t){this.serie==t&&this.picks.map(function(t){t.kill()})}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var t=!0,e=!1,i=void 0,r=[],n=this.serie.getWaveform();if(!n)throw"The serie must have a waveform for the peak picking to work";for(var s=n.getLength(),o=0,a=void 0;o<s;o++)a=n.getY(o),this.serie.options.lineToZero?r.push([n.getX(o),a]):i?a>=i[1]&&t||a<=i[1]&&e?i=[n.getX(o),a]:(a<i[1]&&t||a>i[1]&&e)&&(e?(e=!1,t=!0):(e=!0,t=!1,r.push(i),i=!1),i=[n.getX(o),a]):i=[n.getX(o),a];var u,h,l,c,f=r,p=[],d=f.length;o=0;var g=this.graph.selectedShapes.map(function(t){return t.getProp("xval")});for(f.sort(function(t,e){return e[1]-t[1]}),c=0;o<d;o++)if(u=f[o][0],h=this.serie.getX(u),l=0,a=this.serie.getY(f[o][1]),!(h<this.serie.getXAxis().getMinPx()||h>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(a>this.serie.getYAxis().getMinPx()||a<this.serie.getYAxis().getMaxPx()))){for(;l<p.length&&!(Math.abs(p[l]-h)<this.options.autoPeakPickingMinDistance);l++);if(!(l<p.length))if(g.indexOf(u)>-1)p.push(h);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(f[o][1])-20<0?(this.picks[c].setLabelPosition({x:u,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:u,y:f[o][1],dy:"-15px"})),this.picks[c].setProp("xval",u),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],u,c)):this.picks[c].setLabelText(String(Math.round(1e3*u)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(p.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),this.graph.picks)for(var e=0;e<this.graph.picks.length;e++)this.graph.picks[e].hide()}},{key:"showPeakPicking",value:function(t){if((!this._hidePeakPickingLocked||t)&&this.graph.picks)for(var e=0;e<this.graph.picks.length;e++)this.graph.picks[e].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}}],[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();var a=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var t=this.computePosition(0);this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);var e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}},{key:"setR",value:function(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){}}]),e}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)}])});